{"_id":{"$oid":"647f3fa04e2a75119ea70e47"},"scope":"complete","country":"us","engine":"chrome_vim","product_page_requires_account":"no","shipping_options_div_type":"none","end_delay":4000,"status":"live","old_status":"pending","website_url":"bedbathandbeyond.com","website_name":"Bed Bath & Beyond","honey_id":"27","site_id":{"$oid":"52fb9346ce04fa106a00001c"},"partial_urls":["bedbathandbeyond.com"],"login_recording":null,"signup_recording":null,"title_div":{"selector":"//meta[@property='og:title']/@content","has_custom_selector":true},"brand_div":{"selector":"div#ttBrand","has_custom_selector":true},"price_div":{"selector":".ttPrice","has_custom_selector":true},"returns_div":null,"image_div":{"selector":".ttImage:first","has_custom_selector":true},"alt_images_div":{"selector":".ttImage","has_custom_selector":true},"custom_id_div":null,"extra_info_div":{"selector":"//div[@id='first']//span[contains(@class,'prod-attrib')][contains(@class,'prod-attrib-clearance')] | //div[@id='first']//span[contains(@class,'prod-attrib')][contains(@class,'prod-attrib-exclusive')] | //div[@id='first']//span[contains(@class,'prod-attrib')][contains(@class,'prod-attrib-surcharge')] | //div[@id='first']//a[contains(@href,'FreeShipping')]/span | //div[contains(@class,'ProductDetailsLayout-inline')]//span[contains(text(),'Free Shipping')]","has_custom_selector":true},"weight_div":null,"product_container_div":null,"add_to_cart_recording":[{"type":1001,"info":{"selector":"div#rclModal button.rclCloseBtnWrapper","frame":"","is_optional":"no","interval":"","js_code":"// created by [moises.sanchez] 2020-06-26\r\nvar popupClose = __utils__.findOne(\"div#rclModal button.rclCloseBtnWrapper\");\r\nif (popupClose && !IS_EXTENSION_FLAG) {\r\n  __utils__.mouseEvent('click', popupClose);\r\n}","timeout":"","only_on_checkout_type":"","comment":"","options":null,"checked":null}},{"type":1010,"info":{"selector":"body[ttcolor]","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","get":"// created by [joshua.bracks] 2020-07-23\r\nreturn __ttAttrGet(\"color\");","set":"return __ttAttrSet(fillValue, \"color\");","has_custom_selector":true,"set_during_retrieve_opts":"true","reset_during_retrieve_opts":"no","only_on_checkout_type":"","comment":"","options":null,"checked":null,"current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"color","field_type":""},{"type":1010,"info":{"selector":"body[ttsize]","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","get":"// size [cris.daraban] 2018-11-20\r\nreturn __ttAttrGet(\"size\");","set":"return __ttAttrSet(fillValue, \"size\");","set_during_retrieve_opts":"true","reset_during_retrieve_opts":"no","only_on_checkout_type":"","comment":"","options":null,"checked":null,"has_custom_selector":true,"current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"size","field_type":""},{"type":2,"info":{"selector":"input#qtySelect","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","set_during_retrieve_opts":"no","reset_during_retrieve_opts":"no","only_on_checkout_type":"","comment":"","options":null,"checked":null},"field_key":"quantity","field_type":""},{"type":20,"info":{"tagName":"INPUT","value":"Add to Cart","checked":null,"name":"btnAddToCart","type":"submit","src":"","id":"","title":"","options":null,"selector":"body[ttinstock=\"true\"]","is_optional":"no","frame":"","timeout":"","only_on_checkout_type":"","has_custom_selector":true,"comment":""},"x":950,"y":640,"text":""},{"type":20,"info":{"selector":"//div[@id='rclModal'][//h3[contains(text(),'Added to Cart')]]//button[contains(@class,'rclCloseBtnWrapper')] | //button[contains(@id,'addToCartBtn')]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"","comment":"","options":null,"checked":null,"has_custom_selector":true}}],"add_to_cart_changes_div":null,"remove_from_cart_recording":null,"order_error_divs":[{"selector":"//input[contains(@class,'errorField')]/../../following-sibling::div[contains(@class,'Add')]","overwrite":"text"},{"selector":"//div[contains(@class,'errorField')]/../../../following-sibling::div[contains(@class,'Add')]","overwrite":"text"},{"selector":"//p[contains(text(),'we just ran out of stock')]","overwrite":"text"},{"selector":"div#paymentStep p[class*='Notification']","overwrite":"text"},{"selector":"div#paymentStep p.validationErrorMessage","overwrite":"text"},{"selector":"#shippingStep p.validationErrorMessage","overwrite":"text"},{"selector":"//label[contains(text(),'We do not ship to P.O')]","overwrite":"text"},{"selector":"ul.error li.error","overwrite":"text"},{"selector":"div.ui-dialog.ui-widget div.ui-dialog-titlebar.ui-widget-header span.ui-dialog-title h3.modalTitle","overwrite":"text"},{"selector":"//div[contains(@class,'rclModalContent')]//p[contains(text(),'sorry, we just ran out of stock.')]","overwrite":"text"},{"selector":"p[role=\"alert\"] span.displayBlock","overwrite":"text"}],"notes":"** KNOWN ISSUES: **\r\n\r\nINCORRECT API DATA --> \r\n__ Description __: \r\nThe API fields within SKU data (specifically key \"BEYOND_PLUS_WAS_PRICE\") occasionally do not account for \r\nadditional discounts to already discounted products and will list their prices as higher. \r\nThere is no known fix we've tried everything.\r\n\r\n__ Example: __ \r\nhttps://www.bedbathandbeyond.com/store/product/bee-amp-willow-home-looped-fringe-bath-rug/5537138?categoryId=13435\r\nSelect the color \"Khaki.\"\r\n\r\nOCCASIONAL TIMEOUTS -->\r\n__ Description __:\r\nSometimes these products timeout- sometimes they don't.\r\n\r\n__ Example __:\r\nhttps://www.bedbathandbeyond.com/store/product/courtland-14-piece-comforter-set/5313189?categoryId=16078\r\nhttps://www.bedbathandbeyond.com/store/product/real-simple-reg-faux-wood-36-inch-cordless-shade/5393137?categoryId=15590\r\n\r\n\r\n\r\n## Supported\r\n    ### color / size\r\n        https://www.bedbathandbeyond.com/store/product/camber-5-piece-reversible-quilt-set/3314764?categoryId=16078\r\n        https://www.bedbathandbeyond.com/store/product/quinn-grommet-top-100-blackout-window-curtain-panel/3295773?categoryId=16015\r\n    ### finish\r\n        https://www.bedbathandbeyond.com/store/product/haven-trade-no-tools-bamboo-floor-cabinet/5189773?categoryId=15308\r\n    ### color\r\n        https://www.bedbathandbeyond.com/store/product/salt-trade-3-tier-storage-cart/5251474?categoryId=15308\r\n    ### size\r\n        https://www.bedbathandbeyond.com/store/product/courtland-14-piece-comforter-set/5313189?categoryId=16078\r\n    ### clearance / size\r\n        https://www.bedbathandbeyond.com/store/product/nicole-miller-collette-9-piece-comforter-set/5475480?categoryId=16078\r\n    ### OOS Options\r\n        https://www.bedbathandbeyond.com/store/product/madison-park-reg-amherst-7-piece-comforter-set/3286586?categoryId=16078\r\n    ### Price Changes on Size Attr\r\n        https://www.bedbathandbeyond.com/store/product/madison-park-essentials-merritt-9-piece-reversible-comforter-set/3278913?categoryId=16078\r\n    ### Price Changes on Color Attr\r\n        https://www.bedbathandbeyond.com/store/product/hudson-baby-reg-2-pack-long-sleeve-sleeping-bag/5111487?categoryId=12741\r\n    ### Delivery / Pickup\r\n        https://www.bedbathandbeyond.com/store/product/wamsutta-reg-collective-puffer-4-piece-comforter-set/5450261?categoryId=15502\r\n    ### No Attributes\r\n        https://www.bedbathandbeyond.com/store/product/thinner-reg-by-conair-trade-digital-glass-bathroom-scale-in-silver/5186910?categoryId=13444\r\n        https://www.bedbathandbeyond.com/store/product/green-mountain-coffee-reg-breakfast-blend-coffee-keurig-reg-k-cup-reg-pods-72-count/5477923?categoryId=12052\r\n        https://www.bedbathandbeyond.com/store/product/dailyware-trade-luna-16-piece-drinkware-set/1012394470?categoryId=12125\r\n    ### Discount Hidden\r\n        https://www.bedbathandbeyond.com/store/product/withings-body-cardio-body-composition-heart-rate-amp-wi-fi-smart-scale-with-app/5159827?categoryId=13444\r\n    ### online only\r\n        https://www.bedbathandbeyond.com/store/product/mesa-safe-company-mfl2014e-olk-depository-safe-with-outer-locker-electronic-lock/1044975999?categoryId=15414\r\n        https://www.bedbathandbeyond.com/store/product/mesa-safe-company-steel-vertical-under-counter-depository-safe-in-black/1044976118?categoryId=15414\r\n    ### gift card\r\n        https://www.bedbathandbeyond.com/store/product/tie-the-knot-registry-gift-card-25/5384105?skuId=67849109&poc=815724\r\n    ### size|dropdown\r\n        https://www.bedbathandbeyond.com/store/product/real-simple-reg-faux-wood-36-inch-cordless-shade/5393137?categoryId=15590\r\n    ### Special Delivery Options\r\n        https://www.bedbathandbeyond.com/store/product/icomfort-reg-by-serta-blue-hybrid-5000-pillow-top-mattress/5180257?categoryId=14160&size=CAL-KING\r\n\r\n## Out of Stock\r\n    ### No Attributes\r\n        https://www.bedbathandbeyond.com/store/product/mrs-meyer-39-s-reg-clean-day-10-oz-lavender-foaming-hand-soap/1043568772?categoryId=14550\r\n    ### OOS online\r\n        https://www.bedbathandbeyond.com/store/product/safavieh-jackson-4-drawer-storage-unit/1040697451?keyword=surcharge\r\n\r\n##Non-Supported\r\n    ### monogram\r\n        https://www.bedbathandbeyond.com/store/product/wamsutta-reg-icon-pimacott-reg-monogram-bath-towel-collection/806341?categoryId=13953\r\n        https://www.bedbathandbeyond.com/store/product/monogrammed-wamsutta-reg-hygro-reg-his-or-hers-duet-bath-towel-collection/807139?categoryId=13953\r\n        https://www.bedbathandbeyond.com/store/product/monogrammed-wamsutta-reg-hygro-reg-his-or-hers-duet-bath-towel/5255738?skuId=66447818#\r\n    ### multi product page\r\n        https://www.bedbathandbeyond.com/store/product/lavazza-reg-coffee-amp-espresso-for-nespresso-reg-originaline-brewers/818655?categoryId=12052\r\n        https://www.bedbathandbeyond.com/store/product/the-original-donut-shop-reg-keurig-k-cup-reg-pods/236848?categoryId=12052\r\n    ### additional shipping charge\r\n        https://www.bedbathandbeyond.com/store/product/honeywell-small-water-resistant-fire-and-theft-safe/1042482246?categoryId=15414\r\n    ### entryway Delivery\r\n        https://www.bedbathandbeyond.com/store/product/pulaski-curio-in-pacific-heights-brown/3341682?categoryId=13503\r\n        https://www.bedbathandbeyond.com/store/product/mesa-safe-company-mbf1512c-burglary-fire-safe-with-combination-lock/1044975920?categoryId=15414\r\n        https://www.bedbathandbeyond.com/store/product/mesa-safe-company-mbf3820e-6-4-cubic-foot-burglary-fire-safe-with-electronic-lock/1047335516?categoryId=15414\r\n    ### Unavailable\r\n        https://www.bedbathandbeyond.com/store/product/community-coffee-reg-coffee-chicory-blend-pods-for-single-serve-coffee-makers-18-count/1042524083\r\n        https://www.bedbathandbeyond.com/store/product/wamsutta-reg-400-thread-count-sheet-set/3222861\r\n        https://www.bedbathandbeyond.com/store/product/flipbelt-reg-running-and-workout-belt/3263852\r\n        https://www.bedbathandbeyond.com/store/product/edie-rose-by-rachel-bilson-bloom-dinnerware-collection/211961\r\n    ","sku_identifier":{"selector":"#ttSKU","has_custom_selector":true},"mpn_identifier":null,"gtin_identifier":{"selector":"#ttUPC","has_custom_selector":true},"final_price_div_auth":null,"shipping_price_div_auth":null,"handling_price_div_auth":null,"checkout_recording_auth":null,"currency_format":"$AMOUNT","recording_start_urls":{"noauthCheckout":"https://www.bedbathandbeyond.com/store/cart"},"recording_end_urls":{"addToCart":"http://www.bedbathandbeyond.com/store/product/keurig-reg-k10-mini-plus-brewing-system/124110?categoryId=12855","noauthCheckout":"https://www.bedbathandbeyond.com/store/checkout"},"category_wrapper_div":{"selector":"div.ttCategory","has_custom_selector":true},"address_check_auth":null,"final_sale_div":null,"original_price_div":{"selector":".ttOriginalPrice","has_custom_selector":true},"discounted_price_div":{"selector":".ttPrice","has_custom_selector":true},"sales_tax_div_auth":null,"shipping_estimate_div_auth":null,"pickup_div":null,"non_purchasable_div":{"selector":"//div[@id=\"ttNonPurchasable\"] | //a[contains(@href,'productitemlist')][contains(text(),'Choose Your Items Below')] | //div[contains(@class,'ProductDetailsLayout')]/p[contains(text(),'no longer for sale online')] | //span[contains(@class,\"PDPPrice\") and contains(text(), 'Price in Cart')] | //span[contains(@class,\"prod-attrib prod-attrib-surcharge\")] | //span[@title=\"pdpMinQtyAriaLabel\"] ","has_custom_selector":true},"p_free_shipping_div":null,"errors_meta":[],"data_converters":{"shipping_first_name":[{"type":"simple","converter_id":"no_conversion"}],"shipping_last_name":[{"type":"simple","converter_id":"no_conversion"}],"shipping_address":[{"type":"simple","converter_id":"5a3812b6219e993246448333"}],"shipping_city":[{"type":"simple","converter_id":"no_conversion"}],"shipping_zip":[{"type":"simple","converter_id":"no_conversion"}],"shipping_telephone":[{"type":"simple","converter_id":"no_conversion"}],"shipping_state":[{"type":"simple","converter_id":"51ebf9e755a0f90acc00000c"}],"billing_first_name":[{"type":"simple","converter_id":"no_conversion"}],"billing_last_name":[{"type":"simple","converter_id":"no_conversion"}],"billing_address":[{"type":"simple","converter_id":"5a3812b6219e993246448333"}],"billing_city":[{"type":"simple","converter_id":"no_conversion"}],"billing_state":[{"type":"simple","converter_id":"51ebf9e755a0f90acc00000c"}],"billing_zip":[{"type":"simple","converter_id":"no_conversion"}],"expiry_date_month":[{"type":"simple","converter_id":"51ebf54e55a0f90acc000006"}],"expiry_date_year":[{"type":"simple","converter_id":"5220c4b755a0f973f5000005"}],"card_number":[{"type":"simple","converter_id":"no_conversion"}]},"logo":null,"delays":{"add_to_cart":3700,"product_opts":295000,"add_to_cart_field_press":"","product_opts_field":""},"user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36","user_agent_scope":["cart","purchase"],"needed_banned_remote_urls":[],"contact":"customer.service@bedbath.com","ship_est_start_time":{"$date":"2018-11-28T07:30:31.068Z"},"est_stats_start_time":{"$date":"2018-11-28T07:30:34.214Z"},"checkout_information_auth":null,"regression_tests_status":{"daily_noauth_simple_test":{"at":{"$date":"2020-07-10T22:28:11.099Z"},"status":"ok","issues":null,"consecutive_failures":20,"assigned_to_worker_id":null,"cart_failures":0,"purchase_failures":0,"estimation_failures":0},"local_success_test":{"at":{"$date":"2020-01-09T08:57:38.223Z"},"status":"ok","issues":null,"consecutive_failures":0,"cart_failures":0,"purchase_failures":0,"estimation_failures":0},"feed_test":{"at":{"$date":"2020-10-29T18:10:46.772Z"},"status":"failed","issues":["/cart with random product on LIVE recipe failed."],"cart_failures":0,"purchase_failures":0,"estimation_failures":0},"noauth_success_test":{"at":{"$date":"2020-09-22T01:20:52.149Z"},"status":"ok","issues":null,"cart_failures":0,"purchase_failures":0,"estimation_failures":0},"auth_success_test":{"at":{"$date":"2020-02-05T06:38:13.563Z"},"status":"ok","issues":null,"cart_failures":0,"purchase_failures":0,"estimation_failures":0}},"checkout_dep_fields":null,"regression_products":[{"url":"https://www.bedbathandbeyond.com/store/product/camber-5-piece-reversible-quilt-set/3314764?categoryId=16078","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/intelligent-design-malea-reversible-shaggy-faux-fur-comforter-set/5394476?categoryId=16384","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/bee-amp-willow-home-looped-fringe-bath-rug/5537138?categoryId=13435","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/permasteel-80-qt-rolling-patio-cooler-cart/5268685?categoryId=12442","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/madison-park-reg-amherst-7-piece-comforter-set/3286586?categoryId=16078","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/madison-park-essentials-merritt-9-piece-reversible-comforter-set/3278913?categoryId=16078","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/hudson-baby-reg-2-pack-long-sleeve-sleeping-bag/5111487?categoryId=12741","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/wamsutta-reg-collective-puffer-4-piece-comforter-set/5450261?categoryId=15502","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/aeropress-coffee-espresso-maker/126430?categoryId=12053","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/withings-body-cardio-body-composition-heart-rate-amp-wi-fi-smart-scale-with-app/5159827?categoryId=13444","source":"manual"},{"url":"https://www.bedbathandbeyond.com/store/product/real-simple-reg-faux-wood-36-inch-cordless-shade/5393137?categoryId=15590","source":"manual"}],"store_options":{"images_on_add_to_cart":"yes","disable_disk_cache":null,"creates_store_account":null,"existing_account_emails_not_allowed":null,"retry_on_info_failures":"yes","final_price_before_coupon":null,"final_price_includes_gift_card":null,"use_us_proxy":null,"disable_product_quantity":false,"disable_daily_regressions":null,"noauth_ends_with_success":null,"auth_ends_with_success":null,"local_ends_with_success":null,"new_coupon":null,"disable_image_proxy":null,"overwrite_sales_tax":null,"sync_noauth_and_auth":null,"add_app_to_ua":null,"one_coupon_only":null,"shoprunner_on_shipping_opts":null,"continue_on_alerts":null,"honey_billing_address":null,"use_chrome":null,"is_variantless":null},"product_opts_retrieval_js":"$('#ttHidden').remove();\r\n// **************************************************************\r\nprodOptsBlock = true;  // ***************************************\r\n// ************* [START ProdOpts.js Logic] **********************\r\n// **************************************************************\r\n\r\n\r\n\r\n// Step 0: Find the Data\r\n// Check the DOM for script elements and the Network tab for API calls that return Product Data\r\n// Getting product data via the website's API will product a recipe with greater longevity than relying on anything found on the DOM\r\n// Search for commonly keywords like product and sku\r\n// You have to be able to get a \"price\", \"image\" and \"alt_images\" for every product variant.  \"weight\" and \"extra_info\" are optional.\r\n\r\n\r\n// Step 1\r\n//   ######   ######## ######## \r\n//  ##    ##  ##          ##    \r\n//  ##        ##          ##    \r\n//  ##   #### ######      ##    \r\n//  ##    ##  ##          ##    \r\n//  ##    ##  ##          ##    \r\n//   ######   ########    ##    \r\n//              Get the Data\r\n\r\nvar _data = _ttRequestData(); // Querying data object from API\r\nif (!_data) { // If API request fails: terminate\r\n    __utils__.echo('--- ERROR! - PRODUCT NOT SUPPORTED - API REQUEST FAILED');\r\n    __utils__.echo('escapeVim');\r\n    return false;\r\n}\r\n\r\n\r\n// Step 2\r\n//   #######                                   \r\n//   #        ####  #####  #    #   ##   ##### \r\n//   #       #    # #    # ##  ##  #  #    #   \r\n//   #####   #    # #    # # ## # #    #   #   \r\n//   #       #    # #####  #    # ######   #   \r\n//   #       #    # #   #  #    # #    #   #   \r\n//   #        ####  #    # #    # #    #   #   \r\n//                           Format the Data  \r\n\r\n// Break the data down in a way that is easy to understand\r\n// Formatting data will likely overlap with the \"BUILD\" step if all of the data cannot be found in the same place\r\n\r\n// Breaking data retrieved from API call down into parts\r\nvar _opts = _data && _data['SKU_DETAILS'] || [];\r\n\r\nvar _productDetails = _data && _data[\"PRODUCT_DETAILS\"];                                // Primary list of product variants\r\nvar _additionalOpts = _productDetails && _productDetails[\"SKU_FOR_SWATCH_ALL\"] || [];   // Supplimentary list of product variants\r\n\r\nvar _variations = _productDetails && _productDetails[\"VARIATIONS\"]; // List of product attributes with values\r\n\r\nvar _allColors = _variations && _variations[\"ALL_COLORS\"];          // color values\r\nvar _allSizes = _variations && _variations[\"ALL_SIZES\"];            // size values\r\n\r\n// Sometimes the API sends incorrect data or blank Image IDs (that default to white even when the color is not).\r\n// In these cases we don't support color as an attribute.\r\nfor (var iPos = 0; _allColors && iPos < _allColors.length; iPos++) {\r\n  color = _allColors[iPos];\r\n  if (!color['SWATCH_IMAGE_ID'] && color['COLOR'] != \"WHITE\") {\r\n    _allColors = [];\r\n    break;\r\n  }\r\n}\r\n\r\n// Formatting size values\r\nfor (var iPos = 0; iPos < _allSizes.length; iPos++) _allSizes[iPos] = _ttUnescape(_allSizes[iPos]);\r\n\r\n// STEP 3\r\n        //  ########  ##     ## #### ##       ########  \r\n        //  ##     ## ##     ##  ##  ##       ##     ## \r\n        //  ##     ## ##     ##  ##  ##       ##     ## \r\n        //  ########  ##     ##  ##  ##       ##     ## \r\n        //  ##     ## ##     ##  ##  ##       ##     ## \r\n        //  ##     ## ##     ##  ##  ##       ##     ## \r\n        //  ########   #######  #### ######## ########  \r\n        //                   Build preparedProductData\r\n\r\n// Formatting of data is likely to be completed during this step\r\n// preparedProductData must be declared as a global object\r\n// Each variant must be assigned by its fillValues separated by \"--XX--\"\r\n// In this case, we are working with \"color\" and \"size\"\r\n// Since \"color\" is a swatch, it is represented by an image url --> https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_8568783292872m:Swatch?$32$&wid=32&hei=32\r\n// The \"size\" attribute does not have a swatch and is represented by text --> \"Small\"\r\n// An object key matching the options mentioned above should read as follows:\r\n// \"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_8568783292872m:Swatch?$32$&wid=32&hei=32--XX--Small\"\r\n// If product only has one attribute, only the attribute is required for the key.  \r\n// In the case of a product with only the size attribute, the key would simply be \"Small\"\r\n// price: can be a number of a number string\r\n\r\n// preparedProductData objects take the following values\r\n// *** REQUIRED VALUES\r\n// image: image url string\r\n// alt_images: array of image url strings\r\n// *** OPTIONAL VALUES\r\n// weight: number of number strings\r\n// extra_info: string\r\n\r\n// A completed preparedProductData object will look something like this:\r\n// {\r\n//   \"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_8568783292872m:Swatch?$32$&wid=32&hei=32--XX--Small\": {\r\n//     \"price\": \"20.99\",\r\n//     \"image\": \"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_3004738133960c__1_imageset?$690$&wid=690&hei=690\",\r\n//     \"alt_images\": [\"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_3004738133960c__1_imageset?$690$&wid=690&hei=690\"],\r\n//     \"weight\": 5,\r\n//     \"extra_info\": \"this is not a real product\"\r\n//   },\r\n//   \"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_8568783292872m:Swatch?$32$&wid=32&hei=32--XX--Large\": {\r\n//     \"price\": \"20.99\",\r\n//     \"image\": \"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_3004738133960c__1_imageset?$690$&wid=690&hei=690\",\r\n//     \"alt_images\": [\"https://b3h2.scene7.com/is/image/BedBathandBeyond/lf_3004738133960c__1_imageset?$690$&wid=690&hei=690\"],\r\n//     \"weight\": 5,\r\n//     \"extra_info\": \"this is not a real product\"\r\n//   }\r\n// }\r\n\r\n\r\n\r\n// Declaring _ttValueMap --> Populated during _ttBuildPreparedProductData\r\n_ttValueMap = {};                                         // { elVal: elText } pair map for use in Get/Set - Matches swatch urls to swatch names\r\npreparedProductData = _ttBuildPreparedProductData();\r\nppdKeys = Object.keys(preparedProductData);               // Used in _ttAttrGet to iterate preparedProductData\r\n\r\n\r\n// We perform an existence check to ensure _ttPopulateFillValuesAndOptsSorted doesn't reference a null value.\r\n// If this is false, preparedProductData is not populated.\r\nif (!ppdKeys.length) {\r\n  return false; \r\n}\r\n  \r\n\r\n//\r\n__utils__.echo(JSON.stringify(preparedProductData));\r\n\r\n\r\n// Step 4\r\n//   #######  ########   ######      ###    ##    ## #### ######## ######## \r\n//  ##     ## ##     ## ##    ##    ## ##   ###   ##  ##       ##  ##       \r\n//  ##     ## ##     ## ##         ##   ##  ####  ##  ##      ##   ##       \r\n//  ##     ## ########  ##   #### ##     ## ## ## ##  ##     ##    ######   \r\n//  ##     ## ##   ##   ##    ##  ######### ##  ####  ##    ##     ##       \r\n//  ##     ## ##    ##  ##    ##  ##     ## ##   ###  ##   ##      ##       \r\n//   #######  ##     ##  ######   ##     ## ##    ## #### ######## ######## \r\n//                          Organize the Data for use in Attribute Get/Sets\r\n\r\n_ttFillValues = {};   // Used in get/sets. Holds current variant \"fillValues\" ---> example: {color: \"blue\", size: \"XXL\"} - Values are updated during _ttAttrSet\r\n_ttOptsSorted = {};   // Used in get/sets to set order of \"result\" values to match the order values are presented in on the DOM\r\n_ttPopulateFillValuesAndOptsSorted();\r\n\r\n_ttAttributes = Object.keys(_ttFillValues);\r\nif (_ttAttributes.length == 2) {\r\n    _ttAttributes = [\"color\", \"size\"];\r\n}\r\n\r\n// Checking to see if product keys exist. We then use this to append the body with a ttinstock attribute to use as an \"addToCart\" button\r\n// We want to do this because TwoTap renders the addToCart button as disabled even if we specifically target it to render with the disabled option\r\n// aka it wont test on two tap\r\n// So instead of using the disabled button, we use the body with an ttinstock attribute Jack L [04-28-2021]\r\nif(ppdKeys.length) {\r\n  $('body').attr('ttinstock', true);\r\n}\r\n\r\n\r\n__ttUpdateHidden = function() {\r\n    \r\n  // Product Attribute Update\r\n  var fillValues = [];\r\n  if (_ttFillValues[\"color\"] !== undefined) {\r\n    fillValues.push(_ttFillValues[\"color\"]);\r\n  }\r\n  if (_ttFillValues[\"size\"] !== undefined) {\r\n    fillValues.push(_ttFillValues[\"size\"]);\r\n  }\r\n  var variant = preparedProductData[fillValues.join(\"--XX--\")];\r\n  if (!variant) {\r\n    return;\r\n  }\r\n  \r\n  // Product SKU/UPC Update\r\n  if (variant.upc) {\r\n    $('#ttUPC').text(variant.upc);\r\n  }\r\n  if (variant.sku) {\r\n    $('#ttSKU').text(variant.sku);\r\n  }\r\n  \r\n  \r\n  // Product Field Housekeeping\r\n  if (!__utils__.findOne('.ttPrice')){\r\n    $('#ttHidden').append(\"<div class='ttPrice'></div>\");\r\n  }\r\n  \r\n  if (!__utils__.findOne('.ttOriginalPrice')){\r\n    $('#ttHidden').append(\"<div class='ttOriginalPrice'></div>\");\r\n  }\r\n  \r\n  if (!__utils__.findOne('.ttImages')){\r\n    $('#ttHidden').append(\"<div class='ttImages'></div>\");\r\n  } \r\n  \r\n  \r\n  // Product Field Injection\r\n  if (variant.price) {\r\n     $('.ttPrice').text(variant.price);\r\n  }\r\n  \r\n  if (variant.originalPrice) {\r\n     $('.ttOriginalPrice').text(variant.originalPrice);\r\n  }\r\n  \r\n  if (variant.image) {\r\n    $('.ttImages img').remove();\r\n    $('.ttImages').append(\"<img class='ttImage' src='\" + variant.image + \"'>\");\r\n    \r\n    var alt_images = variant.alt_images || [];\r\n    for (var iPos = 0; iPos < alt_images.length; iPos++) {\r\n      $('.ttImages').append(\"<img class='ttImage' src='\" + alt_images[iPos] + \"'>\");\r\n    }\r\n    \r\n  }\r\n};\r\n\r\n$('body').append('<div id=\"ttHidden\" style=\"display: none;\"></div>');\r\n$('#ttHidden').append('<div id=\"ttUPC\"></div>');\r\n$('#ttHidden').append('<div id=\"ttSKU\"></div>');\r\n\r\nif (_ttFillValues[\"color\"]) {\r\n  $('body').attr('ttcolor', true);\r\n}\r\n\r\nif (_ttFillValues[\"size\"]) {\r\n  $('body').attr('ttsize', true);\r\n}\r\n\r\n__ttUpdateHidden();\r\n\r\n\r\n\r\n// **************************************************************\r\nprodOptsBlock = false;  // **************************************\r\n// ************* [END ProdOpts.js Logic] ************************\r\n// **************************************************************\r\n\r\n\r\n\r\nfunction _ttRequestData(skuId) { // Builds an API GET request url from the DOM and gets the product data view the Bed Bath and Beyond API\r\n    // Getting productID from DOM\r\n    var productURLRegex = /.*\\/(\\d+)(?:\\?|\\#|$).*/;\r\n    var productIDURL = (__utils__.findOne('meta[property=\"og:url\"]:not([content=\"https://www.bedbathandbeyond.com/store\"])') && \r\n        __utils__.findOne('meta[property=\"og:url\"]').attr('content')) || \r\n        location.href;\r\n    var productID = productURLRegex.exec(productIDURL) && productURLRegex.exec(productIDURL)[1];\r\n    if (!productID) {\r\n        __utils__.echo(\"UNABLE TO FIND PRODUCT ID\");\r\n        return false;\r\n    }\r\n    \r\n    var url = \"https://www.bedbathandbeyond.com/apis/services/composite/v1.0/product-sku?product=\" + productID;\r\n    if (productIDURL.match('buybuybaby')) {\r\n        url = \"https://www.buybuybaby.com/apis/services/composite/v1.0/product-sku?product=\" + productID;\r\n    }\r\n    \r\n    // If a skuId is passed, it is added as an additional parameter to the url\r\n    // the skuId represents a specific variable of a productID\r\n    // \"SKU_ID\" is found during preparedProductData while iterating options returned by _ttRequestData under SKU_DETAILS.SKU_ID\r\n    if (skuId) {\r\n        url += \"&skuId=\" + skuId;\r\n    }\r\n    \r\n    // Getting data object from API\r\n    var _AJAXResponse = request({ url: url, method: \"GET\"});\r\n    \r\n    // Checking data object for errors\r\n    if (_AJAXResponse.error) {      \r\n        // Log error and EXIT if data object fails\r\n        __utils__.echo(\"[REQUEST ERROR]\" + _AJAXResponse.error);\r\n        return false;\r\n    }\r\n    \r\n    // Getting data object from response body and returning\r\n    var data = _AJAXResponse.body && _AJAXResponse.body.data;\r\n    return data;\r\n}\r\n\r\nfunction _ttBuildPreparedProductData() {\r\n    // Declare the preparedProductData object.  This will be populated and returned by the function.\r\n    var preparedProductData = {};\r\n    \r\n    \r\n    // ****************************************************************************************************\r\n    // In this case, variables that are to be used by _ttBuildPreparedProductData must be declared before calling the function\r\n    // These items, created in the \"FORMAT\" phase can also be built during _ttBuildPreparedProductData\r\n    // This funciton was created specifically for Bed Bath and Beyond and is not a copy/paste function\r\n    // However, it should serve to illustrate what is required to populate the preparedProductData object\r\n    // ****************************************************************************************************\r\n    \r\n    \r\n    for (var iPos = 0; iPos < _opts.length; iPos++) { // Formatting data and assigning to preparedProductData and _ttFillValues variables\r\n        var option = _opts[iPos];\r\n        var optionExpanded; // Only used if price variable cannot be found within option\r\n        \r\n        // Most stores with a solid product API have some version of \"inStock\" for each product variant\r\n        // Bed Bath and Beyond marks each variant with \"ONLINE_INVENTORY\": \"true\" or \"ONLINE_INVENTORY\": \"false\"\r\n        // Since these values are strings, a simple \"if (option[\"ONLINE_INVENTORY\"]) is not sufficient as it would always return \"truthy\"\r\n        var inStock = option[\"ONLINE_INVENTORY\"] == \"true\";\r\n        if (!inStock) { // Skip out of stock items\r\n            continue;\r\n        }\r\n        \r\n        // optionKeys is an array that will hold the attribute fillValues used to build the preparedProductData key\r\n        // this: [\"https://www.bbbj/colorvalue.jpeg\", \"sizeValue\"] \r\n        // will be changed to this: \"https://www.bbbj/colorvalue.jpeg--XX--sizeValue\"\r\n        // by using the join method like this: optionKeys.join(\"--XX--\")\r\n        var optionKeys = [];            // Used to build preparedProductData key\r\n       \r\n        var color = option[\"COLOR\"];\r\n        var size = _allSizes && _allSizes.length && _ttUnescape(option[\"SKU_SIZE\"]) || \"\"; // changing html escape values into their proper characters\r\n\r\n        // Getting preparedProductData object values\r\n        // Each object within preparedProductData requires values for price, image, alt_images, weight and extra_info\r\n        // if weight and extra_info cannot be found, the keys still must be assigned to the object as either false, 0 or \"\"\r\n        // Any of these values returning undefined or null can cause the variant to be skipped by VIM\r\n\r\n\r\n        // Determining price  ****************************\r\n        // The price value is not always easy to determine\r\n        // Some APIs will plainly return a price for each variant where others return price modifiers\r\n        // Bed Bath and Beyond does both, but not for every object, so finding and compiling price was particularly difficult\r\n        // When building preparedProductData, it's important to keep in mind that, if it can render on the DOM, it came from somewhere else first\r\n        // In this case, some products were only returning \"BEYOND_PLUS_DIS\" and \"BEYOND_PLUS_IS_PRICE\" which added together make up the regular price\r\n        // Some products did not have these value at all.  However, a bit of digging in the network tab and a lot of clickinng around the page\r\n        //    revealed that some variant prices were being retrieved via additional API calls by passing the skuId, found within this object as \"SKU_ID\"\r\n        //    as an additional parameter.  \r\n        // For many products, this extra call is not required, so ONLY in cases where the price cannot be calculated, we make an additional call.\r\n        \r\n        \r\n        var bedBathBeyondPrice = parseFloat(option[\"IS_PRICE\"] && option[\"IS_PRICE\"].replace(/[\\$\\,]+/gi, ''));\r\n        var buyBuyBabyPrice = parseFloat(option[\"display_LOW_PRICE\"] && option[\"display_LOW_PRICE\"].replace(/[\\$\\,]+/gi, ''));\r\n        __utils__.echo('bedBathBeyondPrice: ' + bedBathBeyondPrice)\r\n        __utils__.echo('buyBuyBabyPrice: ' + buyBuyBabyPrice)\r\n        \r\n        var price = bedBathBeyondPrice ? bedBathBeyondPrice : buyBuyBabyPrice;\r\n        price = price && parseFloat(price).toFixed(2);\r\n        __utils__.echo('PRICE: ' + price)\r\n        \r\n        if (!price) {\r\n            // Returns a product data object similar to original _data object retrieved during \"Step 1: Get Data\".\r\n            // This new optionData object features more detailed information on the current \"option\", including exact price information.\r\n            // To avoid making unneccessary get requests, this step is only made when we cannot calculate price by adding the discount to the discounted price\r\n            var skuId = option[\"SKU_ID\"];\r\n            var optionData = _ttRequestData(skuId); \r\n            optionExpanded = optionData && optionData[\"SKU_DETAILS\"] && optionData[\"SKU_DETAILS\"][iPos];\r\n            price = parseFloat(optionExpanded[\"IS_PRICE\"] && optionExpanded[\"IS_PRICE\"].replace(/[\\$\\,]+/gi, ''));\r\n        }\r\n        __utils__.echo('SKU_DETAILS -> PRICE: ' + price)\r\n        \r\n        var originalPrice = parseFloat(option[\"WAS_PRICE\"] && option[\"WAS_PRICE\"].replace(/[\\$\\,]+/gi, ''));\r\n        \r\n        // Sometimes for products with Beyond Plus discount, the key WAS_PRICE does not appear. This will calculate the original price.\r\n        if(!originalPrice){\r\n            var beyondPlusPrice = parseFloat(option[\"BEYOND_PLUS_IS_PRICE\"] && option[\"BEYOND_PLUS_IS_PRICE\"].replace(/[\\$\\,]+/gi, ''));\r\n            var beyondPlusDisount = parseFloat(option[\"BEYOND_PLUS_DIS\"] && option[\"BEYOND_PLUS_DIS\"].replace(/[\\$\\,]+/gi, ''));\r\n            var originalPrice = beyondPlusPrice + beyondPlusDisount;\r\n        }\r\n        \r\n        __utils__.echo('ORIGINAL PRICE: ' + originalPrice);\r\n\r\n        // Getting images ******************************\r\n        // Images are rarely given by an API as an entire string.\r\n        // Normally, they are returned as a partial that can be used to compile a complete image url\r\n        var imageBase = \"https://b3h2.scene7.com/is/image/BedBathandBeyond/\";\r\n        var imageTail = \"?$&wid=2000&hei=2000\";\r\n\r\n        // Building current option image\r\n        var image = option[\"SCENE7_URL\"] && imageBase + option[\"SCENE7_URL\"] + imageTail;\r\n\r\n        // Building current option alt images\r\n        // \"ALT_IMG_SORTED\" may be null.  In this case, return an empty array to avoid crashing\r\n        var alt_images = option[\"ALT_IMG_SORTED\"] || [];\r\n        for (var jPos = 0; jPos < alt_images.length; jPos++) {\r\n            var current = alt_images[jPos];\r\n            alt_images[jPos] = imageBase + current + imageTail;\r\n        }\r\n        \r\n        // Getting product weight from _additionalOpts\r\n        var weight = \"\";\r\n        var UPC = \"\";\r\n        var SKU = \"\";\r\n        for (var jPos = 0; jPos < _additionalOpts.length; jPos++) {\r\n            var current = _additionalOpts[jPos];\r\n            var currentColor = current[\"COLOR\"];\r\n            var currentSize = _ttUnescape(current[\"SKU_SIZE\"]);\r\n            if ((!color || currentColor == color) && (!size || currentSize == size)) {\r\n                // If weight is undefine or null, set to \"\"\r\n                weight = current[\"CASE_WEIGHT\"] || \"\";\r\n                UPC = current[\"UPC\"] || \"\";\r\n                SKU = current[\"SKU_ID\"] || \"\";\r\n                break;\r\n            }\r\n        }\r\n        \r\n        // Building preparedProductData object key\r\n        if (color && _allColors.length) { // Add color fillValue key to optionKeys and assign \"elText\" value to _ttValueMap\r\n            var colorSwatch;\r\n            for (var jPos = 0; jPos < _allColors.length; jPos++) {\r\n                var currentColor = _allColors[jPos];\r\n                if (currentColor[\"COLOR\"] == color) {\r\n                    var colorId = currentColor[\"SWATCH_IMAGE_ID\"];\r\n                    colorSwatch = \"https://b3h2.scene7.com/is/image/BedBathandBeyond/\" + colorId + \"?$32$&wid=32&hei=32\";\r\n                }\r\n            }\r\n\r\n            _ttValueMap[colorSwatch] = color;\r\n            optionKeys.push(colorSwatch);\r\n        }\r\n        if (size) { // Add size fillValue key to optionKeys\r\n            optionKeys.push(size);\r\n        }\r\n        \r\n        // Assigning values to preparedProductData object by optionKeys\r\n        // A product with no options will return only one preparedProductData object \"NO COLOR--XX--NO SIZE\"\r\n        //    In cases where only one option is returned, the product will render without attributes.\r\n        //    If no options are returned, VIM will fallback to selectors\r\n        preparedProductData[optionKeys.join(\"--XX--\")] = {\r\n            price: price,\r\n            originalPrice: originalPrice,\r\n            image: image,\r\n            alt_images: alt_images,\r\n            weight: weight,\r\n            extra_info: \"\", // No extra_info available.  Passing an empty string to avoid getting an undefined variable.\r\n            sku: SKU,\r\n            upc: UPC\r\n        };\r\n    }\r\n    return preparedProductData;\r\n}\r\n\r\nfunction _ttPopulateFillValuesAndOptsSorted() { // Populates pre-declared variables _ttFillValues and _ttOptsSorted\r\n    var fillValues = ppdKeys.length && ppdKeys[0].split('--XX--');\r\n    if (_allColors && _allColors.length) {\r\n        _ttFillValues.color = fillValues[0];\r\n        var colors = [];\r\n        for (var iPos = 0; iPos < _allColors.length; iPos++) {\r\n            var current = _allColors[iPos];\r\n            var color = \"https://b3h2.scene7.com/is/image/BedBathandBeyond/\" + current[\"SWATCH_IMAGE_ID\"] + \"?$32$&wid=32&hei=32\";\r\n            colors.push(color);\r\n        }\r\n        _ttOptsSorted.color = colors;\r\n    }\r\n    \r\n    if (_allSizes && _allSizes.length) {\r\n      \r\n      if (_allColors && _allColors.length) {\r\n        _ttFillValues.size = fillValues[1];\r\n      } else {\r\n        _ttFillValues.size = fillValues[0];\r\n      }\r\n      \r\n      _ttOptsSorted.size = _allSizes;\r\n    }\r\n}\r\n\r\nfunction _ttUnescape(string) { // Takes in a string and replaces listed html escape characters with proper character\r\n    var escapeCharacterPairs = [[\"&quot;\", '\"'], [\"&#39;\", \"'\"]]; // escape character pairs list.  Update as needed.\r\n    for (var iPos = 0; iPos < escapeCharacterPairs.length; iPos++) {\r\n        var pair = escapeCharacterPairs[iPos];\r\n        while (string.match(pair[0])) {\r\n            string = string.replace(pair[0], pair[1]);\r\n        }\r\n    }\r\n    return string;\r\n}\r\n\r\n\r\n__ttAttrGet = function (attribute) {\r\n    // Setting attribute idx *****************************************************************\r\n    var idx;\r\n    for (var iPos = 0; iPos < _ttAttributes.length; iPos++) {\r\n        var current = _ttAttributes[iPos];\r\n        if (current == attribute) {\r\n            idx = iPos;\r\n            break;\r\n        }\r\n    } // ************************************************************************************\r\n\r\n    var preResult = {};  // Unsorted result map\r\n    // To avoid pushing duplicate values into an array, values are assigned to a hashmap\r\n    // example: {\r\n    //   \"blue\": true,\r\n    //   \"red\": true,\r\n    //   \"yellow\": true\r\n    // }\r\n    \r\n    // checking each preparedProductData key \r\n    for (var iPos = 0; iPos < ppdKeys.length; iPos++) {\r\n        var key = ppdKeys[iPos];            // ex: \"color--XX--size\"\r\n        var elValues = key.split('--XX--'); // Splitting key into array --> [color, size]\r\n        // Check if all previously chosen fillValues match key before getting values for current attribute\r\n        // var match = true;                   // ****************************************************\r\n        if (_ttFillValues[\"color\"] && attribute == \"size\" && _ttFillValues[\"color\"] != elValues[0]) {\r\n          continue;\r\n        }\r\n        // Current key matches currently selected values\r\n        var elValue = elValues[idx];\r\n        preResult[elValue] = true;\r\n    }\r\n    \r\n    var result = [];  // Sorted result array\r\n    // Using the _ttOptsSorted array, we check each possible value against our preResult in the order that they are displayed on the page.\r\n    // If a value in _ttOptsSorted matches in preResult, it is pushed into our final result.\r\n    if (Object.keys(preResult).length) {            // If preResult is empty, skip ordering results\r\n        var optsSorted = _ttOptsSorted[attribute];  // Getting ordered values of current attribute idx from _ttOptsSorted\r\n        for (var iPos = 0; iPos < optsSorted.length; iPos++) {\r\n            var elValue = optsSorted[iPos];\r\n            if (preResult[elValue] && _ttValueMap[elValue]) {      // If ordered value matches a preResult key, build object and push to result\r\n                var obj = { value: elValue, text: _ttValueMap[elValue] };\r\n                result.push(obj);\r\n            } else if (preResult[elValue]) {\r\n                result.push(elValue);\r\n            }\r\n        }\r\n    }\r\n    \r\n    return result;\r\n};\r\n\r\n__ttAttrSet = function (fillValue, attribute) {\r\n    // __utils__.echo(\"fillValue ---> \" + fillValue);\r\n    \r\n    // If we are able to reliably get all of our information with preparedProductData, no clicks are necessary to properly render a page\r\n    // This saves time and allows us to render products with an extremely high number of attributes that we otherwise could not handle due to time constraints\r\n    _ttFillValues[attribute] = fillValue;       // Update selected value in _ttFillValues (see __ttAttrGet for use)\r\n    __ttUpdateHidden();                         // Update GTIN / SKU values in hidden div\r\n    return true;\r\n};\r\n\r\n// categories and brand need to be appended to the hidden div now because they are stored in a weird shadowroot element which can't be accessed with normal selectors \r\nvar categoriesBlob = __utils__.findOne(\"//script[@id='schemaGraph']\");\r\nvar categoriesText = categoriesBlob && categoriesBlob.text().trim(); \r\nvar categoriesRegex = /\"name\":\"([^\"]+)\",\"item/;\r\nvar categories = categoriesText && categoriesText.match(/\"name\":\"([^\"]+)\",\"item/g) || []; \r\nfor (var iPos = 0; iPos < categories.length; iPos++) {\r\n  var categoryRaw = categories[iPos];\r\n  var category = categoriesRegex.exec(categoryRaw) && categoriesRegex.exec(categoryRaw)[1]; \r\n  $('#ttHidden').append('<div class=\"ttCategory\" style=\"display:none\">' + category + '</div>');\r\n}\r\n\r\nvar elBrand = location.href;\r\nvar brandRegex = /https:\\/\\/www.(\\w+)\\./; \r\nvar brand = brandRegex.exec(elBrand) && brandRegex.exec(elBrand)[1]; \r\nif (brand) {\r\n  $('#ttHidden').append('<div id=\"ttBrand\" style=\"display:none\">' + brand + '</div>');\r\n}","coupon_recording":null,"coupon_recording_info":null,"coupon_recording_error_div":null,"order_id_div_auth":null,"description_div":{"selector":"//div[@id=\"ttDescription\"] | //meta[@name=\"description\"]/@content[1]","has_custom_selector":true},"returns":"<p><strong>Returns</strong></p>\r\n\r\n<p>This policy will apply to purchases made on or after July 22, 2019.<br />\r\nWe want you to love what you buy from us but we get it, you might change your mind. In the event that you&rsquo;d like to make a return or exchange, here&rsquo;s what you need to know.</p>\r\n\r\n<p><strong>General Returns</strong><br />\r\n<strong>Returns with a Receipt</strong><br />\r\nSo simple: For up to 180 days after purchase, just provide your receipt and for most products, we will refund the purchase price to the original form of payment or issue a Merchandise Credit.<br />\r\nSee Exceptions [https://www.bedbathandbeyond.com/store/static/EasyReturns#return-exceptions]<br />\r\n<br />\r\n<strong>Returns with a Gift Receipt</strong><br />\r\nMerchandise returned using a Gift Receipt will be exchanged or refunded in the form of a Merchandise Credit for the amount paid, for up to 180 days from the date of purchase.<br />\r\nSee Exceptions [https://www.bedbathandbeyond.com/store/static/EasyReturns#return-exceptions]<br />\r\n<br />\r\n<strong>Returns with a Gift Registry Receipt</strong><br />\r\nMerchandise returned from a Registry purchase will be exchanged or refunded in the form of a Merchandise Credit for the amount paid, for up to 365 days from the date of purchase. Baby registry items must be new and unopened to be exchanged or returned within 365 days of purchase. For used items, normal return policy rules apply.<br />\r\n<br />\r\n<strong>Returns without a Receipt</strong><br />\r\nOur goal is always to be fair and reasonable, so we&#39;ll do all we can to find a record of your purchase.</p>\r\n\r\n<p>Misplaced your receipt? We can help! If your purchase was made within the past year, we&#39;ll try to find a record of it using any of the following:</p>\r\n\r\n<p>- Credit/Debit Card<br />\r\n- Merchandise Credit Number<br />\r\n- Gift Card Number<br />\r\n- Order Number<br />\r\n- Registry Number<br />\r\n- Checking Account Number<br />\r\nItems that are new and unopened may be accepted and if so, will receive current selling price less 20%, in the form a Merchandise Credit. Returns of open or used items without a receipt will not be accepted.<br />\r\nSee Exceptions [https://www.bedbathandbeyond.com/store/static/EasyReturns#return-exceptions]</p>\r\n\r\n<p><strong>Note</strong>: Whenever we issue a Merchandise Credit, we&#39;ll ask you to provide a government-issued ID. Additional research may be required for items that can be returned without a receipt.<br />\r\n<br />\r\n<strong>Return Exceptions</strong><br />\r\nTo be fair to our customers who are reasonable with their returns, we verify that all returns are valid. Returns may be limited or denied based on our return authorization system &amp; a database of consumer activity that a third party uses to track purchases/returns and to authorize or deny returns to help protect against excessive, fraudulent or otherwise not permitted returns. You may be required to present a valid photo ID that may be retained in a secure, encrypted database, where permitted by law. Bed Bath &amp; Beyond Inc. reserves the right to refuse any return</p>\r\n\r\n<p>Bed Bath &amp; Beyond accepts the following IDs for returns: U.S. or Canadian Driver&rsquo;s License, U.S. State ID, Canadian Providence ID, Passport, U.S. Military ID, Matricula Consular, Mexican DL, and Mexican Voter Registration Card.<br />\r\n<br />\r\n<strong>Purchases from a Registry</strong><br />\r\nPurchases made from registries may be exchanged or returned within 365 days of purchase.<br />\r\nBaby registry items must be new and unopened to be exchanged or returned within 365 days of purchase. For used items, normal return policy rules apply.<br />\r\n<br />\r\n<strong>buybuy BABY Branded Items</strong><br />\r\nHave a buybuy Baby branded product? We&rsquo;re sure you&rsquo;ll love it, but just in case, you can exchange or return it within 365 days of purchase.<br />\r\n<br />\r\n<strong>Smart Home Technology</strong><br />\r\nCan be exchanged or returned within 30 days of purchase. Examples include but are not limited to smart home thermostats, smart security &amp; safety, and smart doorbell products.</p>\r\n\r\n<p>Please Note: For these items purchased between 11/15 and 12/31, returns will be accepted until 1/31.<br />\r\n<br />\r\n<strong>Seasonal Items</strong><br />\r\nCan be exchanged or returned within 30 days of purchase.<br />\r\nExamples include but are not limited to patio furniture, baby/kids outdoor play, baby/kids swings &amp; slides, grills, Valentine&rsquo;s Day, St. Patrick&rsquo;s Day, Easter, Halloween, Harvest/Thanksgiving, Christmas, Hanukkah, New Year&rsquo;s products, and decor.<br />\r\n<br />\r\n<strong>AS-IS Items In Store Only</strong><br />\r\nCan be exchanged or returned within 30 days of purchase.<br />\r\n<br />\r\n<strong>Electrics</strong><br />\r\nCan be exchanged or returned within 90 days of purchase. Examples include but are not limited to small kitchen appliances, robotic vacuums, baby monitoring devices and personal care appliances.<br />\r\n<br />\r\n<strong>Air Mattresses</strong><br />\r\nNew and unopened air mattresses may be returned within 90 days of purchase.<br />\r\nOpened air mattresses may only be exchanged for a similar item within 90 days of purchase.<br />\r\n<br />\r\n<strong>Baby, Toddler and Maternity Clothing</strong><br />\r\nCan be exchanged or returned within 90 days of purchase. These items must be new, unused and have all tags attached.<br />\r\n<br />\r\n<strong>Car Seats and Strollers</strong><br />\r\nCan be exchanged or returned within 180 days. These items must be new and unused condition with all original packaging, warranty and registration information included.<br />\r\n<br />\r\n<strong>Breast Pumps</strong><br />\r\nCan be exchanged or returned within 180 days. These items must be unopened and in original sealed packaging.<br />\r\n<br />\r\n<strong>VEBO Purchases</strong><br />\r\nReturns cannot be accepted. Please contact VEBO directly at info@vebolife.com or 1-855-404-VEBO [8326].<br />\r\n<br />\r\n<strong>Monogrammed, Personalized, Custom-Made, and Special Order Items</strong><br />\r\nCannot be exchanged or returned. Cancellation requests will not be accepted.<br />\r\n<br />\r\n<strong>Gift Cards</strong><br />\r\nCannot be exchanged or returned.<br />\r\n<br />\r\n<strong>Shipping, Delivery, Gift Wrap and Assembly Charges</strong><br />\r\nAre non-refundable.<br />\r\n<br />\r\n<strong>Free Return Shipping</strong><br />\r\nWe offer free return shipping on most online orders including those coming from a Military Post Office, APO, FPO and US Territories.<br />\r\nStart a Return [https://returns.narvar.com/bedbathandbeyond/returns?locale=en_US]</p>\r\n","final_price_div_local":null,"sales_tax_div_local":null,"order_id_div_local":null,"checkout_recording_local":null,"identifier_div_local":null,"name_div_local":null,"distance_div_local":null,"address_div_local":null,"phone_div_local":null,"when_div_local":null,"change_store_div_local":null,"wrapper_div_local":null,"coupon_value_div_auth":null,"gift_card_value_div_auth":null,"remove_addresses_recording_auth":null,"remove_baddresses_recording_auth":null,"remove_payments_recording_auth":null,"mobile_url_conversion":"m.bedbathandbeyond.com\\/m --> www.bedbathandbeyond.com\\/store","allowed_product_url_args":["none"],"gift_card_recording":null,"gift_card_recording_info":null,"gift_card_recording_error_div":null,"gift_card_recording_continue_div":null,"remote_status_recording":null,"remote_status_container_div":null,"remote_status_title_div":null,"remote_status_state_div":null,"remote_status_tracking_div":null,"shipping_options_div":null,"shipping_options":{"cheapest":{"text":"cheapest","min_days":"3","max_days":"6"}},"shipping_options_recording_info":{"noauth_start_idx":"-1"},"shipping_estimate_exceptions":{"cheapest":"39-99999999 --> 0","fastest":""},"sync_data":[],"sync_master_url":null,"shipping_address_div_auth":null,"proxy":{"cart":"","purchase":""},"estimator":"price","feed_type":"","feed_meta":{"origin":"Bed_Bath_Beyond-BBBY_Google_Feed-shopping.txt.zip","idx_source":"parsed_url","idx_transform":".*\\/product\\/([^\\/]+)\\/.* --> $1"},"grouping_identifiers":[{"field":"canonical_url","modifier":".*product\\/.*\\/(\\d+).* --> $1"}],"platform":"default","platform_meta":{"version":""},"resolution":null,"cookies":null,"headers":null,"product_fetch_timeout":null,"tags":["react"],"login_url_check":null,"title_regexp":"(.*)\\s\\|\\sBed\\sBath\\s\\&\\sBeyond.* --> $1","p_attr_regexp":null,"images_regexp":"\\?.* --> ?wid=1000","sku_regexp":null,"mpn_regexp":null,"gtin_regexp":null,"receipt_prices":"unknown","gifting_recording":null,"gifting_recording_info":null,"page_detector":[{"selector":["[data-locator*=\"placeorder\"]"],"type":"submit_order","regex":"bedbathandbeyond\\.com\\/store\\/checkout\\#review","label":"Order Review"},{"selector":["body:has(#accountLink span:contains(\"my account\"), [class*=\"ContactAndOffers\"]:contains(\"Edit\"), #paymentStep:visible) #paperCoupon, body:has(#accountLink span:contains(\"my account\"), #paymentStep:visible) button:contains(\"Apply Coupons\"), body:has(#paymentStep:visible, #accountLink span:contains(\"my account\")) button:contains(\"Add Coupon\")","body:not(:has([data-locator=\"os-myfunds-pre-tax\"])) #cartContainer [data-locator=\"os-pretaxtotallabel\"] + dd [data-locator=\"cart_item_level_price\"], body:has([data-locator=\"os-myfunds-pre-tax\"]) #cartContainer [data-locator=\"os-myfunds-pre-tax\"] + dd [data-locator=\"cart_item_level_price\"], [data-locator=\"os-totallabel\"] + dd [data-locator=\"cart_item_level_price\"]"],"type":"find_savings","regex":"","label":"Cart and Checkout payment"},{"selector":["div[data-locator=\"review_single_item_block\"]"],"type":"cart_product","regex":"\\/checkout","label":""},{"selector":["[class*=\"Paragraph\"].my0.mt1 [data-locator=\"ocp-ordernumber\"]"],"type":"checkout_confirm","regex":"bedbathandbeyond\\.com\\/store\\/OrderConfirmation","label":""},{"selector":["body:not(:has(button:contains(\"Apply Coupons\"))) #checkoutHeading, body:not(:has(button:contains(\"Apply Coupons\"))) #createRegistry-submit, body:not(:has(button:contains(\"Apply Coupons\"))) [class*=PaymentSection] .payment, body:not(:has(button:contains(\"Apply Coupons\"))) button[data-locator=\"c-placeorderbtn\"], body:not(:has(button:contains(\"Apply Coupons\"))) [data-locator=\"cart-checkoutbtnplaceorder\"] ","body:not(:has(#rclModal))"],"type":"honey_gold","regex":"bedbathandbeyond\\.com\\/store\\/(?:cart|checkout|giftregistry\\/createRegistryForm)","label":"only drop HG when email subscribe modal is NOT on page"},{"selector":["div#paymentStep.items-start:not(.sm-hide):not(.xs-hide)"],"type":"payments","regex":"bedbathandbeyond.com\\/store\\/checkout","label":""},{"selector":["body.PWAMP.pdpActive"],"type":"product","regex":"bedbathandbeyond\\.com\\/store\\/product\\/.*\\/(\\d+)","label":""},{"selector":["body.PWAMP.pdpActive"],"type":"where_am_i","regex":"bedbathandbeyond\\.com\\/store\\/product\\/.*\\/(\\d+)","label":""}],"page_detector_watch":true,"h_legacy_find_savings":{"h_fs_promo_box_selector":"body:has(#accountLink span:contains(\"my account\"), [class*=\"ContactAndOffers\"]:contains(\"Edit\"), #paymentStep:visible) #paperCoupon, body:has(#accountLink span:contains(\"my account\"), #paymentStep:visible) button:contains(\"Apply Coupons\"), body:has(#paymentStep:visible, #accountLink span:contains(\"my account\")) button:contains(\"Add Coupon\")","h_fs_final_price_selector":"body:not(:has([data-locator=\"os-myfunds-pre-tax\"])) #cartContainer [data-locator=\"os-pretaxtotallabel\"] + dd [data-locator=\"cart_item_level_price\"], body:has([data-locator=\"os-myfunds-pre-tax\"]) #cartContainer [data-locator=\"os-myfunds-pre-tax\"] + dd [data-locator=\"cart_item_level_price\"], [data-locator=\"os-totallabel\"] + dd [data-locator=\"cart_item_level_price\"]","h_fs_submit_button":"@bubbleEvents(\"inputSelector\":<M>#paperCoupon</M>,\"eventsInOrder\":<M>input,blur,focus,change</M>)@sleep(\"timeout\":<M>100</M>)@editAttributesAndClasses(\"selector\":<M></M>,\"removeAttributes\":<M></M>)@click(\"selector\":<M>#couponSubmit</M>)","h_fs_time_between_codes":"4000","h_fs_pre_apply_code_action":"@click(\"selector\":<M>body:not(:has([class*=\"lazyCartOffers\"].mt1 .rclExpandIcon, [class*=\"PaperOffers\"] .rclExpandIcon)) [data-locator=\"os-applyoffercodeheadinglabel\"][couponinputbound=\"true\"]</M>)","h_fs_time_between_pre_apply":"2500","h_fs_remove_code_action":"","h_fs_time_between_remove":"2500","h_fs_hide_cart_errors_selector":"body:not(:has([data-locator=\"os-myfunds-pre-tax\"])) #cartContainer [data-locator=\"os-pretaxtotallabel\"] + dd [data-locator=\"cart_item_level_price\"]","h_fs_hide_cart_errors_selector2":"[data-locator=\"os-totallabel\"] + dd [data-locator=\"cart_item_level_price\"]","h_fs_time_finish":"1500","h_fs_max_codes":"10","h_format_price_divisor":"","h_existing_code_selector":"","h_existing_code_selector_regex":"","h_existing_code_selector_attribute":"","temp_disable_find_savings":false,"h_fs_submit_button_template":{"id":"SAWE3","version":1,"variables":{"buttonSelector":"#couponSubmit","inputSelector":"#paperCoupon","removeAttributeSelector":"","removeAttributeName":"","timeout":"100"},"template":"@bubbleEvents(\"inputSelector\":<M>{{inputSelector}}</M>,\"eventsInOrder\":<M>input,blur,focus,change</M>)@sleep(\"timeout\":<M>{{timeout}}</M>)@editAttributesAndClasses(\"selector\":<M>{{removeAttributeSelector}}</M>,\"removeAttributes\":<M>{{removeAttributeName}}</M>)@click(\"selector\":<M>{{buttonSelector}}</M>)"},"h_fs_pre_apply_code_action_template":{"id":"SCLK1","version":1,"variables":{"selector":"body:not(:has([class*=\"lazyCartOffers\"].mt1 .rclExpandIcon, [class*=\"PaperOffers\"] .rclExpandIcon)) [data-locator=\"os-applyoffercodeheadinglabel\"][couponinputbound=\"true\"]"},"template":"@click(\"selector\":<M>{{selector}}</M>)"}},"h_legacy_metadata":{"pns_siteSelCartCodeSubmitType":"click","pns_siteSelCartAddButton":"","pns_siteSelCartAddButtonType":"append","pns_siteType":"refresh","pns_cartRegex":"bedbathandbeyond\\.com\\/store\\/cart\\/cart\\.jsp","pns_confirmRegex":"bedbathandbeyond\\.com\\/store\\/OrderConfirmation","pns_observerTarget":"body","pns_siteSelShowHoneyGold":"body:not(:has(button:contains(\"Apply Coupons\"))) #checkoutHeading, body:not(:has(button:contains(\"Apply Coupons\"))) #createRegistry-submit, body:not(:has(button:contains(\"Apply Coupons\"))) [class*=PaymentSection] .payment, body:not(:has(button:contains(\"Apply Coupons\"))) button[data-locator=\"c-placeorderbtn\"], body:not(:has(button:contains(\"Apply Coupons\"))) [data-locator=\"cart-checkoutbtnplaceorder\"] ","pns_gDACjsonContentType":"","pns_gDAChtmlRes":"","pns_siteAzId":"87198","pns_productPricePath":"normalize-space(//span[@itemprop='price']|//span[@itemprop='lowPrice'])","droplist_universal_active":"true","honeyPayCartPriceSelector":"span[data-locator=\"os-total\"]","honeyTipsAutopopOn":"true","pns_siteSelOrderId":"[class*=\"Paragraph\"].my0.mt1 [data-locator=\"ocp-ordernumber\"]","launchpad_pathname":"/","iosHGEnabled":"true","submitOrderButton":"[data-locator*=\"placeorder\"]"},"mixins":null,"vim_overrides":null,"privacy_url":"https://www.bedbathandbeyond.com/store/static/PrivacyPolicy","tos_url":"https://www.bedbathandbeyond.com/store/static/TermsOfUse","where_am_i":{"title_selector":"h1.prodTitle","price_selector":"","image_selector":"//link[@as=\"image\"][last()]/@href","category_selector":null,"keyword_selector":null,"group_lookup_selector":null,"group_lookup_key":null,"item_lookup_selector":null,"item_lookup_key":null,"titleRegexp":null,"imagesRegexp":null,"itemLookupRegexp":null,"groupLookupRegexp":null,"title_selector_mobile":null,"price_selector_mobile":null,"image_selector_mobile":null,"category_selector_mobile":null,"keyword_selector_mobile":null,"group_lookup_selector_mobile":null,"group_lookup_key_mobile":null,"item_lookup_selector_mobile":null,"item_lookup_key_mobile":null,"titleRegexp_mobile":null,"imagesRegexp_mobile":null,"itemLookupRegexp_mobile":null,"groupLookupRegexp_mobile":null},"cart_link_div":null,"cart_link_div_mobile":null,"cart_link_div_extension":null,"cart_link_div_six":null,"cart_link_div_server":null,"cart_qtys_div":null,"cart_qtys_div_mobile":null,"cart_qtys_div_extension":null,"cart_qtys_div_six":null,"cart_qtys_div_server":null,"cart_wrapper_div":{"selector":"div[data-locator=\"review_single_item_block\"]","noauth_start_idx":"","auth_start_idx":"","local_start_idx":""},"cart_wrapper_div_mobile":null,"cart_wrapper_div_extension":null,"cart_wrapper_div_six":null,"cart_wrapper_div_server":null,"cart_p_name_div":{"selector":"span[data-locator=\"checkoutShippingMethod-producttitle\"]","has_custom_selector":true},"cart_p_name_div_mobile":null,"cart_p_name_div_extension":null,"cart_p_name_div_six":null,"cart_p_name_div_server":null,"cart_p_sku_div":null,"cart_p_sku_div_mobile":null,"cart_p_sku_div_extension":null,"cart_p_sku_div_six":null,"cart_p_sku_div_server":null,"cart_title_regexp":null,"cart_title_regexp_mobile":null,"cart_title_regexp_extension":null,"cart_title_regexp_six":null,"cart_title_regexp_server":null,"cart_p_url_div":null,"cart_p_url_div_mobile":null,"cart_p_url_div_extension":null,"cart_p_url_div_six":null,"cart_p_url_div_server":null,"cart_p_image_div":{"selector":"picture img","has_custom_selector":true},"cart_p_image_div_mobile":null,"cart_p_image_div_extension":null,"cart_p_image_div_six":null,"cart_p_image_div_server":null,"cart_p_qty_div":{"selector":"span:contains(\"qty\") + span[data-locator=\"checkoutShippingMethod-productsize\"]","has_custom_selector":true},"cart_p_qty_div_mobile":null,"cart_p_qty_div_extension":null,"cart_p_qty_div_six":null,"cart_p_qty_div_server":null,"cart_p_attrs_div":{"selector":"[class*=\"ProductAttribute\"] span:not(:contains(\"qty\")) + span","has_custom_selector":true},"cart_p_attrs_div_mobile":null,"cart_p_attrs_div_extension":null,"cart_p_attrs_div_six":null,"cart_p_attrs_div_server":null,"cart_p_unit_price_div":{"selector":"span[aria-label*=\"Current Price of the item is $\"]","has_custom_selector":true},"cart_p_unit_price_div_mobile":null,"cart_p_unit_price_div_extension":null,"cart_p_unit_price_div_six":null,"cart_p_unit_price_div_server":null,"cart_p_total_price_div":{"selector":"span[aria-label*=\"Total price is $\"]","has_custom_selector":true},"cart_p_total_price_div_mobile":null,"cart_p_total_price_div_extension":null,"cart_p_total_price_div_six":null,"cart_p_total_price_div_server":null,"cart_p_subtotal_div":{"selector":"dt[data-locator=\"os-ordersubtotal-label\"] + dd span:first","has_custom_selector":true},"cart_p_subtotal_div_mobile":null,"cart_p_subtotal_div_extension":null,"cart_p_subtotal_div_six":null,"cart_p_subtotal_div_server":null,"cart_p_tax_div":{"selector":"dt[data-locator=\"os-pretaxtotallabel\"] + dd span:first","has_custom_selector":true},"cart_p_tax_div_mobile":null,"cart_p_tax_div_extension":null,"cart_p_tax_div_six":null,"cart_p_tax_div_server":null,"cart_p_shipping_div":{"selector":"dt[data-locator=\"os-estimatedshippinglabel\"] + dd span:first","has_custom_selector":true},"cart_p_shipping_div_mobile":null,"cart_p_shipping_div_extension":null,"cart_p_shipping_div_six":null,"cart_p_shipping_div_server":null,"cart_total_div":{"selector":"dt[data-locator=\"os-totallabel\"]+ dd span:first","has_custom_selector":true},"cart_total_div_mobile":null,"cart_total_div_extension":null,"cart_total_div_six":null,"cart_total_div_server":null,"cart_custom_id":null,"cart_custom_id_mobile":null,"cart_custom_id_extension":null,"cart_custom_id_six":null,"cart_custom_id_server":null,"cart_opts_retrieval_js":null,"cart_opts_retrieval_js_mobile":null,"cart_opts_retrieval_js_extension":null,"cart_opts_retrieval_js_six":null,"cart_opts_retrieval_js_server":null,"address_check_noauth":{"recording_idx":"33"},"address_check_noauth_mobile":null,"address_check_noauth_extension":null,"address_check_noauth_six":null,"address_check_noauth_server":null,"final_price_div_noauth":{"selector":"//dl[contains(@class,'OrderSummary')]//dt[contains(text(),'Total')]/following-sibling::dd[1]//span[contains(@class,'Price')]","frame":"","recording_idx":"33"},"final_price_div_noauth_mobile":null,"final_price_div_noauth_extension":null,"final_price_div_noauth_six":null,"final_price_div_noauth_server":null,"shipping_price_div_noauth":{"selector":"//dl[contains(@class,'OrderSummary')]//dt[contains(text(),'Shipping')]/following-sibling::dd[1]//span[contains(@class,'Price')]","frame":"","recording_idx":"33"},"shipping_price_div_noauth_mobile":null,"shipping_price_div_noauth_extension":null,"shipping_price_div_noauth_six":null,"shipping_price_div_noauth_server":null,"handling_price_div_noauth":{"selector":"div[class*='OrderSummary'] dl[data-locator*='surcharge'] span[class*='Price'], div[class*='OrderSummary'] dl[data-locator*='assembly'] span[class*='Price']","frame":"","recording_idx":"33"},"handling_price_div_noauth_mobile":null,"handling_price_div_noauth_extension":null,"handling_price_div_noauth_six":null,"handling_price_div_noauth_server":null,"checkout_recording_noauth":[{"type":20,"info":{"type":"text","tagName":"BUTTON","value":"","options":null,"selector":"//button[contains(text(), \"Checkout\")]","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","comment":"","checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"field_key":"shipping_first_name","field_type":"shipping","info":{"type":"text","tagName":"INPUT","value":"Manny","checked":null,"options":null,"selector":"#shippingStep input#firstName","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_last_name","field_type":"shipping","info":{"type":"text","tagName":"INPUT","value":"Dion","checked":null,"options":null,"selector":"#shippingStep input#lastName","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_address","field_type":"shipping","info":{"type":"text","tagName":"INPUT","value":"1010 Oak Grove Ave","checked":null,"options":null,"selector":"#shippingStep input[id='shippingaddressLine1']","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_city","field_type":"","info":{"type":"text","tagName":"INPUT","value":"San Marino","checked":null,"options":null,"selector":"#shippingStep input#city","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_zip","field_type":"","info":{"type":"text","tagName":"INPUT","value":"91108","checked":null,"options":null,"selector":"#shippingStep input#zip","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"email","field_type":"","info":{"type":"text","tagName":"INPUT","value":"manny.dions0s0@gmail.com","checked":null,"options":null,"selector":"#shippingStep input#contactandoffer-email","is_optional":"yes","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_telephone","field_type":"","info":{"type":"text","tagName":"INPUT","value":"(650) 868-5444","checked":null,"options":null,"selector":"#shippingStep input#contactandoffer-mobilePh","is_optional":"yes","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"shipping_state","field_type":"","info":{"type":"select","tagName":"SELECT","value":"CA","options":[{"text":"State","value":""},{"text":"AA","value":"AA"},{"text":"AE","value":"AE"},{"text":"AP","value":"AP"},{"text":"AL","value":"AL"},{"text":"AK","value":"AK"},{"text":"AZ","value":"AZ"},{"text":"AR","value":"AR"},{"text":"CA","value":"CA"},{"text":"CO","value":"CO"},{"text":"CT","value":"CT"},{"text":"DE","value":"DE"},{"text":"DC","value":"DC"},{"text":"FL","value":"FL"},{"text":"GA","value":"GA"},{"text":"HI","value":"HI"},{"text":"ID","value":"ID"},{"text":"IL","value":"IL"},{"text":"IN","value":"IN"},{"text":"IA","value":"IA"},{"text":"KS","value":"KS"},{"text":"KY","value":"KY"},{"text":"LA","value":"LA"},{"text":"ME","value":"ME"},{"text":"MD","value":"MD"},{"text":"MA","value":"MA"},{"text":"MI","value":"MI"},{"text":"MN","value":"MN"},{"text":"MS","value":"MS"},{"text":"MO","value":"MO"},{"text":"MT","value":"MT"},{"text":"NE","value":"NE"},{"text":"NV","value":"NV"},{"text":"NH","value":"NH"},{"text":"NJ","value":"NJ"},{"text":"NM","value":"NM"},{"text":"NY","value":"NY"},{"text":"NC","value":"NC"},{"text":"ND","value":"ND"},{"text":"OH","value":"OH"},{"text":"OK","value":"OK"},{"text":"OR","value":"OR"},{"text":"PA","value":"PA"},{"text":"PR","value":"PR"},{"text":"RI","value":"RI"},{"text":"SC","value":"SC"},{"text":"SD","value":"SD"},{"text":"TN","value":"TN"},{"text":"TX","value":"TX"},{"text":"UT","value":"UT"},{"text":"VT","value":"VT"},{"text":"VI","value":"VI"},{"text":"VA","value":"VA"},{"text":"WA","value":"WA"},{"text":"WV","value":"WV"},{"text":"WI","value":"WI"},{"text":"WY","value":"WY"}],"selector":"#shippingStep select[data-locator='checkout-statetextfield'][name='province']","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","text_only":"","comment":"","checked":null}},{"type":20,"info":{"type":"text","tagName":"BUTTON","value":"","options":null,"selector":"#shippingStep button.input-submit[data-locator='checkout-shippingSection-cta']","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","comment":"","checked":null}},{"type":20,"info":{"selector":"button[data-locator=\"qasmodal-useaddressenteredbtn\"]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"5000","comment":"","options":null,"checked":null}},{"type":20,"info":{"tagName":"DIV","options":null,"selector":"#paymentStep .grid-x.AddNewCreditCard_6CICUq.mb2","is_optional":"no","frame":"","timeout":"","comment":"","checked":null}},{"type":20,"info":{"type":"text","tagName":"INPUT","value":"","checked":null,"options":null,"selector":"#paymentStep input#nameOnCard","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":20,"info":{"type":"text","tagName":"BUTTON","value":"","options":null,"selector":"#paymentStep button.input-button","is_optional":"no","frame":"","timeout":"","comment":"","checked":null,"has_custom_selector":true}},{"type":20,"info":{"selector":"//div[contains(@class, \"SlideoutOverlay-inline\")]//div[contains(@class, \"SlideoutOverlay-inline\")]//div[contains(@class, \"SlideoutOverlay-inline\")]//footer//button[contains(text(), \"Close\")]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"5000","comment":"","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"button[aria-label=\"Edit Billing Address Billing Address\"]","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"field_key":"billing_first_name","field_type":"payment","info":{"type":"text","tagName":"INPUT","value":"Manny","checked":null,"options":null,"selector":"#rclModal input#firstName","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"billing_last_name","field_type":"payment","info":{"type":"text","tagName":"INPUT","value":"Dion","checked":null,"options":null,"selector":"#rclModal input#lastName","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"billing_address","field_type":"","info":{"type":"text","tagName":"INPUT","value":"1010 Oak Grove Ave","checked":null,"options":null,"selector":"#rclModal input[id='creditCardModaladdressLine1']","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"billing_city","field_type":"","info":{"type":"text","tagName":"INPUT","value":"San Marino","checked":null,"options":null,"selector":"#rclModal input#city","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":2,"field_key":"billing_state","field_type":"","info":{"type":"select","tagName":"SELECT","value":"CA","options":[{"text":"State","value":""},{"text":"AA","value":"AA"},{"text":"AE","value":"AE"},{"text":"AP","value":"AP"},{"text":"AL","value":"AL"},{"text":"AK","value":"AK"},{"text":"AZ","value":"AZ"},{"text":"AR","value":"AR"},{"text":"CA","value":"CA"},{"text":"CO","value":"CO"},{"text":"CT","value":"CT"},{"text":"DE","value":"DE"},{"text":"DC","value":"DC"},{"text":"FL","value":"FL"},{"text":"GA","value":"GA"},{"text":"HI","value":"HI"},{"text":"ID","value":"ID"},{"text":"IL","value":"IL"},{"text":"IN","value":"IN"},{"text":"IA","value":"IA"},{"text":"KS","value":"KS"},{"text":"KY","value":"KY"},{"text":"LA","value":"LA"},{"text":"ME","value":"ME"},{"text":"MD","value":"MD"},{"text":"MA","value":"MA"},{"text":"MI","value":"MI"},{"text":"MN","value":"MN"},{"text":"MS","value":"MS"},{"text":"MO","value":"MO"},{"text":"MT","value":"MT"},{"text":"NE","value":"NE"},{"text":"NV","value":"NV"},{"text":"NH","value":"NH"},{"text":"NJ","value":"NJ"},{"text":"NM","value":"NM"},{"text":"NY","value":"NY"},{"text":"NC","value":"NC"},{"text":"ND","value":"ND"},{"text":"OH","value":"OH"},{"text":"OK","value":"OK"},{"text":"OR","value":"OR"},{"text":"PA","value":"PA"},{"text":"PR","value":"PR"},{"text":"RI","value":"RI"},{"text":"SC","value":"SC"},{"text":"SD","value":"SD"},{"text":"TN","value":"TN"},{"text":"TX","value":"TX"},{"text":"UT","value":"UT"},{"text":"VT","value":"VT"},{"text":"VI","value":"VI"},{"text":"VA","value":"VA"},{"text":"WA","value":"WA"},{"text":"WV","value":"WV"},{"text":"WI","value":"WI"},{"text":"WY","value":"WY"}],"selector":"#rclModal select[data-locator='checkout-statetextfield'][name='province']","is_optional":"no","frame":"","timeout":"","text_only":"","comment":"","checked":null,"has_custom_selector":true}},{"type":2,"field_key":"billing_zip","field_type":"","info":{"type":"text","tagName":"INPUT","value":"91108","checked":null,"options":null,"selector":"#rclModal input#zip","is_optional":"no","frame":"","timeout":"","comment":""}},{"type":20,"info":{"selector":"#rclModal button.activePressed.mt2[data-locator='continue-button-cta']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"selector":"#paymentStep select[name='month']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"text","comment":"","options":[{"text":"Month","value":""},{"text":"01","value":"01"},{"text":"02","value":"02"},{"text":"03","value":"03"},{"text":"04","value":"04"},{"text":"05","value":"05"},{"text":"06","value":"06"},{"text":"07","value":"07"},{"text":"08","value":"08"},{"text":"09","value":"09"},{"text":"10","value":"10"},{"text":"11","value":"11"},{"text":"12","value":"12"}],"checked":null,"text_only":""},"field_key":"expiry_date_month","field_type":"payment"},{"type":2,"info":{"selector":"#paymentStep select[name='year']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"text","comment":"","options":[{"text":"Year","value":""},{"text":"2020","value":"2020"},{"text":"2021","value":"2021"},{"text":"2022","value":"2022"},{"text":"2023","value":"2023"},{"text":"2024","value":"2024"},{"text":"2025","value":"2025"},{"text":"2026","value":"2026"},{"text":"2027","value":"2027"},{"text":"2028","value":"2028"}],"checked":null,"text_only":""},"field_key":"expiry_date_year","field_type":"payment"},{"type":2,"info":{"selector":"#paymentStep input.input-text[name='cardNumber'][data-locator='c-cardnumber']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null},"field_key":"card_number","field_type":"payment"},{"type":2,"info":{"selector":"#paymentStep input.input-text[name='securityCode'][data-locator='c-securitycode']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null},"field_key":"cvv","field_type":"payment"},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// created by [joshua.bracks] 2020-07-27\r\nvar nameEl = __utils__.findOne('//address/p[not(contains(@class, \"mb1\"))]');\r\n__utils__.echo(\"Name Element: \" + nameEl);\r\nvar _ttName = nameEl.textContent.trim();\r\n__utils__.echo(\"NAME: \" + _ttName);\r\nvar nameOnCardInput = __utils__.findOne(\"#nameOnCard\");\r\nnameOnCardInput.value = _ttName;\r\nnameOnCardInput.dispatchEvent(new Event('input', { bubbles: true }));\r\nnameOnCardInput.dispatchEvent(new Event('keyup'));\r\nnameOnCardInput.dispatchEvent(new Event('blur'));\r\nnameOnCardInput.dispatchEvent(new Event('focus'));\r\nnameOnCardInput.click();","timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"type":"text","tagName":"BUTTON","value":"","options":null,"selector":"#paymentStep button[data-locator='checkout-paymentSection-cta']","is_optional":"no","frame":"","timeout":"","comment":"","checked":null,"has_custom_selector":true}},{"type":20,"info":{"selector":"#reactApp input[id='checkbox-4']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"type":"text","tagName":"BUTTON","value":"","options":null,"selector":"[data-locator=\"c-placeorderbtn\"]","is_optional":"no","frame":"","timeout":"","comment":"","checked":null,"has_custom_selector":true}}],"checkout_recording_noauth_mobile":null,"checkout_recording_noauth_extension":null,"checkout_recording_noauth_six":null,"checkout_recording_noauth_server":null,"sales_tax_div_noauth":{"selector":"//dl[contains(@class,'OrderSummary')]//dt[contains(text(),'Estimated Tax')]/following-sibling::dd[1]//span[contains(@class,'Price')]","frame":"","recording_idx":"33"},"sales_tax_div_noauth_mobile":null,"sales_tax_div_noauth_extension":null,"sales_tax_div_noauth_six":null,"sales_tax_div_noauth_server":null,"shipping_estimate_div_noauth":{"selector":"//div[contains(@class,'OrderShipmentItem')]//h3[contains(@class,'ProductTitle')] | //div[contains(@class,'OrderShipmentItem')]//p[contains(@class,'EstimatedDeliveryDate') and contains(.,'Estimated')]","frame":"","recording_idx":"33"},"shipping_estimate_div_noauth_mobile":null,"shipping_estimate_div_noauth_extension":null,"shipping_estimate_div_noauth_six":null,"shipping_estimate_div_noauth_server":null,"checkout_information_noauth":null,"checkout_information_noauth_mobile":null,"checkout_information_noauth_extension":null,"checkout_information_noauth_six":null,"checkout_information_noauth_server":null,"order_id_div_noauth":{"selector":"span[data-locator='ocp-ordernumber']","frame":""},"order_id_div_noauth_mobile":null,"order_id_div_noauth_extension":null,"order_id_div_noauth_six":null,"order_id_div_noauth_server":null,"coupon_value_div_noauth":null,"coupon_value_div_noauth_mobile":null,"coupon_value_div_noauth_extension":null,"coupon_value_div_noauth_six":null,"coupon_value_div_noauth_server":null,"gift_card_value_div_noauth":null,"gift_card_value_div_noauth_mobile":null,"gift_card_value_div_noauth_extension":null,"gift_card_value_div_noauth_six":null,"gift_card_value_div_noauth_server":null,"shipping_address_div_noauth":null,"shipping_address_div_noauth_mobile":null,"shipping_address_div_noauth_extension":null,"shipping_address_div_noauth_six":null,"shipping_address_div_noauth_server":null,"has_issues":false,"changelog":"set feed type to none","parent_id":{"$oid":"6440092b4e2a75119ea6d3b5"},"created_at":{"$date":"2023-06-06T14:16:00.696Z"},"updated_at":{"$date":"2023-06-06T14:21:06.803Z"},"worker_honey_user_id":"346599716840718588","activated_at":{"$date":"2023-06-06T14:21:19.687Z"},"activated_by_honey_user_id":"346599716840718588","assignee_id":null}