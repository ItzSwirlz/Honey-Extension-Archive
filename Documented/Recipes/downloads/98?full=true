{"_id":{"$oid":"6717b3be16331bddadadc7f5"},"scope":"complete","country":"us","engine":"chrome_vim","product_page_requires_account":"no","shipping_options_div_type":"none","end_delay":4000,"status":"live","old_status":"pending","website_url":"homedepot.com","website_name":"Home Depot","honey_id":"98","site_id":{"$oid":"52f0a4bace04fa32ba00003a"},"partial_urls":["homedepot.com"],"login_recording":[{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"logonId","type":"text","src":"","id":"emailAddress","title":"","options":null,"label":"Email Address","ancestors":[{"attributes":{"id":"emailAddress","className":"input-xlong","href":null,"src":null,"name":"logonId","type":"text"},"name":"INPUT"},{"attributes":{"id":"","className":"controls","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"control-group required","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"Logon","className":null,"href":null,"src":null,"name":"Logon","type":null},"name":"FORM"},{"attributes":{"id":"leftColm","className":"row grid_15","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"left-col","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"accountDisplayPage","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix my-account","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"form#Logon[name='Logon'] div.control-group.required div.controls input#emailAddress[name='logonId'][type='text']","withPath":"div#leftColm form#Logon[name='Logon'] div div input#emailAddress[name='logonId'][type='text']","withoutPath":"form#Logon[name='Logon'] div.control-group.required div.controls input#emailAddress[name='logonId'][type='text']","is_optional":"no","frame":"","timeout":"","comment":""},"x":212,"y":374,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"fdsfasdfdsa@fds.com","checked":null,"name":"logonId","type":"text","src":"","id":"emailAddress","title":"","options":null,"label":"Email Address","ancestors":[{"attributes":{"id":"emailAddress","className":"input-xlong","href":null,"src":null,"name":"logonId","type":"text"},"name":"INPUT"},{"attributes":{"id":"","className":"controls","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"control-group required","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"Logon","className":null,"href":null,"src":null,"name":"Logon","type":null},"name":"FORM"},{"attributes":{"id":"leftColm","className":"row grid_15","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"left-col","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"accountDisplayPage","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix my-account","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"form#Logon[name='Logon'] div.control-group.required div.controls input#emailAddress[name='logonId'][type='text']","withPath":"div#leftColm form#Logon[name='Logon'] div div input#emailAddress[name='logonId'][type='text']","withoutPath":"form#Logon[name='Logon'] div.control-group.required div.controls input#emailAddress[name='logonId'][type='text']","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"username","field_type":""},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"logonPassword","type":"text","src":"","id":"passwordPage","title":"","options":null,"ancestors":[{"attributes":{"id":"passwordPage","className":"input-xlong","href":null,"src":null,"name":"logonPassword","type":"password"},"name":"INPUT"},{"attributes":{"id":"","className":"controls","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"control-group required","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"Logon","className":null,"href":null,"src":null,"name":"Logon","type":null},"name":"FORM"},{"attributes":{"id":"leftColm","className":"row grid_15","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"left-col","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"accountDisplayPage","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix my-account","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"form#Logon[name='Logon'] div.control-group.required div.controls input#passwordPage[name='logonPassword'][type='password']","withPath":"div#leftColm form#Logon[name='Logon'] div div input#passwordPage[name='logonPassword'][type='password']","withoutPath":"form#Logon[name='Logon'] div.control-group.required div.controls input#passwordPage[name='logonPassword'][type='password']","is_optional":"no","frame":"","timeout":"","comment":""},"x":191,"y":432,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"fsdfdsafasd","checked":null,"name":"logonPassword","type":"text","src":"","id":"passwordPage","title":"","options":null,"ancestors":[{"attributes":{"id":"passwordPage","className":"input-xlong","href":null,"src":null,"name":"logonPassword","type":"password"},"name":"INPUT"},{"attributes":{"id":"","className":"controls","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"control-group required","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"Logon","className":null,"href":null,"src":null,"name":"Logon","type":null},"name":"FORM"},{"attributes":{"id":"leftColm","className":"row grid_15","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"left-col","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"accountDisplayPage","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix my-account","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"form#Logon[name='Logon'] div.control-group.required div.controls input#passwordPage[name='logonPassword'][type='password']","withPath":"div#leftColm form#Logon[name='Logon'] div div input#passwordPage[name='logonPassword'][type='password']","withoutPath":"form#Logon[name='Logon'] div.control-group.required div.controls input#passwordPage[name='logonPassword'][type='password']","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"password","field_type":""},{"type":20,"info":{"tagName":"INPUT","value":"SignIn","name":"","type":"text","id":"signInPage","title":"","options":null,"ancestors":[{"attributes":{"id":"signInPage","className":"btn btn-orange","href":null,"src":null,"name":null,"type":"submit"},"name":"BUTTON"},{"attributes":{"id":"","className":"controls controls-right btn-right xlong","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"control-group","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"Logon","className":null,"href":null,"src":null,"name":"Logon","type":null},"name":"FORM"},{"attributes":{"id":"leftColm","className":"row grid_15","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"left-col","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"accountDisplayPage","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix my-account","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"form#Logon[name='Logon'] div.control-group div.controls.controls-right button#signInPage[type='submit']","withPath":"div#leftColm form#Logon[name='Logon'] div div button#signInPage[type='submit']","withoutPath":"form#Logon[name='Logon'] div.control-group div.controls.controls-right button#signInPage[type='submit']","is_optional":"no","frame":"","timeout":"","comment":"","checked":null},"x":429,"y":499,"text":"SIGN IN"}],"signup_recording":null,"title_div":{"tagName":"SPAN","id":"","title":"","options":null,"ancestors":[{"attributes":{"id":"","className":"crx_mouse_visited","href":null,"src":null,"name":null,"type":null},"name":"SPAN"},{"attributes":{"id":"","className":"product_title","href":null,"src":null,"name":null,"type":null},"name":"H1"},{"attributes":{"id":"","className":"grid_12","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"productinfo_ctn","className":"grid_24","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-pip","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"h1.product-title__title, h1.product-details__title","withPath":"div#productinfo_ctn div div h1 span","withoutPath":"div div.grid_12 h1.product_title span","url":"http://www.homedepot.com/p/Delta-Windemere-8-in-Widespread-2-Handle-High-Arc-Bathroom-Faucet-in-Oil-Rubbed-Bronze-B3596LF-OB/202813529?N=25ecodZ5yc1vZbreo","has_custom_selector":true},"brand_div":{"selector":"h2.product-title__brand span.bttn__content, span.product-details__brand-name","has_custom_selector":true},"price_div":{"tagName":"SPAN","id":"ajaxPrice","title":"","options":null,"ancestors":[{"attributes":{"id":"ajaxPrice","className":"pReg crx_mouse_visited","href":null,"src":null,"name":null,"type":null},"name":"SPAN"},{"attributes":{"id":"","className":"pricingReg","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_12 product_containerprice","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_12 grid","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"productinfo_ctn","className":"grid_24","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-pip","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"//div[@itemprop='offers' and not(following-sibling::div[@id='bulkPricingWrapper'])]//span[@itemprop='price'] | //div[contains(@class,'price-detailed__wrapper')]//div[contains(@class,'price-format__main-price')] | //div[@id='priceInjectedTT']","withPath":"div#productinfo_ctn div div div div span#ajaxPrice","withoutPath":"div.grid_12.grid div.grid_12.product_containerprice div.pricingReg span#ajaxPrice","url":"http://www.homedepot.com/p/Delta-Windemere-8-in-Widespread-2-Handle-High-Arc-Bathroom-Faucet-in-Oil-Rubbed-Bronze-B3596LF-OB/202813529?N=25ecodZ5yc1vZbreo","has_custom_selector":true},"returns_div":null,"image_div":{"tagName":"IMG","name":"","src":"http://www.homedepot.com/catalog/productImages/300/c7/c7e71579-c961-45bb-9fe6-ce9613659a32_300.jpg","id":"superPIP__productImage","title":"","options":null,"ancestors":[{"attributes":{"id":"superPIP__productImage","className":"crx_mouse_visited","src":"http://www.homedepot.com/catalog/productImages/300/c7/c7e71579-c961-45bb-9fe6-ce9613659a32_300.jpg","name":null,"type":null},"name":"IMG"},{"attributes":{"id":"","className":"zoomIt expandImg","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"primaryImage","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_mainimg","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_containerimg","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_12 grid","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"productinfo_ctn","className":"grid_24","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-pip","className":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","src":null,"name":null,"type":null},"name":"DIV"}],"selector":"img#imageTwoTap","withPath":"div#productinfo_ctn div div div div div div img#superPIP__productImage","withoutPath":"div.product_mainimg div.primaryImage div.zoomIt.expandImg img#superPIP__productImage","url":"http://www.homedepot.com/p/Delta-Windemere-8-in-Widespread-2-Handle-High-Arc-Bathroom-Faucet-in-Oil-Rubbed-Bronze-B3596LF-OB/202813529?N=25ecodZ5yc1vZbreo","has_custom_selector":true},"alt_images_div":{"selector":"img.altImageTwoTap","has_custom_selector":true},"custom_id_div":{"selector":"#ttCustomId","has_custom_selector":true},"extra_info_div":{"selector":"//div[contains(@class,'critical-msg') and contains(@class,'backordered')] | //span[contains(@class,'qty_limit')] | //div[@id='bboxShipToMeText']/node()[@class and not(contains(@class,'bbShipToMeMsg'))] | //body[//div[@id='buyBox']//node()[contains(@class,'addToCart_btn')] and not(//div[@id='bboxShipToMeText'])]//div[@id='pickupOnlyTT'] | //span[contains(@class,'u__text--success')][contains(text(),'Free Shipping') or contains(text(),'Free Delivery')]/.. | //div[contains(@class,'estimated_arrival')] | //div[contains(@class,'buybelt__cannot_be_shipped__wrapper')]/text() | //div[contains(concat(' ',@class,' '),' excluded_states ')]","has_custom_selector":true},"weight_div":{"selector":"div#ttWeight","has_custom_selector":true,"weight_unit":"lbs"},"product_container_div":null,"add_to_cart_recording":[{"type":1010,"info":{"selector":"div[data-twotap-attrindex='1'][data-twotap-attrtype='image']","frame":"","is_optional":"no","get":"return _ttAttributeGet(1);","set":"return _ttAttributeSet(1, fillValue);","set_during_retrieve_opts":"true","timeout":"","has_custom_selector":true,"options":null,"only_on_checkout_type":"","comment":"","checked":null,"reset_during_retrieve_opts":"no","current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"color","field_type":""},{"type":1010,"info":{"selector":"div[data-twotap-attrindex='1'][data-twotap-attrtype='text']","frame":"","is_optional":"no","get":"return _ttAttributeGet(1);","set":"return _ttAttributeSet(1, fillValue);","set_during_retrieve_opts":"true","timeout":"","options":null,"has_custom_selector":true,"only_on_checkout_type":"","comment":"","checked":null,"reset_during_retrieve_opts":"no","current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"option 1","field_type":""},{"type":1010,"info":{"selector":"div[data-twotap-attrindex='2']","frame":"","is_optional":"no","get":"return _ttAttributeGet(2);","set":"return _ttAttributeSet(2, fillValue);","set_during_retrieve_opts":"no","timeout":"","options":null,"has_custom_selector":true,"only_on_checkout_type":"","comment":"","checked":null,"reset_during_retrieve_opts":"no","current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"option 2","field_type":""},{"type":1010,"info":{"selector":"div[data-twotap-attrindex='3']","frame":"","is_optional":"no","get":"return _ttAttributeGet(3);","set":"return _ttAttributeSet(3, fillValue);","set_during_retrieve_opts":"no","timeout":"","options":null,"has_custom_selector":true,"only_on_checkout_type":"","comment":"","checked":null,"reset_during_retrieve_opts":"no","current_variant_selector":"","current_variant_selector_property":"","current_variant_selector_regex":""},"field_key":"option 3","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"2","checked":null,"name":"quantity_1","type":"text","src":"","id":"buybox_quantity_field","title":"","options":null,"label":"Quantity","ancestors":[{"attributes":{"id":"buybox_quantity_field","className":null,"href":null,"src":null,"name":"quantity_1","type":"text"},"name":"INPUT"},{"attributes":{"id":"","className":"bboxQuantity","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"bbOptions","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"buyBox","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"buybox_ctn","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_5 sidePanel","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-pip","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"div#ttFakeQty, input#buybox__quantity__input, input.quantity-input","withPath":"div#buybox_ctn div#buyBox div div input#buybox_quantity_field[name='quantity_1'][type='text']","withoutPath":"div#buyBox div.bbOptions div.bboxQuantity input#buybox_quantity_field[name='quantity_1'][type='text']","is_optional":"yes","set_during_retrieve_opts":"no","frame":"","timeout":"","has_custom_selector":true,"only_on_checkout_type":"","comment":"The fake qty (div#ttFakeQty) is only injected when reading the product, so it does not affect Purchase / Pickup.","reset_during_retrieve_opts":"no"},"text":"","field_key":"quantity","field_type":""},{"type":1001,"info":{"selector":"#buybelt .store-inventory-finder-trigger","frame":"","is_optional":"no","interval":"","js_code":"// triggering store-selection popup\r\n// -- we do this because clicking on the change-store link does not work in new sessions (store-bug)\r\n__utils__.echo('--- triggering store-selection popup');\r\nif (typeof doOverlayConfiguration == 'function') {\r\n  doOverlayConfiguration();\r\n} else {\r\n  __utils__.echo('--- store-function NOT DEFINED => trying to click on a.bbChangeLocation');\r\n  var changeLink = __utils__.findOne(\"#buybelt .store-inventory-finder-trigger\");\r\n  if (changeLink) {\r\n    __utils__.mouseEvent('click', changeLink);\r\n  }\r\n}","timeout":"","has_custom_selector":true,"only_on_checkout_type":"localCheckout","options":null,"comment":"","checked":null}},{"type":2,"info":{"selector":"input#smrtSearchInput, input#txtStoreFinder","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","set_during_retrieve_opts":"no","only_on_checkout_type":"localCheckout","options":null,"comment":"","has_custom_selector":true,"checked":null,"reset_during_retrieve_opts":"no"},"field_key":"shipping_zip","field_type":""},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// clicking on search-store button via JS, because a regular Click step often fails!\r\njQuery(\"a#smtOvbtnStoreFinder, #btnStoreFinder\").click();","timeout":"","only_on_checkout_type":"localCheckout","comment":"","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"2000","js_code":null,"timeout":"","only_on_checkout_type":"localCheckout","comment":"","options":null,"checked":null}},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// making all pickup-stores visible (without scroll), only during local-checkout\r\n// -- using 2 sub-selectors because of a/b testing in product page (this matches both v1 and v2)\r\njQuery(\"div#otherStores, div.otherStores\").css({ overflow: 'visible', height: 'auto' });","timeout":"","only_on_checkout_type":"localCheckout","options":null,"comment":"","checked":null}},{"type":2,"info":{"selector":"//div[contains(@class,'quant-Text') and not(contains(@class,'hide'))]//input[contains(@class,'smrtQtyInp')]","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","set_during_retrieve_opts":"no","only_on_checkout_type":"localCheckout","options":null,"has_custom_selector":true,"comment":"","checked":null,"reset_during_retrieve_opts":"no"},"field_key":"quantity","field_type":""},{"type":20,"info":{"selector":"#addToCartContainer .btn.btn-orange","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"localCheckout","options":null,"comment":"","checked":null}},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// DISABLED IN ~2017, but keeping this code in case local-checkout will be re-enabled\r\n/*\r\n// detecting add-to-cart box version [Serban 2016-09-27]\r\n// -- v1 = \"standard product\" with shipping/pickup boxes above add-to-cart button\r\n// ---- e.g. http://www.homedepot.com/p/100656306\r\n// -- v1.5 = visually-similar to v1, but with a zip-input above the add-to-cart button\r\n// ---- e.g. http://www.homedepot.com/p/206797302?MERCH=REC-_-PIPHorizontal1_rr-_-206797302-_-205418713-_-N\r\n// -- v2 = completely different add-to-cart box below the product (\"div#buyBelt\")\r\n// ---- also includes a hidden v1.5 add-to-cart box (NON-functional!) => do NOT use it!\r\n// ---- e.g. http://www.homedepot.com/p/206797302\r\n_ttAddBoxVersion = 'v1'; // assuming \"standard product\" by default\r\nif (jQuery(\"div#availabilityStates:visible input[name='zipCode'][type='text']\").length) {\r\n  _ttAddBoxVersion = 'v2'; // this matches the zip-input inside both \"v1.5\" and \"v2\" add-to-cart box!\r\n}\r\n__utils__.echo('--- _ttAddBoxVersion = ' + _ttAddBoxVersion);\r\n\r\n// invalidating the add-to-cart button, if the product does NOT have ship-to-home\r\n// -- we do this only if this is NOT a local-checkout\r\n// -- we do this only if the product has an \"add-to-cart box v1\" (i.e. standard product) [update by Serban 2016-09-27]\r\n// ---- as opposed to \"v1.5\" / \"v2\" - see above...\r\n// -- we do this because, otherwise, the product is added to Cart with ship-to-store/pickup-in-store\r\n// ---- in this scenario, the Checkout fails near the end!\r\nif (!jQuery(\"div#bboxShipToMe\").length && _ttAddBoxVersion == 'v1') {\r\n  jQuery(\"div#buyBox .addToCart_btn\").removeClass('addToCart_btn').text('[TWOTAP] NO SHIP TO HOME!');\r\n  // injecting error message for \"pickup-only\", as defined in prod-opts-JS\r\n  __utils__.echo('--- injecting error message = _ttPickupOnlyMessage');\r\n  jQuery(\"body\").append('<div class=\"ttError\">' + _ttPickupOnlyMessage + '</div>');\r\n}\r\n\r\n// marking buy-box v2 (containing add-to-cart box v1.5 OR v2) [Serban 2016-09-27]\r\njQuery(\"div#availabilityStates:visible\").closest(\"div#buybox_ctn\").addClass('ttBuyBoxV2');\r\n*/","timeout":"","only_on_checkout_type":"authAndNoauthCheckout","options":null,"comment":"","checked":null}},{"type":2,"info":{"selector":"input#appliance__zip-code","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","set_during_retrieve_opts":"no","only_on_checkout_type":"authAndNoauthCheckout","comment":"ONLY for add-to-cart box v1.5 AND v2 - this matches the zip-input. (Update 2018-01-29: fixed selector for appliance products)","options":null,"checked":null,"reset_during_retrieve_opts":"no","has_custom_selector":true},"field_key":"shipping_zip","field_type":""},{"type":20,"info":{"selector":"button.appliance__check-availability","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"","comment":"ONLY for add-to-cart box v1.5 AND v2 - this matches the zip-submit. (Update 2018-01-29: fixed selector for appliance products)","options":null,"checked":null,"has_custom_selector":true}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"3000","js_code":null,"timeout":"","only_on_checkout_type":"","comment":"Needed after zip-submit, for add-to-cart box v1.5 AND v2.","options":null,"checked":null}},{"type":20,"info":{"href":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemAdd?URL=OrderItemDisplay&prevURL=ProductDisplay&orderId=.&errorViewName=ProductDisplayErrorView&contractId=2081191&calculationUsageId=-1&catEntryId=202617085&quantity=1","tagName":"INPUT","name":"","type":"text","id":"","title":"","options":null,"ancestors":[{"attributes":{"id":"","className":"addToCart_btn dynamic_btn orange_btn c","href":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemAdd?URL=OrderItemDisplay&prevURL=ProductDisplay&orderId=.&errorViewName=ProductDisplayErrorView&contractId=2081191&calculationUsageId=-1&catEntryId=202617085&quantity=1","src":null,"name":null,"type":null},"name":"A"},{"attributes":{"id":"buyBox","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"buybox_ctn","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_5 sidePanel","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-pip","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"//div[@id='fakeAddTT'] | //body[//div[@data-fulfillment-type]]//div[@id='buyBox']//node()[contains(@class,'addToCart_btn')] | //div[contains(@class, 'pip-row')]//button[@id='atc_shipIt' or contains(@class,'express_delivery_CTA')] | //a[@id='atc_appliance'] | //div[contains(@class,'buybelt__actions')]//button[contains(@class,'bttn--primary')] | //div[@id=\"buybelt-wrapper-new\"]//button[@id=\"atc_pickItUp\"]","withPath":"div#hfappContainer div div div#buybox_ctn div#buyBox a","withoutPath":"div.grid_5.sidePanel div#buybox_ctn div#buyBox a.addToCart_btn.dynamic_btn","is_optional":"no","has_custom_selector":true,"frame":"","timeout":"","only_on_checkout_type":"authAndNoauthCheckout","comment":"WARNING: if this selector changes, update it in prod-opts-JS var \"addButton\"","checked":null},"x":868,"y":414,"text":"+ Add To Cart"},{"type":20,"info":{"selector":"a#express-delivery-overlay__change_delivery_zip","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"authAndNoauthCheckout","comment":"For products with \"Express Delivery\" add-button => trigger shipping_zip input","options":null,"checked":null}},{"type":2,"info":{"selector":"form#express-delivery-overlay__delivery_form input#availability__zip-code","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"1000","tagName":"INPUT","type":"text","set_during_retrieve_opts":"no","reset_during_retrieve_opts":"no","only_on_checkout_type":"authAndNoauthCheckout","comment":"For products with \"Express Delivery\" add-button => change shipping_zip","options":null,"checked":null,"has_custom_selector":true},"field_key":"shipping_zip","field_type":""},{"type":20,"info":{"selector":"form#express-delivery-overlay__delivery_form button","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"1000","only_on_checkout_type":"authAndNoauthCheckout","comment":"For products with \"Express Delivery\" add-button => submit shipping_zip","options":null,"checked":null}},{"type":20,"info":{"selector":"//div[contains(@class,'express-delivery-overlay__add-to-cart')]//button[@id='express-delivery-ATC' and not(@disabled)]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"authAndNoauthCheckout","comment":"For products with \"Express Delivery\" add-button => click add-button in overlay (only if NOT disabled - e.g. bad zip / unavailable at zip)","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"6000","js_code":null,"timeout":"","only_on_checkout_type":"","comment":"Sleep before click in iframe, for appliace products.","options":null,"checked":null}},{"type":20,"info":{"selector":"//ttDisabled//a[contains(text(),'kip for now')]","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"authAndNoauthCheckout","comment":"disabled for now - must click on \"go to cart\" button, otherwise the product is not added - [tibi 2019-04-20]  Skip extra options for appliace products (installation, protection plan etc.). DO NOT ADD the appliance to Cart if on Backorder, because we can't display the availability date during /cart (it depends on zip).","options":null,"checked":null,"has_custom_selector":true}},{"type":20,"info":{"selector":"a[data-automation-id='viewCartButton'], a[data-automation-id='viewCartLink'], a[data-automation-id='partsAndServicesGotoCartOrSaveChangesButton']","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"","only_on_checkout_type":"authAndNoauthCheckout","comment":"For products with \"Express Delivery\" add-button => redirecting to Cart page, because the cart-changes div is not updated for these products","options":null,"checked":null,"has_custom_selector":true}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"3000","js_code":null,"timeout":"","only_on_checkout_type":"","comment":"Sleep after click in iframe, for appliace products.","options":null,"checked":null}}],"add_to_cart_changes_div":{"selector":"span.MyCart__itemCount","has_custom_selector":true},"remove_from_cart_recording":[{"type":20,"info":{"href":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemDelete?storeId=10051&langId=-1&catalogId=10053&catalogId=10053&storeId=10051&langId=-1&orderItemId=660929655&URL=http%3a%2f%2fwww.homedepot.com%2fwebapp%2fwcs%2fstores%2fservlet%2fOrderItemDisplay%3fstoreId%3d10051%26langId%3d-1%26catalogId%3d10053","tagName":"INPUT","name":"","type":"text","id":"DeleteItem","title":"","options":null,"ancestors":[{"attributes":{"id":"DeleteItem","className":"icon-redx b removeItem","href":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemDelete?storeId=10051&langId=-1&catalogId=10053&catalogId=10053&storeId=10051&langId=-1&orderItemId=660929655&URL=http%3a%2f%2fwww.homedepot.com%2fwebapp%2fwcs%2fstores%2fservlet%2fOrderItemDisplay%3fstoreId%3d10051%26langId%3d-1%26catalogId%3d10053","src":null,"name":null,"type":null},"name":"A"},{"attributes":{"id":"","className":"remove","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"cartAddToListNremove","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"cartQtyNitemTotal","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"prodSection clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"cartMainSection","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"ShopCartForm","className":null,"href":null,"src":null,"name":"ShopCartForm","type":null},"name":"FORM"},{"attributes":{"id":"cartContainer","className":"dormBODFS","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"div.cartQtyNitemTotal div.cartAddToListNremove div.remove a#DeleteItem","withPath":"div#cartMainSection div div div div a#DeleteItem","withoutPath":"div.cartQtyNitemTotal div.cartAddToListNremove div.remove a#DeleteItem","frame":"","timeout":"","comment":"","checked":null},"x":800,"y":466,"text":"REMOVE"}],"order_error_divs":[{"selector":"//span[@id='pageLevelErrMsg'][not(contains(text(),'Your order is in process'))]","overwrite":"text"},{"selector":"//div[contains(@class, 'shopCartDescInfo')]//p[contains(@class, 'error')]/..","overwrite":"text"},{"selector":"span#billSecErrMsg","overwrite":"text"},{"selector":"//div[@id='smartOverlay' and contains(.,'not available in any stores')]/div[contains(@class,'smrtOv-')]","overwrite":"text"},{"selector":"div.login-inline-errors","overwrite":"text"},{"selector":".checkout-error-message","overwrite":"text"},{"selector":".error-msg","overwrite":"text"},{"selector":"div.ttError","overwrite":"text"},{"selector":"span.alert__message","overwrite":"text"},{"selector":".form-input-error__message","overwrite":"text"},{"selector":"span.alert--danger","overwrite":"text"}],"notes":"-- MOST RECENT NOTES 9/14/2020 - Rebecca --\r\nStore is remaining on a V4 product fetcher currently - not compatible with V5 as far as I can tell. Cannot force a product page version with resolution (see notes below - it used to work). See this ticket for more info: https://joinhoney.atlassian.net/browse/RO-1810\r\n\r\nGID: Custom ID. Not used at product page at all because V4 PF doesn't use GID for product page. GID is only used for cart products. Cart fetcher uses cart opts JS to inject parentIds into cart product wrappers and grabs those as custom IDs.\r\n\r\n______________________________________________________________________\r\n-- OLD NOTES BELOW --\r\n\r\n*** pp versions [Serban 2019-05-06]\r\n- v1 = larger title (h1.product-title__title)\r\n\thttps://www.homedepot.com/p/VIGO-Vessel-Sink-and-Faucet-Set-in-Brown-and-Copper-VGT112/202722836\r\n\thttps://www.homedepot.com/p/Frigidaire-2-2-cu-ft-Built-In-Microwave-in-Stainless-Steel-FGMO226NUF/307587840\r\n- v2 = smaller title (h1.product-details__title)\r\n\thttps://www.homedepot.com/p/Homepop-Nail-Head-Trim-Storage-Bench-K6159-F1332/303705217\r\n\thttps://www.homedepot.com/p/Baxton-Studio-Warwick-Dark-Brown-2-Drawer-TV-Stand-28862-8013-HD/303963969\r\n\r\n*** forcing resolution (1600 x 900) because the store dynamically changes the attribute version on smaller screens - e.g. dropdown instead of swatches for attributes v1 with many options:\r\nhttps://www.homedepot.com/p/White-Cordless-1-in-Vinyl-Mini-Blind-29-in-W-x-64-in-L-201504003/206094503\r\n\r\n*** product prices and other infos may differ in browser vs. TT, depending on what pickup-store is (pre-)selected!\r\n\r\n*** description selector should NOT match \"Specifications\", because they change based on options!\r\n\r\n*** attributes scenarios [Serban 2019-02-18]\r\n- 3 attrs = color + 2 generic\r\n\thttps://www.homedepot.com/p/White-Cordless-1-in-Vinyl-Mini-Blind-29-in-W-x-64-in-L-201504003/206094503\r\n- 2 attrs = color + 1 generic\r\n\thttps://www.homedepot.com/p/Wyndham-Collection-Sheffield-80-in-Double-Vanity-in-Espresso-with-Marble-Vanity-Top-in-Carrara-White-and-70-in-Mirror-WCS141480DESCMUNOM70/205064229\r\n\thttps://www.homedepot.com/p/Hampton-Bay-11-ft-Aluminum-Cantilever-Solar-LED-Offset-Patio-Umbrella-in-Putty-YJAF052-PU/305779766\r\n\thttps://www.homedepot.com/p/Hampton-Bay-10-ft-Aluminum-Market-Auto-Tilt-Patio-Umbrella-in-Chili-9110-01004000/305763249\r\n- 2 attrs = 2 generic\r\n\thttps://www.homedepot.com/p/Hampton-Bay-8-ft-Square-Aluminum-Cantilever-Offset-Patio-Umbrella-in-Chili-YJAF-037-E/305779744\r\n- 1 attr (color)\r\n\thttps://www.homedepot.com/p/Veneerstone-Pacific-Ledge-Stone-Mendocino-Flats-150-sq-ft-Bulk-Pallet-Manufactured-Stone-97464/202189872\r\n\thttps://www.homedepot.com/p/GE-Profile-2-2-cu-ft-Countertop-Microwave-in-Stainless-Steel-with-Sensor-Cooking-PES7227SLSS/302944128\r\n\thttps://www.homedepot.com/p/Baxton-Studio-Swindon-Dark-Brown-Storage-Entertainment-Center-28862-3822-HD/206619310\r\n- no attr\r\n\thttps://www.homedepot.com/p/Baxton-Studio-Blythe-Dark-Brown-Entertainment-Center-28862-3825-HD/206951248\r\n\thttps://www.homedepot.com/p/VIGO-Vessel-Sink-and-Faucet-Set-in-Brown-and-Copper-VGT112/202722836\r\n- oos in store\r\n\t- all options oos\r\n\t\thttps://www.homedepot.com/p/Home-Decorators-Collection-Maple-2-1-2-in-Premium-Faux-Wood-Blind-35-in-W-x-72-in-L-Actual-Size-34-5-in-W-x-72-in-L-10793478067817/202616348\r\n\t\thttps://www.homedepot.com/p/LG-Electronics-1-5-cu-ft-Countertop-Microwave-in-Stainless-Steel-with-Sensor-Cooking-LCRT1513ST/205183267\r\n\t\thttps://www.homedepot.com/p/Baxton-Studio-Swindon-Dark-Brown-Storage-Entertainment-Center-28862-3822-HD/206619310\r\n\t- discontinued\r\n\t\thttps://www.homedepot.com/p/Martha-Stewart-Living-24-in-x-8-in-Wild-Cherry-Deluxe-Wood-Drawer-Kit-C9/202060737\r\n\t\thttps://www.homedepot.com/p/Home-Decorators-Collection-Cut-to-Width-Golden-Oak-2-in-Faux-Wood-Blind-70-in-W-x-48-in-L-Actual-Size-69-5-in-W-48-in-L-10793478122363/205069919\r\n\t- discontinued + suggestion \"something similar\"\r\n\t\thttps://www.homedepot.com/p/Frigidaire-5-8-cu-ft-Double-Oven-Gas-Range-with-Self-Cleaning-Convection-Oven-in-Stainless-Steel-FGGF304DLF/203822733\r\n\t\thttps://www.homedepot.com/p/Whirlpool-Gold-Top-Control-Dishwasher-in-Black-Ice-with-Stainless-Steel-Tub-WDT910SAYE/203496856\r\n\t- obsolete URL\r\n\t\thttp://www.homedepot.com/p/7-1-2-ft-Push-Up-Patio-Umbrella-in-Tan-UCS00401C-TAN/203593388\r\n\t\thttp://www.homedepot.com/p/100092476\r\n\r\n* color, option2, option3\r\nhttp://www.homedepot.com/p/Home-Decorators-Collection-Cut-to-Width-Golden-Oak-2-in-Faux-Wood-Blind-70-in-W-x-48-in-L-10793478122363/205069919\t* combos+++\r\nhttp://www.homedepot.com/p/Unbranded-White-3-5-in-PVC-Vertical-Blind-78-in-W-x-84-in-L-10793478804986/202040513\t\t\t\t\t* combos++, color v1 (distinct list), color#3 pickup no shipping\r\nhttp://www.homedepot.com/p/Rubbermaid-12in-X-72-in-White-Laminate-Decorative-Shelf-FG4B8200WHT/100679081\t\t- color v2 (list in dropdown), some missing, some identical, some combos pickup only !!!\r\nhttp://www.homedepot.com/p/Unbranded-Alabaster-3-5-in-PVC-Vertical-Blind-78-in-W-x-84-in-L-10793478804993/202040514\t\t\t\t- 1 opt @ each, pickup no shipping (and no price) => blocked\r\n\r\n* color, option2\r\nhttp://www.homedepot.com/p/Safavieh-Anatolia-Ivory-Gold-8-ft-x-10-ft-Area-Rug-AN542B-8/203815902\t\t\t\t\t\t\t\t- some combos oos (some only after selection)\r\nhttp://www.homedepot.com/p/Veranda-Pro-Series-4-ft-x-8-ft-Vinyl-Woodbridge-Privacy-Fence-Panel-144730/203451062\t\t\t\t\t\t- some combos oos (all before selection)\r\nhttp://www.homedepot.com/p/DreamLine-Enigma-X-56-in-to-60-in-x-76-in-Frameless-Sliding-Shower-Door-in-Brushed-Stainless-Steel-SHDR-61607610-07/204371079\t- 1 option2, price changes w/ color\r\n\r\n* color\r\nhttp://www.homedepot.com/p/Aqua-Eden-Victorian-3-Handle-Deck-Mount-Claw-Foot-Tub-Faucet-with-Handshower-in-Oil-Rubbed-Bronze-HKS268ORB/205650414\r\nhttp://www.homedepot.com/p/Glacier-Bay-Constructor-4-in-Centerset-2-Handle-Low-Arc-Bathroom-Faucet-in-Chrome-7032E-B6101/202043756\t\t- some colors oos, price changes w/ color\r\nhttp://www.homedepot.com/p/Glacier-Bay-Builders-4-in-Centerset-2-Handle-Low-Arc-Bathroom-Faucet-in-Brushed-Nickel-7032EC-A8104/202185782\t\t- price changes w/ color\r\nhttp://www.homedepot.com/p/Delta-Porter-4-in-Centerset-2-Handle-High-Arc-Bathroom-Faucet-in-Oil-Rubbed-Bronze-25984LF-OB/202790488\r\nhttp://www.homedepot.com/p/Delta-5-Spray-5-in-Showerhead-in-Chrome-with-Pause-75554/204400717\r\n\r\n* option, option2\r\nhttp://www.homedepot.com/p/Veranda-White-Vinyl-Linden-Pro-Privacy-Fence-Panel-Kit-Common-6-ft-x-8-ft-Actual-68-in-x-91-in-73013298/203079474\r\nhttp://www.homedepot.com/p/BEHR-Premium-Plus-Ultra-1-gal-1875-Polar-Bear-Satin-Enamel-Interior-Paint-775001/204383599\t\t\t\t\t- price changes w/ opts, extra-info w/ attr1\r\nhttp://www.homedepot.com/p/BEHR-Premium-Plus-1-gal-Ultra-Pure-White-Semi-Gloss-Enamel-Exterior-Paint-505001/100154684\t\t\t\t- some oos, price changes w/ opts, extra-info w/ attr2\r\n\r\n* option\r\nhttp://www.homedepot.com/p/Bali-Cut-to-Size-78-in-Vertical-Blind-Head-Rail-65-0234-00/100527177\r\n\r\n* no attribute\r\nhttp://www.homedepot.com/p/Unbranded-11-9-in-x-7-9-White-Magnum-Shelf-Bracket-EB-0099-12WT/204657451\t\t\t\t\t\t\t- cheap normal price\r\nhttp://www.homedepot.com/p/Pride-Garden-Products-16-in-Hanging-Basket-Coco-Liner-99147/202525624\t\t\t\t\t\t\t- cheap sale price (normal price only in TT!)\r\nhttp://www.homedepot.com/p/Delta-3-Spray-8-in-Raincan-Showerhead-in-Brushed-Nickel-75352SN/202486931\t\t\t\t\t\t\t- shipping ok, normal price\r\nhttp://www.homedepot.com/p/204477646\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t- shipping ok, sale price\r\nhttp://www.homedepot.com/p/BEHR-Premium-Plus-Ultra-5-gal-Ultra-Pure-White-Flat-Exterior-Paint-485005/100532295\t\t\t\t\t- shipping no pickup, sale price in browser / normal price in TT\r\nhttp://www.homedepot.com/p/Unbranded-Oriented-Strand-Board-Common-7-16-in-x-4-ft-x-8-ft-Actual-0-418-in-x-47-75-in-x-95-75-in-386081/202106230\t- pickup no shipping => blocked\r\nhttp://www.homedepot.com/p//100054132\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t- pickup no shipping => blocked\r\n\r\n* appliance products\r\nhttps://www.homedepot.com/p/GE-Cafe-36-in-W-22-1-cu-ft-French-Door-Refrigerator-in-Stainless-Steel-Counter-Depth-CYE22TSHSS/205475535\r\nhttps://www.homedepot.com/p/Whirlpool-2-9-cu-ft-Commercial-Top-Load-Washer-in-White-CAE2795FQ/301845807\r\n\r\n* custom products => auto-blocked\r\nhttps://blinds.homedepot.com/p/bali-essentials-vertical-blind/205931435\r\nhttps://blinds.homedepot.com/p/myblinds-light-filtering-vertical-sheer-shadings/205931462\r\n\r\n* oos\r\nhttp://www.homedepot.com/p/The-Magellan-Group-36-in-Photo-Ledge-HDCVL36W/203664440\t\t\t\t\t\t\t\t\t- oos v1\r\nhttp://www.homedepot.com/p/Nourison-Overstock-Coral-Reef-Aqua-3-ft-6-in-x-5-ft-6-in-Area-Rug-729408/100630656\t\t\t\t\t\t- oos v2 (discontinued)\r\n\r\n* add-to-cart box versions\r\n- v1 = \"standard product\" with shipping/pickup boxes above add-to-cart button\r\n---- e.g. http://www.homedepot.com/p/100656306\r\n- v1.5 = visually-similar to v1, but with a zip-input above the add-to-cart button\r\n---- e.g. http://www.homedepot.com/p/206797302?MERCH=REC-_-PIPHorizontal1_rr-_-206797302-_-205418713-_-N\r\n- v2 = completely different add-to-cart box below the product (\"div#buyBelt\")\r\n---- also includes a hidden v1.5 add-to-cart box (NON-functional!) => do NOT use it!\r\n---- e.g. http://www.homedepot.com/p/206797302\r\n\r\n* Weight scenarios:\r\n- no Weight in specs\r\n\thttp://www.homedepot.com/p/Gladiator-73-in-H-x-77-in-W-x-24-in-D-4-Shelf-Welded-Steel-Garage-Shelving-Unit-GARS774XEG/206727800\r\n- Weight in specs = 251.20 oz = 15.7 lb (same as \"gross weight\")\r\n\thttp://www.homedepot.com/p/RIDGID-100-ft-12-3-SJTW-Extension-Cord-with-Lighted-Plug-757-123100RL6A/205377767\r\n- Weight in specs = 80 lb (lower than \"gross weight\" = 95!)\r\n\thttp://www.homedepot.com/p/Trex-Outdoor-Furniture-Monterey-Bay-48-in-Stepping-Stone-Round-Patio-Dining-Table-TXRT248SS/202795322\r\n- Weight changes with option: California King = 84 lb, Full = 56 lb, Full XL = 55.1 lb, Queen = 67 lb, Twin = 41 lb, Twin XL = 44 lb\r\n\thttp://www.homedepot.com/p/Linenspa-8-in-Queen-Memory-Foam-and-Innerspring-Hybrid-Mattress-LS08QQMFSP/300591717\r\n","sku_identifier":null,"mpn_identifier":null,"gtin_identifier":null,"final_price_div_auth":null,"shipping_price_div_auth":null,"handling_price_div_auth":null,"checkout_recording_auth":null,"currency_format":"$AMOUNT","recording_start_urls":{"addToCart":"http://www.homedepot.com/p/KOHLER-Archer-5-ft-Right-Drain-Soaking-Tub-in-White-K-1123-RA-0/100604941?N=5yc1vZbzciZ1z10dtr","login":"https://secure2.homedepot.com/webapp/wcs/stores/servlet/LogonForm","noauthCheckout":"http://www.homedepot.com/mycart/home","authCheckout":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemDisplayViewShiptoAssoc","localCheckout":"http://www.homedepot.com/MCCCheckout/Cart/ViewCart.do","coupon":"http://www.homedepot.com/MCCCheckout/Cart/ViewCart.do"},"recording_end_urls":{"addToCart":"http://www.homedepot.com/p/100604939?N=5yc1vZbzciZ1z10dtr","removeFromCart":"http://www.homedepot.com/webapp/wcs/stores/servlet/OrderItemDisplayViewShiptoAssoc?isShowFreeShipping=true&amtLeftForFreeShip=45.00&check=*n&orderId=255743118&langId=-1&isOrderQualifiesForFreeShip=false&catalogId=10053&orderItemId=660929655&storeId=10051&itemDelete=true&ddkey=http:OrderCalculate","login":"https://secure2.homedepot.com/webapp/wcs/stores/servlet/LogonForm","noauthCheckout":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","authCheckout":"https://secure2.homedepot.com/webapp/wcs/stores/servlet/THDPaymentMethod","localCheckout":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","coupon":"http://www.homedepot.com/MCCCheckout/Cart/ViewCart.do"},"category_wrapper_div":null,"address_check_auth":null,"final_sale_div":null,"original_price_div":{"tagName":"SPAN","id":"ajaxPriceStrikeThru","title":"","options":null,"ancestors":[{"attributes":{"id":"ajaxPriceStrikeThru","className":"crx_mouse_visited","href":null,"src":null,"name":null,"type":null},"name":"SPAN"},{"attributes":{"id":"","className":"pricingStrikeThru","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_containerprice","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_infoWrap","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_10","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"productinfo_ctn","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-bica","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"//div[@itemprop='offers' and not(following-sibling::div[@id='bulkPricingWrapper'])]//span[@id='ajaxPriceStrikeThru' or contains(@class,'pStrikeThru')] | //div[contains(@class,'price-detailed__wrapper')]//div[contains(@class,'price-detailed__was-price')]","withPath":"div#productinfo_ctn div div div div div span#ajaxPriceStrikeThru","withoutPath":"div.product_infoWrap div.product_containerprice div.pricingStrikeThru span#ajaxPriceStrikeThru","url":"http://www.homedepot.com/p/Whirlpool-7-0-cu-ft-Electric-Dryer-in-White-WED4800XQ/203006948?N=5yc1vZbv1wZ1z11ao3","has_custom_selector":true},"discounted_price_div":{"tagName":"SPAN","id":"ajaxPrice","title":"","options":null,"ancestors":[{"attributes":{"id":"ajaxPrice","className":"pReg crx_mouse_visited","href":null,"src":null,"name":null,"type":null},"name":"SPAN"},{"attributes":{"id":"","className":"pricingReg","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_containerprice","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"product_infoWrap","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":"grid_10","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"productinfo_ctn","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hd-bica","className":null,"href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"hfappContainer","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"},{"attributes":{"id":"container","className":"container_30 clearfix","href":null,"src":null,"name":null,"type":null},"name":"DIV"}],"selector":"//div[@itemprop='offers' and not(following-sibling::div[@id='bulkPricingWrapper'])]//span[@itemprop='price'] | //div[contains(@class,'price-detailed__wrapper')]//div[contains(@class,'price-format__main-price')] | //div[@id='priceInjectedTT']","withPath":"div#productinfo_ctn div div div div div span#ajaxPrice","withoutPath":"div.product_infoWrap div.product_containerprice div.pricingReg span#ajaxPrice","url":"http://www.homedepot.com/p/Whirlpool-7-0-cu-ft-Electric-Dryer-in-White-WED4800XQ/203006948?N=5yc1vZbv1wZ1z11ao3","has_custom_selector":true},"sales_tax_div_auth":null,"shipping_estimate_div_auth":null,"pickup_div":{"selector":"//body[not(//div[@id='noPickupTT'])]//h1[contains(@class,'product-title__title')]","has_custom_selector":true},"non_purchasable_div":null,"p_free_shipping_div":{"selector":"//body[not(//div[@data-twotap-attrindex])]//span[contains(@class,'u__text--success')][contains(text(),'Free Shipping') or contains(text(),'Free Delivery')]/parent::*[not(contains(.,'$'))]","has_custom_selector":true},"errors_meta":[],"data_converters":{"shipping_zip":[{"type":"simple","converter_id":"no_conversion"}],"shipping_telephone":[{"type":"simple","converter_id":"no_conversion"}],"shipping_address":[{"type":"simple","converter_id":"5a3812b6219e993246448333"}],"shipping_city":[{"type":"simple","converter_id":"no_conversion"}],"shipping_state":[{"type":"simple","converter_id":"51ebf9e755a0f90acc00000c"}],"billing_address":[{"type":"simple","converter_id":"5a3812b6219e993246448333"}],"billing_zip":[{"type":"simple","converter_id":"no_conversion"}],"billing_city":[{"type":"simple","converter_id":"no_conversion"}],"billing_state":[{"type":"simple","converter_id":"51ebf9e755a0f90acc00000c"}],"card_number":[{"type":"simple","converter_id":"58471a6d30bb1f5ea249fc19"}],"expiry_date_month":[{"type":"simple","converter_id":"51ebf54e55a0f90acc000006"}],"expiry_date_year":[{"type":"simple","converter_id":"51ebf8dc55a0f90acc00000a"}]},"logo":null,"delays":{"add_to_cart":20000,"product_opts_field":100,"product_opts":295000,"add_to_cart_field_press":2000},"user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36","user_agent_scope":["cart","purchase"],"needed_banned_remote_urls":["newrelic.com"],"contact":"http://www.homedepot.com/c/Contact_Us","ship_est_start_time":{"$date":"2019-07-16T08:48:23.582Z"},"est_stats_start_time":{"$date":"2019-03-22T20:30:04.001Z"},"checkout_information_auth":null,"regression_tests_status":{"local_success_test":{"at":{"$date":"2019-06-15T00:28:16.273Z"},"status":"failed","issues":["Something is preventing TT from calling the next method."],"consecutive_failures":27},"daily_noauth_simple_test":{"at":{"$date":"2020-07-10T14:25:00.177Z"},"status":"failed","issues":["Cart failed."],"consecutive_failures":0,"assigned_to_worker_id":null,"cart_failures":3,"purchase_failures":12,"estimation_failures":0},"noauth_success_test":{"at":{"$date":"2020-12-11T17:27:22.033Z"},"status":"failed","issues":["Cart failed."],"cart_failures":31},"auth_success_test":{"at":{"$date":"2020-02-05T13:33:02.805Z"},"status":"ok","issues":null,"cart_failures":0,"purchase_failures":0,"estimation_failures":0},"feed_test":{"at":{"$date":"2022-03-30T00:25:53.572Z"},"status":"ok","issues":null,"cart_failures":0,"purchase_failures":0,"estimation_failures":0}},"checkout_dep_fields":null,"regression_products":[{"url":"http://www.homedepot.com/p/202722836","source":"manual"},{"url":"https://www.homedepot.com/p/Baxton-Studio-Blythe-Dark-Brown-Entertainment-Center-28862-3825-HD/206951248?MERCH=REC-_-PIPHorizontal3_rr-_-206619310-_-206951248-_-N","source":"manual"},{"url":"https://www.homedepot.com/p/Philips-60W-Equivalent-CRI90-A19-Dimmable-Soft-White-LED-Light-Bulb-4-Pack-465187/300214345","source":"manual"},{"url":"https://www.homedepot.com/p/Fasade-24-in-x-18-in-Waves-PVC-Decorative-Tile-Backsplash-in-Argent-Silver-B65-09/202881821","source":"manual"},{"url":"https://www.homedepot.com/p/Hampton-Bay-8-ft-Square-Aluminum-Cantilever-Offset-Patio-Umbrella-in-Chili-YJAF-037-E/305779744","source":"manual"},{"url":"https://www.homedepot.com/p/White-Cordless-1-in-Vinyl-Mini-Blind-29-in-W-x-64-in-L-201504003/206094503","source":"manual"}],"store_options":{"noauth_ends_with_success":null,"auth_ends_with_success":null,"disable_disk_cache":"yes","creates_store_account":null,"existing_account_emails_not_allowed":null,"retry_on_info_failures":null,"images_on_add_to_cart":"yes","final_price_includes_gift_card":null,"final_price_before_coupon":null,"use_us_proxy":null,"disable_product_quantity":null,"disable_daily_regressions":null,"local_ends_with_success":null,"disable_image_proxy":null,"overwrite_sales_tax":null,"sync_noauth_and_auth":null,"add_app_to_ua":null,"one_coupon_only":null,"shoprunner_on_shipping_opts":null,"continue_on_alerts":null,"honey_billing_address":null,"use_chrome":null,"is_variantless":null},"product_opts_retrieval_js":"$('body').append('<div id=\"ttCustomId\" style=\"display:none\"></div>');\r\n\r\n// // IF PRICE SELECTOR CHANGES, UPDATE IT BELOW !!!\r\n// // -- this selector matches both the normal price, and the sale price\r\n// _ttPriceUnifiedXpath = \"//div[@itemprop='offers' and not(following-sibling::div[@id='bulkPricingWrapper'])]//span[@itemprop='price'] | //div[contains(@class,'price-detailed__wrapper')]//div[contains(@class,'price-format__main-price')]\";\r\n\r\n// // DEBUGGING COOKIES [disabled by Serban 2019-02-15]\r\n// //__utils__.echo('--- cookies:\\n' + document.cookie.split('; ').join('\\n') );\r\n\r\n// // [Serban 2016-01-29, updated 2016-02-13]\r\n\r\n// // preventing an early exit from prod-opts-JS\r\n// // -- also initialising \"promise\" to exit from prod-opts-JS with delay (the promise is \"false\" by default)\r\n// productOptsBlock = true;\r\n// _ttPromiseToExit = false;\r\n// _ttForceApiCalls = false; // by default, we do NOT force API calls (i.e. for products without attributes)\r\n\r\n// // HARDCODED VALUES\r\n// // -- hardcoding default store data to Ashburn #4647 (zip 20147) - as TT is \"seen\" during Purchase\r\n// // -- TT is also \"seen\" with store Manhattan West 23rd St #6175 (zip 10010) - during /cart\r\n// _ttFallbackStoreId = '4647'; // fallback value for \"store ID\", if we can't extract it from \"THD...\" or \"_hddata...\"\r\n// // -- alternative stores to try, via forced API calls, if price not found on page-load\r\n// _ttAltStoreIds = ['641', '1248', '1249', '4605', '6919', '939', '2021', '2701', '4706', '2607'];\r\n// _ttApiKey = '8Qg7Ztll8bnnEtlORRt7ReviHGrrnvo4'; // homedepot API key - extracted from mobile site (THD_TOUCH_GLOBALS.apiKey)\r\n// _ttSkusPerAjaxCall = 15; // the number of itemIds to be joined into each Ajax call\r\n// _ttAjaxRequestDelay = 1200; // estimating the average time needed for each Ajax request to generate a response\r\n// _ttCleanTitleMinLength = 22; // minimum length of \"clean\" title shared by all skus (otherwise do NOT update the product title!)\r\n\r\n// // starting timer\r\n// timeStart = new Date().getTime();\r\n// timePassed = function() { return (new Date().getTime() - timeStart); };\r\n\r\n// // preventing timeout if jQuery undefined (forcing reload from core) [update by Serban 2016-10-07]\r\n// // -- jQuery undefined on bad URLs, or \"Loading resource failed\"\r\n// // -- we do this BEFORE blocking the product\r\n// // if (typeof jQuery == 'undefined' || !jQuery) {\r\n// //   __utils__.echo('--- WARNING! - jQuery not defined');\r\n// //   __utils__.echo('--- forcing reload from core');\r\n// //   __utils__.echo('FAILED_LOAD_CART_PROD_URL'); // this echo tells TT to retry loading the product\r\n// //   return; // making sure that the rest of the code in prod-opts-JS is not executed\r\n// // }\r\n\r\n// // blocking products with \"Check Availability\"\r\n// // if (jQuery(\".chkAvail-wrp\").length) {\r\n// //   var _ttBlockMsg = 'PRODUCT NOT SUPPORTED - CHECK AVAILABILITY';\r\n// //   document.body.innerHTML = '<h1>[TWOTAP] ' + _ttBlockMsg + '<h1>';\r\n// //   __utils__.echo('--- ' + _ttBlockMsg);\r\n// //   // ready to exit from prod-opts-JS with blocked product\r\n// //   __utils__.echo('--- exit from prod-opts-JS with blocked product @ ms ' + timePassed() );\r\n// //   productOptsBlock = false;\r\n// // }\r\n\r\n// // detecting attributes / pp version [Serban 2019-04-08]\r\n// _ttAttributesVersion = 0; // assuming invalid attributes / pp version by default\r\n// if (__utils__.findOne(\"div[data-attributename]\")) {\r\n//   // pp v1\r\n//   _ttAttributesVersion = 1;\r\n// }\r\n// if (__utils__.findOne(\"div.productmarquee div.product-variant__wrapper\")) {\r\n//   // pp v2\r\n//   _ttAttributesVersion = 2;\r\n// }\r\n// __utils__.echo('--- _ttAttributesVersion = ' + _ttAttributesVersion);\r\n\r\n// // marking generic attributes for easy selection, by injecting fake divs\r\n// // -- also generating objects with attributes based on index / name\r\n// // -- fixed for pp v2 with attributes [Serban 2019-05-08]\r\n// // ---- https://www.homedepot.com/p/Fasade-24-in-x-18-in-Waves-PVC-Decorative-Tile-Backsplash-in-Argent-Silver-B65-09/202881821\r\n// _ttAttributes = []; // array of objects - e.g. ~[0] = { name: \"Color/Finish\", type: \"image\" }\r\n// $(\"div[data-attributename], div.productmarquee div.product-variant__wrapper\").toArray().forEach(function(thisElem, attrIdx) {\r\n//   var attrName = '';\r\n//   var attrType = 'text'; // assuming swatch-texts by default (no swatch-images)\r\n//   // checking if this attribute has swatch-images\r\n//   // -- fixed for new class \"swatch__image\" [Serban 2019-10-31]\r\n//   // ---- https://www.homedepot.com/p/Philips-60-Watt-Equivalent-A19-Dimmable-Energy-Saving-High-CRI-90-LED-Light-Bulb-Soft-White-2700K-4-Pack-465187/300214345\r\n//   //if (jQuery(this).find(\"div.swatchImage, img.variant_type_color\").length) {\r\n//   if ($(thisElem).find(\"div.swatchImage, div.swatch__image, img.variant_type_color\").length) {\r\n//     attrType = 'image';\r\n//   }\r\n//   // injecting fake div for this attribute\r\n//   $(\"body\").append('<div data-twotap-attrindex=\"' + (attrIdx+1) + '\" data-twotap-attrtype=\"' + attrType + '\">[TWOTAP] attrIdx = ' + (attrIdx+1) + ', attrType = ' + attrType + '</div>');\r\n//   // extracting attribute name [Serban 2019-02-15]\r\n//   // -- fixed for pp v2 [Serban 2019-05-08]\r\n//   if (_ttAttributesVersion == 1) {\r\n//     // pp v1\r\n//     // -- using the visible label, because \"data-attributename\" may have _ugly_ characters [Serban 2019-05-08]\r\n//     // -- e.g. \"Shoe_Width\" in \"data-attributename\" vs. \"Shoe Width\" in visible label\r\n//     // ---- https://www.homedepot.com/p/DEWALT-Crossfire-Low-Men-s-Black-Kevlar-Aluminum-Toe-ProLite-Work-Shoe-DXWP10004M-KEV-10-5/301303946\r\n//     attrName = $(thisElem).find(\"div.attribute__label\").text().split(\":\")[0].trim();\r\n//     if (!attrName.length) {\r\n//       // fallback extraction from \"data-attributename\", but with cleaned characters [Serban 2019-05-08]\r\n//       // -- e.g. \"Shoe_Width\" => \"Shoe Width\"\r\n//       attrName = thisElem.attr('data-attributename').replace(/_/g, ' ').trim();\r\n//     }\r\n//   }\r\n//   if (_ttAttributesVersion == 2) {\r\n//     // pp v2\r\n//     attrName = $(thisElem).find(\"div.size__space > span:first\").text().replace(':', '').trim();\r\n//   }\r\n//   // safety check [Serban 2018-07-17]\r\n//   if (!attrName.length) {\r\n//     __utils__.echo('--- WARNING: attrName not found for attrIdx = ' + attrIdx + ', attrType = ' + attrType);\r\n//   }\r\n//   _ttAttributes.push({ name: attrName, type: attrType });\r\n// });\r\n\r\n// // injecting fake add-to-cart button, if the product has attributes\r\n// // -- we do this because the pre-selected combo may be oos, but other combos may be available\r\n// // -- e.g. http://www.homedepot.com/p/204259300\r\n// // -- we do this only when reading the product, to avoid multiple matches during Purchase / Pickup\r\n// if (_ttAttributes.length && _t_productPageStatus == 'product_info') {\r\n//   $(\"body\").append('<div id=\"fakeAddTT\">[TWOTAP] Faking add-to-cart button for products with attributes.</div>');\r\n// }\r\n\r\n// // marking products without attributes AND without pickup-support\r\n// // -- we also block such products, if they are oos (by removing the DISABLED add-to-cart button, if found)\r\n// // -- if the product does have pickup-support, but the pre-selected store does not carry this product\r\n// // ---- then we do NOT block it - instead, we try to select a different (valid) store during local-purchase !!!\r\n// if (!_ttAttributes.length && !__utils__.findOne(\"button#atc_pickItUp\")) {\r\n//   // injecting div to mark that this product does NOT have pickup-support\r\n//   $(\"body\").append('<div id=\"noPickupTT\">[TWOTAP] Pickup-support NOT available for this product.</div>');\r\n//   __utils__.echo('--- pickup-support NOT available for this product');\r\n//   // blocking product if it has a DISABLED add-to-cart button, or if it does NOT have an add-to-cart button at all\r\n//   // -- add-button can be <span> or <a> => only selecting it by class, not by tag-name !!!\r\n//   // -- updated selector because we were blocking available products here! [Serban 2018-07-17]\r\n//   // ---- https://www.homedepot.com/p/DEWALT-20-Volt-MAX-XR-Lithium-Ion-Cordless-Brushless-Drill-Impact-Combo-Kit-2-Tool-with-1-Battery-2Ah-and-1-Battery-4Ah-DCK287D1M1/304051266\r\n//   // -- do NOT select \"addButton\" via \"_t_productPageSelectors['add_to_cart_button']\" [Serban 2018-08-08]\r\n//   // ---- because it causes a crash / timeout when the \"window.pipModelRequest.then\" error appears (random on Casper engine)\r\n//   var addButton = __utils__.findOne(\"//div[@id='fakeAddTT'] | //body[//div[@data-fulfillment-type]]//div[@id='buyBox']//node()[contains(@class,'addToCart_btn')] | //div[contains(@class, 'pip-row')]//button[@id='atc_shipIt' or contains(@class,'express_delivery_CTA')] | //a[@id='atc_appliance'] | //div[contains(@class,'buybelt__actions')]//button[contains(@class,'bttn--primary')]\");\r\n//   if (!addButton || $(addButton).hasClass('disable')) {\r\n//     // removing disabled add-to-cart button (i.e. product oos)\r\n//     $(addButton).remove(); \r\n//     // ready to exit from prod-opts-JS with blocked product\r\n//     __utils__.echo('--- exit from prod-opts-JS with blocked product @ ms ' + timePassed() );\r\n//     productOptsBlock = false;\r\n//     // no need to overwrite the whole <body> in this case, as we do when force-blocking products\r\n//   }\r\n// }\r\n\r\n// // extracting product and store data, from store-defined object \"THD\"\r\n// _ttProductData = {};\r\n// // -- initializing the \"parent product\" ID (we use it to extract the IDs of all skus, via Ajax call)\r\n// // ---- this is NOT the same as itemId for the pre-selected sku, if the product has attributes!\r\n// _ttProductId = null;\r\n// _ttStoreId = null;\r\n// // var THD = $.getWindowVars('THD');\r\n// // if (typeof THD != 'undefined' && THD.PIP) {\r\n// //   if (THD.PIP.products && THD.PIP.products.primary && THD.PIP.products.primary.data) {\r\n// //     __utils__.echo('--- extracting product data from THD.PIP.products.primary.data');\r\n// //     _ttProductData = THD.PIP.products.primary.data;\r\n// //     _ttProductId = _ttProductData['productId'];\r\n// //   }\r\n// //   // extracting default pickup-store ID (this is automatically set by the store, based on the client's IP)\r\n// //   if (THD.PIP.stores && THD.PIP.stores.localStore && THD.PIP.stores.localStore.storenumber) {\r\n// //     _ttStoreId = THD.PIP.stores.localStore.storenumber;\r\n// //   }\r\n// // }\r\n// // fallback extraction of product data from \"div#pip-server-data\" [Serban 2016-04-20]\r\n// // -- we do this if THD.PIP no longer contains \"products\"\r\n// if (!Object.keys(_ttProductData).length) {\r\n//   _ttServerData = null;\r\n//   var pipServerDataText = $(\"div#pip-server-data\").text();\r\n//   if (pipServerDataText.indexOf('var serverData =') >= 0) {\r\n//     pipServerDataText = '_ttServerData = ' + pipServerDataText.split('var serverData =')[1].split('return serverData')[0].trim();\r\n//     pipServerDataText = pipServerDataText.replace(/serverData\\.(\\w+)/g, '_ttServerData.$1'); // e.g. \"serverData.product = {...}\"\r\n//     // try-catch for this eval, to avoid timeout if it gives error \"Invalid or unexpected token\" [Serban 2016-12-06]\r\n//     try {\r\n//       eval(pipServerDataText);\r\n//     }\r\n//     catch(err) {\r\n//       __utils__.echo('--- ERROR! - eval(pipServerDataText) => ' + err.message);\r\n//       // blocking product in case of error parsing \"pipServerDataText\"\r\n//       var _ttBlockMsg = 'PRODUCT NOT SUPPORTED - ERROR PARSING pipServerDataText';\r\n//       document.body.innerHTML = '<h1>[TWOTAP] ' + _ttBlockMsg + '<h1>';\r\n//       __utils__.echo('--- ' + _ttBlockMsg);\r\n//       // ready to exit from prod-opts-JS with blocked product\r\n//       __utils__.echo('--- exit from prod-opts-JS with blocked product @ ms ' + timePassed() );\r\n//       productOptsBlock = false;\r\n//     }\r\n//   }\r\n//   if (_ttServerData && _ttServerData['product']) {\r\n//     __utils__.echo('--- extracting product data from _ttServerData');\r\n//     _ttProductData = _ttServerData['product'];\r\n//     _ttProductId = _ttProductData['productId'];\r\n//   }\r\n// }\r\n\r\n// // get pipModelRequest off window\r\n// var pipModelRequest = $.getWindowVars('pipModelRequest');\r\n// var pipModelRequest = {};\r\n// // fallback extraction of product data from \"pipModelRequest['response']\" [Serban 2017-08-23]\r\n// if (!Object.keys(_ttProductData).length) {\r\n//   if (typeof pipModelRequest == 'object' && pipModelRequest['response']) {\r\n//     var pipModelData = JSON.parse(pipModelRequest['response']);\r\n//     if (pipModelData && pipModelData['primaryItemData']) {\r\n//       _ttProductData = pipModelData['primaryItemData'];\r\n//       _ttProductId = _ttProductData['productId'];\r\n//     }\r\n//   }\r\n// }\r\n\r\n// // // get pipModelRequest off window\r\n// // var PIP_HOOKS = $.getWindowVars(['PIP_HOOKS']);\r\n \r\n// // // fallback extraction of product data from \"pipModelRequest['response']\" [Serban 2017-08-23]\r\n// // if (!Object.keys(_ttProductData).length) {\r\n// //   if (typeof PIP_HOOKS == 'object' && PIP_HOOKS['pip']) {\r\n// //     _ttProductData = PIP_HOOKS['pip']['products']['primary']['data'];\r\n// //     _ttProductId = _ttProductData['productId'];\r\n// //   }\r\n// // }\r\n// // fallback extraction of product data from \"__BOOTSTRAPPED_PROPS__\" for pp v2 [Serban 2019-05-06]\r\n// // -- https://www.homedepot.com/p/Homepop-Nail-Head-Trim-Storage-Bench-K6159-F1332/303705217\r\n// if (!Object.keys(_ttProductData).length) {\r\n//   var __BOOTSTRAPPED_PROPS__ = $.getWindowVars('__BOOTSTRAPPED_PROPS__');\r\n//   if (typeof __BOOTSTRAPPED_PROPS__ == 'object') {\r\n//     __utils__.echo('--- found __BOOTSTRAPPED_PROPS__');\r\n//     if (__BOOTSTRAPPED_PROPS__['SkuLoader'] && __BOOTSTRAPPED_PROPS__['SkuLoader']['sku']) {\r\n//       __utils__.echo('--- extracting product data from __BOOTSTRAPPED_PROPS__.SkuLoader');\r\n//       _ttProductData = __BOOTSTRAPPED_PROPS__['SkuLoader']['sku'];\r\n//       _ttProductId = _ttProductData['productId'];\r\n//     }\r\n//     // new store-defined object structure [Serban 2019-10-31]\r\n//     // -- https://www.homedepot.com/p/Sleep-Options-Cool-Top-Gel-14-in-Memory-Foam-Mattress-412167-1150/309600834\r\n//     else if (__BOOTSTRAPPED_PROPS__['SkuService'] && __BOOTSTRAPPED_PROPS__['SkuService']['sku']) {\r\n//       __utils__.echo('--- extracting product data from __BOOTSTRAPPED_PROPS__.SkuService');\r\n//       _ttProductData = __BOOTSTRAPPED_PROPS__['SkuService']['sku'];\r\n//       _ttProductId = _ttProductData['productId'];\r\n//     }\r\n//   }\r\n// }\r\n\r\n\r\n// //// GLOBAL VARS AND FUNCTIONS -- START [Serban 2018-12-19]\r\n\r\n// _ttPriceFound = true;\r\n// _ttPriceFromObj = '';\r\n// _ttPickupOnlyMessage = 'Only available for pick up in store. Ship to home not available.';\r\n// _ttSkusData = [];\r\n\r\n// // old \"priceDiv\" reworked as global var, because we use it in multiple functions [Serban 2019-04-22]\r\n// // -- it was causing timeout in prod-opts-JS if undefined inside some of the functions\r\n// _ttPriceDiv = null;\r\n\r\n// // function to format date from \"2015-09-24\" to \"SEP 24\" (the format displayed by the store)\r\n// _ttFormatShipDate = function(dateOld) {\r\n//   var dateOldPieces = dateOld.split('-');\r\n//   if (dateOldPieces.length<3) {\r\n//     return 'INVALID DATE';\r\n//   }\r\n//   var monthIdx = dateOldPieces[1] - 1;\r\n//   var monthNames = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\r\n//   var dateNew = monthNames[monthIdx] + ' ' + parseInt(dateOldPieces[2]);\r\n//   return dateNew;\r\n// };\r\n\r\n// // function to extract extra-info from skuData.shipping\r\n// _ttExtractExtraInfo = function(shipping) {\r\n//   var extraInfo = '';\r\n//   if (shipping) {\r\n//     if (shipping.eligibleForFreeShipping && typeof shipping.freeShippingMessage == 'string') {\r\n//       extraInfo += shipping.freeShippingMessage.trim();\r\n//       if (extraInfo[extraInfo.length - 1] != '.') {\r\n//         extraInfo += '.';\r\n//       }\r\n//     }\r\n//     if (typeof shipping.sthEstimatedShippingStartDate == 'string' && typeof shipping.sthEstimatedShippingEndDate == 'string') {\r\n//       var shipDateStart = _ttFormatShipDate(shipping.sthEstimatedShippingStartDate);\r\n//       var shipDateEnd = _ttFormatShipDate(shipping.sthEstimatedShippingEndDate);\r\n//       // fixed arrival-date format to avoid an interval with duplicate dates [Serban 2019-02-18]\r\n//       // -- e.g. instead of \"Estimated Arrival: FEB 25 - FEB 25.\", we now display \"Estimated Arrival: FEB 25.\"\r\n//       // ---- https://www.homedepot.com/p/Fasade-24-in-x-18-in-Waves-PVC-Decorative-Tile-Backsplash-in-Argent-Silver-B65-09/202881821\r\n//       if (shipDateStart == shipDateEnd) {\r\n//         extraInfo += ' Estimated Arrival: ' + shipDateEnd + '.';\r\n//       }\r\n//       else {\r\n//         extraInfo += ' Estimated Arrival: ' + shipDateStart + ' - ' + shipDateEnd + '.';\r\n//       }\r\n//     }\r\n//   }\r\n//   // adding excluded-ship-states to extra-info\r\n//   if (shipping.excludedShipStates && shipping.excludedShipStates.length) {\r\n//     extraInfo += ' Item cannot be shipped to the following state(s): ' + shipping.excludedShipStates.trim();\r\n//   }\r\n//   return extraInfo;\r\n// };\r\n\r\n// // initializing associations between \"option text\" and \"option text safe\" (used in swatch-URL values)\r\n// _ttTextSafeToOriginal = {}; // e.g. 'ivorygold' => 'Ivory Gold' (without attribute-name!)\r\n\r\n// // function to generate option text [Serban 2019-02-15]\r\n// _ttGetOptionText = function(el) {\r\n//   var elText = el.text().trim();\r\n//   var elImg = __utils__.findOne(\"img\", el);\r\n//   if (elImg && !elText.length) {\r\n//     // this attribute has swatch-images only, no textContent (e.g. \"Color/Finish\" swatch-images)\r\n//     // -- fixed for pp v2 [Serban 2019-05-08]\r\n//     if (_ttAttributesVersion == 1) {\r\n//       // pp v1 => do NOT use \"elImg.alt\"\r\n//       // -- because it may have a corrupted text which does not match the text from Ajax calls\r\n//       // -- and it may lead to multiple options with duplicate text in \"elImg.alt\" - e.g. \"Fingerprint\"\r\n//       // -- vs. distinct texts in \"data-tilemessaging\" - e.g. \"Fingerprint_Resistant_Black_Slate\", \"Fingerprint_Resistant_Black_Stainless_Steel\"\r\n//       // ---- https://www.homedepot.com/p/GE-Profile-2-2-cu-ft-Countertop-Microwave-in-Stainless-Steel-with-Sensor-Cooking-PES7227SLSS/302944128\r\n//       // -- also converting underscores to spaces, in order to match the text from Ajax calls\r\n//       // -- e.g. \"Stainless_Steel/Gray\" => \"Stainless Steel/Gray\", or \"Chili_Red\" => \"Chili Red\"\r\n//       // ---- https://www.homedepot.com/p/Hampton-Bay-11-ft-Aluminum-Cantilever-Solar-LED-Offset-Patio-Umbrella-in-Putty-YJAF052-PU/305779766\r\n//       if (el.attr('data-tilemessaging')) {\r\n//         elText = el.attr('data-tilemessaging').replace(/_/g, ' ').trim();\r\n//       }\r\n//     }\r\n//     if (_ttAttributesVersion == 2) {\r\n//       // pp v2 => DO use \"elImg.alt\"\r\n//       // -- because it matches the text from Ajax calls\r\n//       // -- e.g. \"Polished Copper\" in \"elImg.alt\", but only \"Polished\" in the parent \"button.title\"\r\n//       // ---- https://www.homedepot.com/p/Fasade-24-in-x-18-in-Waves-PVC-Decorative-Tile-Backsplash-in-Argent-Silver-B65-09/202881821\r\n//       elText = elImg.attr('alt').trim();\r\n//     }\r\n//   }\r\n//   if (!elText.length) {\r\n//     var elHtml = el.prop('outerHTML').replace(/\\n|\\r/g, '').replace(/\\s+/g, ' ').trim();\r\n//     __utils__.echo('--- ERROR: text extraction failed for element HTML = ' + elHtml);\r\n//   }\r\n//   return elText;\r\n// };\r\n\r\n// // function to generate option value [updated Serban 2019-02-15]\r\n// _ttGetOptionValue = function(el) {\r\n//   var elValue = '';\r\n//   var elText = _ttGetOptionText(el);\r\n//   var elImg = __utils__.findOne(\"img\", el);\r\n//   if (elImg) {\r\n//     // this attribute has swatch-images\r\n//     // adding option-text to swatch-URL, in order to avoid duplicates (e.g. multiple colors with \"missing_swatch.jpg\")\r\n//     // -- https://www.homedepot.com/p/Veneerstone-Pacific-Ledge-Stone-Mendocino-Flats-150-sq-ft-Bulk-Pallet-Manufactured-Stone-97464/202189872\r\n//     var elTextSafe = elText.replace(/\\W/g, '').toLowerCase().trim();\r\n//     elValue = elImg.attr('src') + '#' + elTextSafe;\r\n//     _ttTextSafeToOriginal[elTextSafe] = elText; // saving this \"safe text\" transformation, for easy reversal in GET function\r\n//   }\r\n//   else {\r\n//     // this attribute has text only (no swatch-images)\r\n//     // => adding attribute-name to option-text\r\n//     // -- fixed for pp v2 [Serban 2019-05-08]\r\n//     var attrIdx = -1; // this attrIdx starts from 0, once properly defined below\r\n//     if (_ttAttributesVersion == 1) {\r\n//       // pp v1\r\n//       var thisAttrBox = $(el).closest(\"div[data-attributename]\");\r\n//       attrIdx = $(\"div[data-attributename]\").index(thisAttrBox);\r\n//     }\r\n//     if (_ttAttributesVersion == 2) {\r\n//       // pp v2\r\n//       var thisAttrBox = $(el).closest(\"div.productmarquee div.product-variant__wrapper\");\r\n//       attrIdx = $(\"div.productmarquee div.product-variant__wrapper\").index(thisAttrBox);\r\n//     }\r\n//     elValue = _ttAttributes[attrIdx].name + ': ' + elText;\r\n//   }\r\n//   if (!elValue.length) {\r\n//     var elHtml = el.prop('outerHTML', el.prop('outerHTML').replace(/\\n|\\r/g, '').replace(/\\s+/g, ' ').trim());\r\n//     __utils__.echo('--- ERROR: value extraction failed for element HTML = ' + elHtml);\r\n//   }\r\n//   return elValue;\r\n// };\r\n\r\n// // function to generate option value based on sku data for a given attribute idx\r\n// _ttGetAttrValueFromData = function(attrsArray, attrIdx) {\r\n//   var value = '';\r\n//   var attrName = _ttAttributes[attrIdx-1].name;\r\n//   if (!attrsArray[0]) {\r\n//     attrsArray = [ attrsArray ];\r\n//   }\r\n//   for (var iPos=0; iPos<attrsArray.length; iPos++) {\r\n//     var attrData = attrsArray[iPos];\r\n//     if (attrData.attributeName == attrName) {\r\n//       // looking for the option (HTML element) matching this \"value\" (interpreting this as option-text, not URL!)\r\n//       var attrText = attrData.attributeValue;\r\n//       // fixed for pp v2 [Serban 2019-05-08]\r\n//       var opts = __utils__.findAll(\"div[data-attributename]:eq(\" + (attrIdx-1) + \") div[data-tilemessaging], div.productmarquee div.product-variant__wrapper:eq(\" + (attrIdx-1) + \") div.variant__wrapper button\");\r\n//       for (var jPos=0; jPos<opts.length; jPos++) {\r\n//         var el = opts[jPos];\r\n//         var elText = _ttGetOptionText(el);\r\n//         if (elText == attrText) {\r\n//           value = _ttGetOptionValue(el); // this includes the attribute-name for text-only options!\r\n//         }\r\n//       }\r\n//     }\r\n//   }\r\n//   return value;\r\n// };\r\n\r\n// // function to extract product-image and alt-images from skuData.mediaList\r\n// _ttExtractImages = function(mediaList) {\r\n//   var imagesObj = {};\r\n//   imagesObj['image'] = '';\r\n//   imagesObj['alt_images'] = [];\r\n//   for (var iPos=0; iPos<mediaList.length; iPos++) {\r\n//     var thisMedia = mediaList[iPos];\r\n//     // looking for thumb (145px) = product image\r\n//     // -- extracting higher-res version (600px) [Serban 2017-02-23]\r\n//     //if (thisMedia['width'] == '145' && thisMedia['mediaType'] == 'IMAGE') {\r\n//     if (thisMedia['width'] == '600' && thisMedia['mediaType'] == 'IMAGE') {\r\n//       imagesObj['image'] = thisMedia['location'];\r\n//     }\r\n//     // using 600px images (instead of 1000px), because some alt-images do NOT have the 1000 version, only 600\r\n//     // -- e.g. http://www.homedepot.com/p/100376505\r\n//     if (thisMedia['width'] == '600' && thisMedia['mediaType'].indexOf('IMAGE') >= 0) {\r\n//       imagesObj['alt_images'].push(thisMedia['location']);\r\n//     }\r\n//   }\r\n//   return imagesObj;\r\n// };\r\n\r\n// // function to generate a (partial-) hashKey for the current selection of attributes\r\n// _ttMakeHashKeyStart = function(attrIdx, fillValue) {\r\n//   var hashKeyStart = '';\r\n//   if (attrIdx == 1) {\r\n//     hashKeyStart = fillValue;\r\n//   }\r\n//   if (attrIdx == 2) {\r\n//     hashKeyStart = _ttFillValueAttr1 + '--XX--' + fillValue;\r\n//   }\r\n//   if (attrIdx == 3) {\r\n//     hashKeyStart = _ttFillValueAttr1 + '--XX--' + _ttFillValueAttr2 + '--XX--' + fillValue;\r\n//   }\r\n//   if (_ttAttributes.length > attrIdx) {\r\n//     hashKeyStart += '--XX--';\r\n//   }\r\n//   return hashKeyStart;\r\n// };\r\n\r\n// // GET function for generic attributes\r\n// _ttAttributeGet = function(attrIdx) {\r\n//   var result = [];\r\n//   var opts = _ttSortedValues[attrIdx];\r\n//   for (var iPos=0; iPos<opts.length; iPos++) {\r\n//     var elValue = opts[iPos];\r\n//     // filtering oos options for NON-first attributes\r\n//     var optsAvailable = [];\r\n//     if (attrIdx == 1) { optsAvailable = _ttCombos1; }\r\n//     if (attrIdx == 2) { optsAvailable = _ttCombos2[_ttFillValueAttr1]; }\r\n//     if (attrIdx == 3) { optsAvailable = _ttCombos3[_ttFillValueAttr1][_ttFillValueAttr2]; }\r\n//     if (optsAvailable.indexOf(elValue) < 0) {\r\n//       continue; // this option from \"_ttSortedValues\" is not available in the corresponding _ttCombos array\r\n//     }\r\n//     // options = swatch-images\r\n//     if (_ttAttributes[attrIdx-1].type == 'image') {\r\n//       // decoding text from value\r\n//       var elTextSafe = elValue.split('#')[1];\r\n//       var elText = _ttTextSafeToOriginal[elTextSafe];\r\n//       // adding attribute-name to option-text\r\n//       elText = _ttAttributes[attrIdx-1].name + ': ' + elText;\r\n//       var obj = { text: elText, value: elValue };\r\n//       result.push(obj); // text + value (swatch URL), for options with swatch-images\r\n//     }\r\n//     // options = swatch-texts\r\n//     else {\r\n//       result.push(elValue); // text only, for options without swatch-images (this text-value includes the attribute-name)\r\n//     }\r\n//   }\r\n//   return result;\r\n// };\r\n\r\n// // SET function for generic attributes\r\n// _ttAttributeSet = function(attrIdx, fillValue) {\r\n//   __utils__.echo('--- option' + attrIdx + ' fillValue = ' + fillValue);\r\n//   var changed = false;\r\n//   // we do not check & select options when reading the product\r\n//   // -- because we rely on the available options generated in _ttCombos1 / _ttCombos2 / _ttCombos3\r\n//   if (_t_productPageStatus == 'product_info') {\r\n//     changed = true;\r\n//     // updating image & alt-images (for all attributes, not just swatch-images!)\r\n//     // -- generating (partial-) hashKey for the current selection of attributes\r\n//     // -- we will use the images from the first (partially-) matching hashKey from preparedProductData\r\n//     var hashKeyStart = _ttMakeHashKeyStart(attrIdx, fillValue);\r\n//     var imagesObj = {};\r\n//     Object.keys(preparedProductData).forEach(function(thisElem) {\r\n//       if (thisElem.indexOf(hashKeyStart) === 0) {\r\n//         __utils__.findOne(\"img#imageTwoTap\").attr('src', preparedProductData[thisElem]['image']);\r\n//         jQuery(\"img.altImageTwoTap\").remove();\r\n//         var altImages = preparedProductData[thisElem]['alt_images'];\r\n//         for (var xPos=0; xPos<altImages.length; xPos++) {\r\n//           jQuery(\"body\").append('<img class=\"altImageTwoTap\" src=\"' + altImages[xPos] + '\">');\r\n//         }\r\n//         return false; // this breaks out of jQuery.each(), NOT from SET function!\r\n//       }\r\n//     });\r\n\r\n//     // tracking currently-set value for this attribute\r\n//     if (attrIdx == 1) { _ttFillValueAttr1 = fillValue; }\r\n//     if (attrIdx == 2) { _ttFillValueAttr2 = fillValue; }\r\n//   }\r\n//   // we only check & select options during Purchase and /pickup\r\n//   else {\r\n//     // fixed for pp v2 [Serban 2019-05-08]\r\n//     var opts = __utils__.findAll(\"div[data-attributename]:eq(\" + (attrIdx-1) + \") div[data-tilemessaging], div.productmarquee div.product-variant__wrapper:eq(\" + (attrIdx-1) + \") div.variant__wrapper button\");\r\n//     for (var iPos=0; iPos<opts.length; iPos++) {\r\n//       var el = opts[iPos];\r\n//       var elValue = _ttGetOptionValue(el);\r\n//       __utils__.echo('---> el value = ' + elValue );\r\n//       if (elValue == fillValue) {\r\n//         __utils__.mouseEvent('click', el);\r\n//         changed = true;\r\n//         // stop parsing options after a match is found during purchase [Serban 2019-02-15]\r\n//         // -- because this click may trigger a redirect('ish?) => some JS will fail when parsing the next option\r\n//         break;\r\n//       }\r\n//     }\r\n//   }\r\n//   return changed;\r\n// };\r\n\r\n// // functions to extract the longest-common-substring, shared by all strings in an array (\"arr\") [Serban 2016-07-06]\r\n// // -- we use this for extracting a \"clean\" product title (without the included attribute values), shared by all skus\r\n// _ttIsSubstring = function(substr, arr) {\r\n//   // checking if \"substr\" is found in all the strings from \"arr\"\r\n//   for (var iPos=0; iPos<arr.length; iPos++) {\r\n//     // checking case-insensitive [Serban 2019-02-18]\r\n//     if (arr[iPos].toLowerCase().indexOf(substr.toLowerCase()) < 0) {\r\n//       return false;\r\n//     }\r\n//   }\r\n//   return true;\r\n// };\r\n// _ttLongestSubstring = function(arr) {\r\n//   substr = ''; // tracking the currently-longest substring\r\n//   if (!arr.length) { return ''; }\r\n//   if (arr.length == 1) { return arr[0]; }\r\n//   if (arr.length >= 2) {\r\n//     for (var iPos=0; iPos<arr[0].length; iPos++) {\r\n//       // check substring only if a new word follows - i.e. iPos=0 (start of string), or space at current iPos\r\n//       if (iPos === 0 || arr[0][iPos] == ' ') {\r\n//         for (var xLen=1; xLen<=(arr[0].length-iPos); xLen++) {\r\n//           // xLen = length of currently-checked substring\r\n//           checkSubstr = arr[0].substr(iPos, xLen);\r\n//           // checkSubstr = currently-checked substring\r\n//           // -- it must have more letters (!) than the currently-longest \"substr\" (to avoid \"junk\" strings)\r\n//           // -- it must also be found in all the strings from \"arr\"\r\n//           if (checkSubstr.replace(/[^a-zA-Z]/g, '').length>substr.replace(/[^a-zA-Z]/g, '').length && _ttIsSubstring(arr[0].substr(iPos, xLen), arr)) {\r\n//             substr = arr[0].substr(iPos, xLen);\r\n//           }\r\n//         }\r\n//       }\r\n//     }\r\n//   }\r\n//   return substr;\r\n// };\r\n\r\n// // initializing array of product titles from all skus (from this, we will extract a \"clean\" title shared by all skus)\r\n// _ttSkusTitles = [];\r\n\r\n// // function to update the product title with a \"clean\" title shared by all skus [Serban 2016-07-06]\r\n// _ttCleanTitle = function() {\r\n//   var cleanTitle = _ttLongestSubstring(_ttSkusTitles).trim();\r\n//   __utils__.echo('--- titles of all skus: ' + JSON.stringify(_ttSkusTitles));\r\n//   __utils__.echo('--- \"clean\" title shared by all skus = ' + cleanTitle);\r\n//   // additional cleaning-up of \"clean\" title :)\r\n//   // -- removing \"in.\" / \"ft.\" or \"in. x [number] in.\" / \"ft. x [number] ft.\" from the start (e.g. \"in. x 80 in. Textured ...\")\r\n//   cleanTitle = cleanTitle.replace(/^(in|ft)\\.( x \\d+ (in|ft).)*/, '').trim();\r\n//   // -- removing \"x \" from the start (e.g. \"x Your Choice Length Roll Runner\")\r\n//   cleanTitle = cleanTitle.replace(/^x /, '').trim();\r\n//   // -- removing \"Length \" from the start (e.g. \"Length Laminate Flooring\")\r\n//   cleanTitle = cleanTitle.replace(/^Length /, '').trim();\r\n//   // -- removing trailing \" in\" / \" with\" / \" -\" (e.g. title extracted from [\"Gizmo in Black\", \"Gizmo in White\"] => \"Gizmo in\")\r\n//   cleanTitle = cleanTitle.replace(/ in$| with$| -$/, '').trim();\r\n//   __utils__.echo('--- \"final-clean\" title = ' + cleanTitle);\r\n//   // do NOT update the product title, if the \"final-clean\" title is shorter than \"_ttCleanTitleMinLength\" characters\r\n//   if (cleanTitle.length >= _ttCleanTitleMinLength) {\r\n//     jQuery(\"h1.product-title__title\").text(cleanTitle);\r\n//   }\r\n//   else {\r\n//     __utils__.echo('--- \"final-clean\" title too short => NOT updating the product title');\r\n//   }\r\n// };\r\n\r\n// // function to extract weight from \"Product Weight (lb.)\" in skuData [Serban 2017-02-23]\r\n// // -- e.g. { ..., { \"guid\": \"...\", \"name\": \"Product Weight (lb.)\", \"value\": \"56\" }, ... }\r\n// // -- if \"weightType\" is \"gross\", then weight is extracted from \"Dotcom Shipping Carton Gross Weight (lb)\" in _ttProductData\r\n// // -- fixed code based on new data structure in the store [Serban 2019-02-18]\r\n// _ttGetWeight = function(obj, weightType) {\r\n//   var weightValue = 2.20462; // default weight = 1000 g (2.20462 lbs)\r\n//   var weightFound = false;\r\n//   // parsing attribute-groups\r\n//   var groupsArray = obj;\r\n//   if (obj['group'] && obj['group'].length) {\r\n//     // different data-structure in Ajax calls\r\n//     groupsArray = obj['group'];\r\n//   }\r\n//   for (var iPos=0; iPos<groupsArray.length; iPos++) {\r\n//     var groupData = groupsArray[iPos];\r\n//     // parsing group-entries\r\n//     var entriesArray = groupData['entries'];\r\n//     if (groupData['entries']['attribute'] && groupData['entries']['attribute'].length) {\r\n//       // different data-structure in Ajax calls\r\n//       entriesArray = groupData['entries']['attribute'];\r\n//     }\r\n//     for (var jPos=0; jPos<entriesArray.length; jPos++) {\r\n//       var entryData = entriesArray[jPos];\r\n//       var weightMatches = null;\r\n//       if (weightType == 'gross') {\r\n//         weightMatches = entryData['name'].toString().match(/Dotcom Shipping Carton Gross Weight \\(lb/i);\r\n//       }\r\n//       else {\r\n//         weightMatches = entryData['name'].toString().match(/Product Weight \\(lb/i); // toString() needed for value e.g. boolean \"true\"\r\n//       }\r\n//       if (weightMatches) {\r\n//         weightValue = entryData['value'];\r\n//         // debugging weight only if we make a small number of Ajax calls [Serban 2017-05-29]\r\n//         // -- otherwise the log gets super-spammed\r\n//         // ---- http://www.homedepot.com/p/Home-Decorators-Collection-Maple-2-1-2-in-Premium-Faux-Wood-Blind-35-in-W-x-72-in-L-Actual-Size-34-5-in-W-x-72-in-L-10793478067817/202616348\r\n//         if (typeof _ttSkusArray == 'undefined' || _ttSkusArray.length < 10) {\r\n//           __utils__.echo('---> weightValue = ' + weightValue + ', weightType = ' + weightType);\r\n//         }\r\n//         weightFound = true;\r\n//         break; // \"weightValue\" found => stop parsing group-entries (from the current group)\r\n//       }\r\n//     }\r\n//     if (weightFound) {\r\n//       break; // stop parsing attribute-groups\r\n//     }\r\n//   }\r\n//   return weightValue;\r\n// };\r\n\r\n// // CODE RELYING ON STORE ID -- START\r\n// // -- encapsulating ALL operations that depend on the store ID (including all other Ajax calls) into a function\r\n// // -- if custom zip passed via URL argument => we call this function only after we retrieve the store ID for that zip\r\n// // -- if NO custom zip => we call this function immediately\r\n// _ttCodeRelyingOnStoreId = function() {\r\n//   // [DISABLED THIS PART - Serban 2016-09-05] we only run these operations during \"product_info\" (not during \"purchase\" / \"pickup\")\r\n//   // -- we do NOT run these operations if productOptsBlock was already set to \"false\" (e.g. blocked product)\r\n//   //if (_t_productPageStatus != 'product_info' || !productOptsBlock) {\r\n//   if (!productOptsBlock) { // we DO run this function even during Purchase / Pickup, because of change in core as of Sep. 2016\r\n//     return true;\r\n//   }\r\n//   // forcing API calls for products without attributes -- START\r\n//   // -- we do this only if the product has NO attributes\r\n//   // -- we do this only if \"_ttForceApiCalls\" is true, or if \"_ttPriceFound\" is false\r\n//   if (!_ttAttributes.length && (_ttForceApiCalls || !_ttPriceFound)) {\r\n//     _ttStoreIdLastChecked = null; // we use this to track the last-checked store ID, during forced API calls\r\n\r\n//     // function for making [recursive] API calls for an array of stores, until a price is found\r\n//     _ttApiCallNextStore = function() {\r\n//       // promising to exit from prod-opts-JS with delay (after Ajax calls)\r\n//       _ttPromiseToExit = true;\r\n//       // determining the next store ID to be parsed from _ttAltStoreIds, if any left unparsed\r\n//       var nextStoreId = '';\r\n//       if (_ttStoreIdLastChecked && _ttAltStoreIds.indexOf(_ttStoreIdLastChecked) >= 0) {\r\n//         var nextStoreIdIdx = _ttAltStoreIds.indexOf(_ttStoreIdLastChecked) + 1;\r\n//         if (_ttAltStoreIds[nextStoreIdIdx]) {\r\n//           nextStoreId = _ttAltStoreIds[nextStoreIdIdx];\r\n//         }\r\n//         else {\r\n//           __utils__.echo('--- WARNING! - parsed all alternative stores, no price found for any of them!');\r\n//           productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//           __utils__.echo('--- ready to exit from prod-opts-JS after ALL Ajax calls @ ms ' + timePassed() );\r\n//           return false;\r\n//         }\r\n//       }\r\n//       else {\r\n//         nextStoreId = _ttAltStoreIds[0];\r\n//       }\r\n//       __utils__.echo('--- forcing API call with store ID = ' + nextStoreId);\r\n//       // product without attributes => itemId = productId\r\n//       var ajaxUrl = 'https://api.homedepot.com/v3/catalog/products/sku?itemId=' + _ttProductId + '&storeId=' + nextStoreId + '&key=' + _ttApiKey + '&type=json';\r\n//       // API call -- START\r\n//       _vimAjaxRequest = request({\r\n//         method: \"GET\",\r\n//         url: ajaxUrl,\r\n//         storeId: nextStoreId\r\n//       });\r\n//       _vimAjaxSuccess = function(ajaxObj) {\r\n//         __utils__.echo('--- Ajax response for storeId = ' + this.storeId + ' @ ms ' + timePassed() );\r\n//         _ttStoreIdLastChecked = this.storeId;\r\n//         if (!ajaxObj.products || !ajaxObj.products.product) {\r\n//           __utils__.echo('--- ERROR! - forcing exit from prod-opts-JS, because of invalid Ajax response: ' + ajaxObj);\r\n//           productOptsBlock = false; // forcing exit from prod-opts-JS\r\n//           return false;\r\n//         }\r\n//         var skuData = ajaxObj.products.product.skus.sku.storeSkus.storeSku;\r\n//         // at this point, skuData can be either an object, or an array of objects (in which case we use its first element)\r\n//         if (skuData && skuData[0]) {\r\n//           skuData = skuData[0];\r\n//         }\r\n//         // if we find a price for this sku, we inject / update it (if already injected) and stop making recursive calls\r\n//         if (skuData && skuData['pricing'] && skuData['pricing']['specialPrice']) {\r\n//           var thisPrice = '$' + skuData['pricing']['specialPrice'];\r\n//           __utils__.echo('--- PRICE FOUND IN AJAX RESPONSE - injecting / updating price = ' + thisPrice);\r\n//           if (__utils__.findOne(\"div#priceInjectedTT\")) {\r\n//             __utils__.findOne(\"div#priceInjectedTT\").text(thisPrice); // updating injected price\r\n//           }\r\n//           else {\r\n//             jQuery(\"body\").append('<div id=\"priceInjectedTT\">' + thisPrice + '</div>'); // injecting price\r\n//           }\r\n//           jQuery(_ttPriceDiv).remove(); // removing original price (if any), because we have to use the injected price\r\n//           _ttPriceFound = true; // redundant\r\n//           // price found and injected / updated => stop making recursive calls\r\n//           productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//           __utils__.echo('--- ready to exit from prod-opts-JS after ALL Ajax calls @ ms ' + timePassed() );\r\n//         }\r\n//         else {\r\n//           // price not found => continue with next recursive call\r\n//           _ttApiCallNextStore();\r\n//         }\r\n//       };\r\n//       _vimAjaxFail = function(jqXHR, textStatus, errorThrown) { // [Ajax fail scenario added - Serban 2016-08-16]\r\n//         __utils__.echo('--- Ajax FAIL for _ttProductId = ' + _ttProductId + ' @ ms ' + timePassed() );\r\n//         // retrying this Ajax call with a fallback product ID (from \"itemId\"), starting over with store IDs\r\n//         if (_ttProductData && _ttProductData['itemId'] && _ttProductData['itemId'] != _ttProductId) {\r\n//           _ttProductId = _ttProductData['itemId'];\r\n//           __utils__.echo('--- retrying Ajax call with fallback product ID = ' + _ttProductId);\r\n//           _ttStoreIdLastChecked = null;\r\n//           _ttApiCallNextStore();\r\n//         }\r\n//       };\r\n//       if (_vimAjaxRequest.error) {\r\n//         _vimAjaxFail();\r\n//       } else {\r\n//         _vimAjaxSuccess(_vimAjaxRequest.body);\r\n//       }\r\n//       __utils__.echo('--- ready to exit from prod-opts-JS after Ajax call');\r\n//       productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//       // VIM Ajax call -- END\r\n//     };\r\n\r\n//     // starting recursive API calls\r\n//     _ttApiCallNextStore();\r\n//   }\r\n//   // forcing API calls for products without attributes -- END\r\n\r\n//   // generating hash \"preparedProductData\" -- START\r\n//   // -- we do this only if the product has attributes\r\n//   if (_ttAttributes.length) {\r\n//     // initializing hash\r\n//     preparedProductData = {};\r\n  \r\n//     // promising to exit from prod-opts-JS with delay (after Ajax calls)\r\n//     _ttPromiseToExit = true;\r\n  \r\n//     // initializing object with arrays of SORTED values for each attribute\r\n//     // -- these will include all possible options (including oos, and in order)\r\n//     _ttSortedValues = { 1: [], 2: [], 3: [] };\r\n  \r\n//     // initializing combos\r\n//     // -- these will include only available options (NO oos, and potentially NOT sorted)\r\n//     _ttCombos1 = []; // array => attr1 values\r\n//     _ttCombos2 = {}; // object => attr2 values, for each attr1 value\r\n//     _ttCombos3 = {}; // object => attr3 values, for each attr1+attr2 sub-combo\r\n  \r\n//     // generating sorted values for each attribute\r\n//     // -- fixed for pp v2 [Serban 2019-05-08]\r\n//     var attr1count = __utils__.findAll('div.attribute div.super-sku__inline-swatch');\r\n//     $(\"div.attribute div.super-sku__inline-swatch, div.productmarquee div.product-variant__wrapper:eq(0) div.variant__wrapper button\").toArray().forEach(function(thisElem) {\r\n//       var attr1Value = _ttGetOptionValue(thisElem);\r\n//       _ttSortedValues[1].push(attr1Value);\r\n//     });\r\n//     // __utils__.findAll(\"div[data-attributename]:eq(0) div[data-tilemessaging], div.productmarquee div.product-variant__wrapper:eq(0) div.variant__wrapper button\").forEach(function(thisElem) {\r\n//     //   var attr1Value = _ttGetOptionValue(thisElem);\r\n//     //   _ttSortedValues[1].push(attr1Value);\r\n//     // });\r\n//     jQuery(\"div[data-attributename]:eq(1) div[data-tilemessaging], div.productmarquee div.product-variant__wrapper:eq(1) div.variant__wrapper button\").toArray().forEach(function(thisElem) {\r\n//       var attr2Value = _ttGetOptionValue(thisElem);\r\n//       _ttSortedValues[2].push(attr2Value);\r\n//     });\r\n//     jQuery(\"div[data-attributename]:eq(2) div[data-tilemessaging], div.productmarquee div.product-variant__wrapper:eq(2) div.variant__wrapper button\").toArray().forEach(function(thisElem) {\r\n//       var attr3Value = _ttGetOptionValue(thisElem);\r\n//       _ttSortedValues[3].push(attr3Value);\r\n//     });\r\n\r\n//     // debugging sorted values for each attribute [Serban 2017-02-07]\r\n//     __utils__.echo('--- _ttSortedValues = ' + JSON.stringify(_ttSortedValues) );\r\n  \r\n//     // initializing array for all potentially-available skus, to be retrieved via initial Ajax call\r\n//     _ttSkusArray = [];\r\n  \r\n//     // generating data for all Ajax calls -- START\r\n//     var urlCombos = 'https://api.homedepot.com/v3/catalog/products/' + _ttProductId + '/metadata?key=' + _ttApiKey + '&type=json';\r\n//     __utils__.echo('--- starting Ajax call for urlCombos = ' + urlCombos);\r\n//     _vimAjaxRequestOuter = request({\r\n//       method: 'GET',\r\n//       url: urlCombos\r\n//     });\r\n//     _vimAjaxSuccessOuter = function(ajaxObj) {\r\n//       if (typeof ajaxObj == 'object' && ajaxObj.products && ajaxObj.products[0] && ajaxObj.products[0].metadata && ajaxObj.products[0].metadata.skuLookup) {\r\n//         _ttSkusArray = ajaxObj.products[0].metadata.skuLookup;\r\n//       }\r\n//       __utils__.echo('--- found ' + _ttSkusArray.length + ' skus for productId = ' + _ttProductId + ' @ ms ' + timePassed() );\r\n  \r\n//       // splitting _ttSkusArray into chunks of length = _ttSkusPerAjaxCall\r\n//       // -- source: http://stackoverflow.com/questions/11318680/split-array-into-chunks-of-n-length\r\n//       var itemIds = _ttSkusArray.map(function(obj) { return obj.itemId; });\r\n//       var itemIdSets = [];\r\n//       while (itemIds.length > 0) {\r\n//         itemIdSets.push(itemIds.splice(0, _ttSkusPerAjaxCall));\r\n//       }\r\n  \r\n//       // generating array with data for all Ajax calls: url, itemIdsJoined\r\n//       _ttAjaxCallsData = [];\r\n//       itemIdSets.forEach(function(thisElem) {\r\n//         // joining multiple itemIds into each Ajax call\r\n//         var itemIdsJoined = thisElem.join('%2C'); // => '123456789' + '%2C' + '234567890' + '%2C' + ...\r\n//         var ajaxUrl = 'https://api.homedepot.com/v3/catalog/products/sku?itemId=' + itemIdsJoined + '&storeId=' + _ttStoreId + '&key=' + _ttApiKey + '&type=json';\r\n//         var ajaxObj = { ajaxUrl: ajaxUrl, itemIdsJoined: itemIdsJoined };\r\n//         _ttAjaxCallsData.push(ajaxObj);\r\n//       });\r\n  \r\n//       // making Ajax calls for each set of itemIds\r\n//       _ttAjaxCallsData.forEach(function(thisElem, ajaxIdx) {\r\n//         var ajaxUrl = thisElem['ajaxUrl'];\r\n//         var itemIdsJoined = thisElem['itemIdsJoined'];\r\n//         var ajaxTimeout = ajaxIdx * _ttAjaxRequestDelay;\r\n//         // Ajax call (delayed) -- START\r\n//         sleep(ajaxTimeout);\r\n//         _vimAjaxRequestInner = request({\r\n//           method: \"GET\",\r\n//           url: ajaxUrl,\r\n//           ajaxIdx: ajaxIdx,\r\n//           itemIdsJoined: itemIdsJoined\r\n//         });\r\n//         _vimAjaxSuccessInner = function(ajaxObj) {\r\n//             __utils__.echo('--- Ajax response #' + ajaxIdx + ' for itemIdsJoined = ' + thisElem.itemIdsJoined.replace(/%2C/g, ',') + ' @ ms ' + timePassed() );\r\n//           if (!ajaxObj.products || !ajaxObj.products.product) {\r\n//             __utils__.echo('--- ERROR! - forcing exit from prod-opts-JS, because of invalid Ajax response: ' + ajaxObj);\r\n//             productOptsBlock = false; // forcing exit from prod-opts-JS\r\n//             return false;\r\n//           }\r\n//           // parsing each sku from the Ajax response\r\n//           /* USELESS CODE? [comment & disabled by Serban 2017-02-22]\r\n//           var ajaxProducts = ajaxObj.products.product;\r\n//           if (!ajaxProducts[0]) {\r\n//             // single itemId in this Ajax call => different structure of ajaxObj\r\n//             ajaxProducts = [ ajaxProducts ];\r\n//           }\r\n//           */\r\n//           ajaxObj.products.product.forEach(function(thisElem) {\r\n//             var skuData = thisElem.skus.sku;\r\n//             _ttSkusData.push(skuData); // for debugging in console\r\n//             // adding the title of this sku to \"_ttSkusTitles\" (before checking if this sku is oos!)\r\n//             if (skuData['info'] && skuData['info']['productLabel'] && skuData['info']['productLabel'].trim().length) {\r\n//               _ttSkusTitles.push(skuData['info']['productLabel'].trim() );\r\n//             }\r\n//             // if this sku is oos, we do not add it to _ttCombos*\r\n//             // -- we no longer consider a pickup-only sku (no ship-to-home) to be oos !!! [Serban 2016-01-08]\r\n//             // -- new pattern for \"oos filter\", based on store-defined itemAvailability:\r\n//             // ---- oos = Boolean ( !buyable || (!availableInStore && !inventoryStatus) )\r\n//             // ---- not 100% sure this new \"oos filter\" will hold true for all possible scenarios! [Serban]\r\n//             // -- additional filter: oos = Boolean (!skuData.storeSkus.storeSku[0].pricing) [Serban 2016-02-02]\r\n//             var oosNotBuyable = Boolean(!skuData.itemAvailability.buyable);\r\n//             var oosNotAvailable = Boolean(!skuData.itemAvailability.availableInStore && !skuData.itemAvailability.inventoryStatus);\r\n//             var oosNoPrice = Boolean(!skuData.storeSkus.storeSku[0].pricing);\r\n//             // EXCEPTION from \"oosNoPrice\" - if the product has only 1 sku, and we found the price in \"THD\", then we use that price\r\n//             // -- e.g. http://www.homedepot.com/p/202040514\r\n//             var oosNoPriceAnywhere = oosNoPrice;\r\n//             if (oosNoPrice && _ttSkusArray.length == 1 && _ttPriceFromObj.length) {\r\n//               oosNoPriceAnywhere = false;\r\n//             }\r\n//             if (oosNotBuyable || oosNotAvailable || oosNoPriceAnywhere) {\r\n//               __utils__.echo('--- NOTICE - filtered oos sku: ' + skuData.webUrl);\r\n//               __utils__.echo('---> oosNotBuyable = ' + oosNotBuyable + ', oosNotAvailable = ' + oosNotAvailable + ', oosNoPrice = ' + oosNoPrice);\r\n//               return true; // skipping this sku\r\n//             }\r\n//             var attr1Value = _ttGetAttrValueFromData(skuData.definingAttributes.definingAttributeEntry, 1);\r\n//             if (_ttCombos1.indexOf(attr1Value) < 0) {\r\n//               // updating all combos, on the first occurence of this attr1Value\r\n//               _ttCombos1.push(attr1Value);\r\n//               _ttCombos2[attr1Value] = []; // array!\r\n//               _ttCombos3[attr1Value] = {}; // object!\r\n//             }\r\n//             var hashKey = attr1Value;\r\n//             var attr2Value = null;\r\n//             var attr3Value = null;\r\n//             if (_ttAttributes[1]) {\r\n//               attr2Value = _ttGetAttrValueFromData(skuData.definingAttributes.definingAttributeEntry, 2);\r\n//               if (_ttCombos2[attr1Value].indexOf(attr2Value) < 0) {\r\n//                 _ttCombos2[attr1Value].push(attr2Value);\r\n//               }\r\n//               hashKey += '--XX--' + attr2Value;\r\n//             }\r\n//             if (_ttAttributes[2]) {\r\n//               attr3Value = _ttGetAttrValueFromData(skuData.definingAttributes.definingAttributeEntry, 3);\r\n//               if (!_ttCombos3[attr1Value][attr2Value]) {\r\n//                 _ttCombos3[attr1Value][attr2Value] = []; // array!\r\n//               }\r\n//               _ttCombos3[attr1Value][attr2Value].push(attr3Value);\r\n//               hashKey += '--XX--' + attr3Value;\r\n//             }\r\n//             // extracting price, images, extra-info for this sku\r\n//             var thisPrice = '';\r\n//             if (!oosNoPrice) {\r\n//               thisPrice = '$' + skuData.storeSkus.storeSku[0].pricing.specialPrice;\r\n//             }\r\n//             if (oosNoPrice && _ttSkusArray.length == 1 && _ttPriceFromObj.length) {\r\n//               thisPrice = _ttPriceFromObj;\r\n//             }\r\n//             var imagesObj = _ttExtractImages(skuData.media.mediaEntry);\r\n//             var thisImage = imagesObj['image'];\r\n//             var thisAltImages = imagesObj['alt_images'];\r\n//             var thisExtraInfo = _ttExtractExtraInfo(skuData.shipping);\r\n//             // adjusting extra-info, if this sku is available for pickup-only (no ship-to-home) [Serban 2016-01-08]\r\n//             if (!skuData.itemAvailability.inventoryStatus) {\r\n//               thisExtraInfo = _ttPickupOnlyMessage;\r\n//             }\r\n//             preparedProductData[hashKey] = { price: thisPrice, image: thisImage, alt_images: thisAltImages, extra_info: thisExtraInfo };\r\n//             // extracting weight from \"Product Weight (lb.)\" in skuData [Serban 2017-02-22]\r\n//             thisWeight = _ttGetWeight(skuData['attributeGroups'], 'default');\r\n//             if (thisWeight) {\r\n//               preparedProductData[hashKey]['weight'] = thisWeight;\r\n//             }\r\n//             preparedProductData[hashKey]['skuData'] = skuData; // DEBUGGING - DISABLE ON LIVE!\r\n//             // injecting price, if not found on initial page load, nor in store-defined object \"THD\"\r\n//             if (!_ttPriceFound) {\r\n//               __utils__.echo('--- PRICE FOUND IN AJAX RESPONSE - injecting price = ' + thisPrice);\r\n//               jQuery(\"body\").append('<div id=\"priceInjectedTT\">' + thisPrice + '</div>');\r\n//               _ttPriceFound = true;\r\n//             }\r\n//           });\r\n//           // checking if this was the last Ajax call (i.e. all partial combos parsed)\r\n//           if (thisElem.ajaxIdx == _ttAjaxCallsData.length - 1) {\r\n//             sleep(1000); // allowing a (few) extra second(s) after the last Ajax call, in case some previous calls are slower\r\n//             _ttCleanTitle(); // updating the product title with a \"clean\" title shared by all skus [Serban 2016-07-06]\r\n//             productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//             __utils__.echo('--- ready to exit from prod-opts-JS after ALL Ajax calls @ ms ' + timePassed() );\r\n//           }\r\n//         };\r\n//         _vimAjaxFailInner = function(jqXHR, textStatus, errorThrown) {\r\n//           __utils__.echo('--- ERROR! - Ajax request failed: ' + textStatus);\r\n//           productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//           __utils__.echo('--- ready to exit from prod-opts-JS after Ajax ERROR! @ ms ' + timePassed() );\r\n//         };\r\n//         if (_vimAjaxRequestInner.error) {\r\n//           _vimAjaxFailInner();\r\n//         } else {\r\n//           _vimAjaxSuccessInner(_vimAjaxRequestInner.body);\r\n//         }\r\n//         // Ajax call (delayed) -- END\r\n//       });\r\n\r\n//     };\r\n//     _vimAjaxFailOuter = function(jqXHR, textStatus, errorThrown) {\r\n//       // fail() scenario added for unexplained timeouts [Serban 2017-02-07]\r\n//       // -- forcing reload from core if this Ajax call fails\r\n//       __utils__.echo('--- ERROR! - Ajax call failed with status = ' + textStatus);\r\n//       productOptsBlock = false; // ready to exit from prod-opts-JS\r\n//       __utils__.echo('--- ready to exit from prod-opts-JS after Ajax ERROR! @ ms ' + timePassed() );\r\n//       __utils__.echo('--- forcing reload from core');\r\n//       __utils__.echo('FAILED_LOAD_CART_PROD_URL'); // this echo tells TT to retry loading the product\r\n//     };\r\n//     if (_vimAjaxRequestOuter.error) {\r\n//       _vimAjaxFailOuter();\r\n//     } else {\r\n//       _vimAjaxSuccessOuter(_vimAjaxRequestOuter.body);\r\n//     }\r\n//     // generating data for all Ajax calls -- END\r\n//   }\r\n//   // generating hash \"preparedProductData\" -- END\r\n// };\r\n// // CODE RELYING ON STORE ID -- END\r\n\r\n// // tracking currently-set value for each non-final attribute\r\n// _ttFillValueAttr1 = '';\r\n// _ttFillValueAttr2 = '';\r\n\r\n// //// GLOBAL VARS AND FUNCTIONS -- END\r\n\r\n\r\n// // CODE TO EXECUTE BASED ON \"_ttWaitForProductData\" -- START [Serban 2018-12-19]\r\n// _ttCodeRelyingOnStoreData = function() {\r\n//   __utils__.echo('--- executing \"_ttCodeRelyingOnStoreData\" @ ms ' + timePassed() );\r\n\r\n//   // extra-checks due to \"_hddata\" undefined (in TT) for some products [Serban 2018-07-26]\r\n//   // -- https://www.homedepot.com/p/Magic-Chef-4-3-cu-ft-Mini-Refrigerator-in-Stainless-Look-HVDR430SE/205429674\r\n//   var _hddata = $.getWindowVars('_hddata');\r\n//   __utils__.echo('--- typeof _hddata = ' + typeof _hddata);\r\n//   if (!_ttStoreId && typeof _hddata == 'object' && _hddata['localStoreNum']) {\r\n//     _ttStoreId = _hddata['localStoreNum'];\r\n//   }\r\n//   if (!_ttStoreId) {\r\n//     _ttStoreId = _ttFallbackStoreId;\r\n//   }\r\n//   __utils__.echo('--- extracted _ttProductId = ' + _ttProductId + ', _ttStoreId = ' + _ttStoreId);\r\n  \r\n//   // DISABLED overwriting attribute names [Serban 2019-05-09]\r\n//   // -- because the attribute names from \"_ttProductData\" may be incorrect / in the wrong order\r\n//   // -- e.g. [\"Shoe Width\", \"Shoe Size\"] in page vs. [\"Color\", \"Shoe Width\", \"Shoe Size\"] in object\r\n//   // ---- https://www.homedepot.com/p/DEWALT-Crossfire-Low-Men-s-Black-Kevlar-Aluminum-Toe-ProLite-Work-Shoe-DXWP10004M-KEV-10-5/301303946\r\n//   // -- e.g. [\"Color/Finish\", \"Door Handing\"] in page vs. [\"Color/Finish\", \"Door Size (WxH) in.\", \"Door Handing\"] in object\r\n//   // ---- https://www.homedepot.com/p/Steves-Sons-36-in-x-80-in-Savannah-Right-Hand-6-Lite-Clear-Stained-Mahogany-Wood-Prehung-Front-Door-M6410-06-CT-4IRH/206168319\r\n//   // -- e.g. [\"Size\", \"Color/Finish\"] in page vs. [\"Color/Finish\", \"Size\"] in object\r\n//   // ---- https://www.homedepot.com/p/South-Shore-Step-One-Full-Storage-Bed-3107209/203595264\r\n//   /*\r\n//   // overwriting attribute names extracted from page, with attribute names from \"_ttProductData\" [Serban 2017-05-19]\r\n//   // -- because the store changed the way it displays attribute names\r\n//   // -- and it doesn't display the name at all for the 1st attribute = swatches (it only displays the pre-selected option text!)\r\n//   // ---- http://www.homedepot.com/p/Wyndham-Collection-Sheffield-80-in-Double-Vanity-in-Espresso-with-Marble-Vanity-Top-in-Carrara-White-and-70-in-Mirror-WCS141480DESCMUNOM70/205064229\r\n//   jQuery(_ttAttributes).each(function(attrIdx) {\r\n//     if (_ttProductData['definingAttributes'] && _ttProductData['definingAttributes'][attrIdx]) {\r\n//       this['name'] = _ttProductData['definingAttributes'][attrIdx]['attributeName'];\r\n//     }\r\n//   });\r\n//   */\r\n  \r\n//   // blocking product, if product ID not found (e.g. obsolete / invalid product URL redirecting to search-results page)\r\n//   // -- e.g. http://www.homedepot.com/s/206021780\r\n//   if (!_ttProductId) {\r\n//     var _ttBlockMsg = 'PRODUCT NOT SUPPORTED - PRODUCT ID NOT FOUND';\r\n//     //document.body.innerHTML = '<h1>[TWOTAP] ' + _ttBlockMsg + '<h1>';\r\n//     __utils__.echo('--- ' + _ttBlockMsg);\r\n//     // ready to exit from prod-opts-JS with blocked product\r\n//     __utils__.echo('--- exit from prod-opts-JS with blocked product @ ms ' + timePassed() );\r\n//     productOptsBlock = false;\r\n//   }\r\n  \r\n//   _ttPriceDiv = __utils__.findOne(_ttPriceUnifiedXpath);\r\n  \r\n//   // injecting \".\" into price cents [Tibi 2017-05-27, Serban 2017-05-29]\r\n//   // -- fixed for pp v2 [Serban 2019-05-06]\r\n//   var priceCents = __utils__.findOne(\"//span[contains(@class,'price__cents')] | //span[contains(@class,'price-format__large-symbols')][2]\", _ttPriceDiv);\r\n//   if (priceCents && priceCents.text().trim().length && priceCents.text().indexOf('.') < 0) {\r\n//     priceCents.text('.' + priceCents.text().trim());\r\n//   }\r\n  \r\n//   // injecting price, if none found on page-load\r\n//   // -- we do NOT do this if productOptsBlock was already set to \"false\" (e.g. blocked product)\r\n//   // -- we do this because we need to ensure that the product is \"as available as possible\", for reading pickup-stores\r\n//   // -- we do this by extracting the price from the store-defined object \"THD\" (some products don't have it there, either!)\r\n//   // -- if the product has attributes, we parse them even if the pre-selected sku is oos (because others may be available!)\r\n//   // -- TT may load the page without a price, or with a completely different price, even though the price loads in the browser\r\n//   ////\r\n//   // -- hack for prices per sq. ft.\r\n//   // ---- we delete the price per sq. ft., because we have to use the injected price (per case / per roll)\r\n//   // ---- e.g. https://www.homedepot.com/p/TrafficMASTER-Gladstone-Oak-7-mm-Thick-x-7-2-3-in-Wide-x-50-4-5-in-Length-Laminate-Flooring-24-24-sq-ft-Case-32686/203315038\r\n//   // -- fixed this check, to match multiple classes (ANY of them) [Serban 2019-02-18]\r\n//   if (jQuery(_ttPriceDiv).closest(\"div[itemprop='offers']\").is('.pricingSqFtBox, .price__sqftPrice')) {\r\n//     __utils__.echo('--- DELETING PRICE PER SQ. FT. - will inject price per case / per roll');\r\n//     jQuery(_ttPriceDiv).remove();\r\n//     _ttPriceDiv = null;\r\n//   }\r\n//   if (!_ttPriceDiv && productOptsBlock) {\r\n//     __utils__.echo('--- PRICE NOT FOUND IN PAGE - searching for price in store-defined object THD...');\r\n//     if (_ttProductData.itemExtension && _ttProductData.itemExtension.displayPrice) {\r\n//       // price found in store-defined object \"THD\"\r\n//       _ttPriceFromObj = '$' + _ttProductData.itemExtension.displayPrice.toFixed(2);\r\n//       __utils__.echo('--- PRICE FOUND IN OBJECT - injecting price = ' + _ttPriceFromObj);\r\n//       jQuery(\"body\").append('<div id=\"priceInjectedTT\">' + _ttPriceFromObj + '</div>');\r\n//     }\r\n//     else {\r\n//       __utils__.echo('--- PRICE NOT FOUND IN OBJECT');\r\n//       _ttPriceFound = false;\r\n//       // if the product does NOT have attributes => we will inject the first price (if any) found during forced API calls...\r\n//       // if the product DOES have attributes => we will inject the first price (if any) found during Ajax calls for skus...\r\n//     }\r\n//   }\r\n  \r\n//   // injecting fake extra-info div for pickup-only (no ship-to-home)\r\n//   // -- this will only match in the extra-info selector if the current product/options do NOT have ship-to-home\r\n//   // -- we will also use the message below (_ttPickupOnlyMessage) when generating preparedProductData !!!\r\n//   jQuery(\"body\").append('<div id=\"pickupOnlyTT\">' + _ttPickupOnlyMessage + '</div>');\r\n  \r\n//   // overwriting pre-selected store, if custom zip passed via URL argument [Serban 2016-02-22]\r\n//   // -- e.g. http://www.homedepot.com/p/202052410?shipping_zip=29405\r\n//   var urlZipMatches = location.href.match(/shipping_zip=(\\d+)/);\r\n//   if (urlZipMatches && urlZipMatches[1]) {\r\n//     // zip passed via URL => forcing API calls, even for products without attributes, even if price found on page-load!\r\n//     // -- we do this in order to display the price as it would be seen in-store by a user from that zip\r\n//     // -- also promising to exit from prod-opts-JS with delay (after Ajax calls)\r\n//     _ttPromiseToExit = true;\r\n//     _ttForceApiCalls = true;\r\n//     var storeZip = urlZipMatches[1];\r\n//     // ensuring that the zip has 5 digits (i.e. adding leading zeros if needed), otherwise the API call will be invalid\r\n//     storeZip = ('0000' + storeZip).substr(('0000' + storeZip).length - 5);\r\n//     __utils__.echo('--- zip ' + storeZip + ' passed via URL => overwriting pre-selected store');\r\n//     // extracting store ID for this zip, via API call (i.e. searching 1 closest store to zip, in a 100 miles radius)\r\n//     var ajaxUrl = 'http://api.homedepot.com/StoreSearchServices/v2/storesearch?address=' + storeZip + '&radius=100&pagesize=1&key=' + _ttApiKey + '&type=json';\r\n//     // store API call -- START\r\n//     _vimStoreZipAjaxRequest = request({\r\n//       method: \"GET\",\r\n//       url: ajaxUrl,\r\n//       storeZip: storeZip\r\n//     });\r\n//     _vimStoreZipAjaxSuccess = function(ajaxObj) {\r\n//       __utils__.echo('--- Ajax response for storeZip = ' + this.storeZip + ' @ ms ' + timePassed() );\r\n//       if (typeof ajaxObj == 'object' && ajaxObj['stores'] && ajaxObj['stores'][0] && ajaxObj['stores'][0]['storeId']) {\r\n//         _ttStoreId = ajaxObj['stores'][0]['storeId'];\r\n//         __utils__.echo('--- received store ID = ' + _ttStoreId);\r\n//         // adding this store ID to the start of _ttAltStoreIds\r\n//         _ttAltStoreIds.unshift(_ttStoreId);\r\n//         // received store ID for the zip passed via URL => run the code relying on store ID\r\n//         _ttCodeRelyingOnStoreId();\r\n//       }\r\n//       else {\r\n//         __utils__.echo('--- ERROR! - forcing exit from prod-opts-JS, because of invalid Ajax response: ' + ajaxObj);\r\n//         productOptsBlock = false; // forcing exit from prod-opts-JS\r\n//         return false;\r\n//       }\r\n//     };\r\n//     _vimStoreZipAjaxSuccess(_vimStoreZipAjaxRequest.body);\r\n//     // store API call -- END\r\n//   }\r\n//   else {\r\n//     // NO zip passed via URL => we immediately run the code relying on store ID (i.e. with the pre-selected store ID)\r\n//     _ttCodeRelyingOnStoreId();\r\n//   }\r\n  \r\n//   // injecting image & alt-images\r\n//   jQuery(\"body\").append('<img id=\"imageTwoTap\">');\r\n  \r\n//   if (_ttProductData.media && _ttProductData.media.mediaList) {\r\n//     // using images from store-defined object \"THD\"\r\n//     // -- this works better than images from page HTML with \"Load store images\" disabled!\r\n//     var imagesDefault = _ttExtractImages(_ttProductData.media.mediaList);\r\n//     __utils__.findOne(\"img#imageTwoTap\").attr('src', imagesDefault['image']);\r\n//     for (var iPos=0; iPos<imagesDefault['alt_images'].length; iPos++) {\r\n//       jQuery(\"body\").append('<img class=\"altImageTwoTap\" src=\"' + imagesDefault['alt_images'][iPos] + '\">');\r\n//     }\r\n//   }\r\n//   else {\r\n//     // fallback - using images from page HTML (if not found in store-defined object \"THD\")\r\n//     // -- fixed selectors for image and alt-images [Serban 2019-02-18]\r\n//     var prodImg = __utils__.findOne(\"img#mainImage\");\r\n//     if (prodImg) {\r\n//       __utils__.findOne(\"img#imageTwoTap\").attr('src', prodImg.attr('src'));\r\n//     }\r\n//     var thumbs = __utils__.findAll(\"a.media__thumbnail[data-media_type='IMAGE'] img\");\r\n//     for (var iPos=0; iPos<thumbs.length; iPos++) {\r\n//       var url = thumbs[iPos].attr('src').replace('/productImages/65/','/productImages/1000/').replace('_65.jpg','_1000.jpg');\r\n//       jQuery(\"body\").append('<img class=\"altImageTwoTap\" src=\"' + url + '\">');\r\n//     }\r\n//   }\r\n  \r\n//   // DISABLED injection of fake-qty, because some products do NOT have a qty-input [Serban 2019-02-15]\r\n//   // -- so they would fail during purchase, if the \"quantity\" attribute is detected during /cart, but not during /purchase\r\n//   // ---- https://www.homedepot.com/p/GE-Profile-2-2-cu-ft-Countertop-Microwave-in-Stainless-Steel-with-Sensor-Cooking-PES7227SLSS/302944128\r\n//   /*\r\n//   // injecting fake qty when reading the product (otherwise, the \"quantity\" attribute is not detected without delay#1 ~ 2500!)\r\n//   if (_t_productPageStatus == 'product_info') {\r\n//     jQuery(\"body\").append('<div id=\"ttFakeQty\">[TWOTAP] fake qty</div>');\r\n//   }\r\n//   */\r\n  \r\n//   // injecting weight, extracted from \"Dotcom Shipping Carton Gross Weight (lb)\" in _ttProductData [Serban 2017-02-23]\r\n//   var grossWeight = _ttGetWeight(_ttProductData['attributeGroups'], 'gross');\r\n//   jQuery(\"body\").append('<div id=\"ttWeight\">' + grossWeight + '</div>');\r\n//   __utils__.echo('--- injected gross weight = ' + grossWeight);\r\n  \r\n//   // exiting from prod-opts-JS without delay, if no other script \"promised\" to exit with delay\r\n//   if (!_ttPromiseToExit) {\r\n//     // ready to exit from prod-opts-JS without delay\r\n//     __utils__.echo('--- exit from prod-opts-JS without delay @ ms ' + timePassed() );\r\n//     productOptsBlock = false;\r\n//   }\r\n// };\r\n// // CODE TO EXECUTE BASED ON \"_ttWaitForProductData\" -- END\r\n\r\n// // fallback extraction of product data from \"pipModelRequest\" promise [Serban 2018-12-19]\r\n// _ttWaitForProductData = false;\r\n// if (!Object.keys(_ttProductData).length) {\r\n//   if (typeof pipModelRequest == 'object' && !pipModelRequest['response']) {\r\n//     _ttWaitForProductData = true;\r\n//     __utils__.echo('--- extracting product data from \"pipModelRequest\" promise');\r\n//     var pipModelData = $.getWindowPromiseVal('pipModelRequest');\r\n//     if (pipModelData['primaryItemData']) {\r\n//       _ttProductData = pipModelData['primaryItemData'];\r\n//       _ttProductId = _ttProductData['productId'];\r\n//       __utils__.echo('--- calling \"_ttCodeRelyingOnStoreData\" function after promise received');\r\n//       _ttCodeRelyingOnStoreData();\r\n//     }\r\n//   }\r\n// }\r\n\r\n// if (!_ttWaitForProductData) {\r\n//   __utils__.echo('--- calling \"_ttCodeRelyingOnStoreData\" function without delay');\r\n//   _ttCodeRelyingOnStoreData();\r\n// }","coupon_recording":[{"type":20,"info":{"selector":"//div[contains(@class, 'right')]//div[contains(@class, 'promoContent')][contains(@class, 'ng-hide')]//ancestor::div[@name='promoForm']//span[contains(text(), 'Have a promo code')]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null,"has_custom_selector":true}},{"type":20,"info":{"tagName":"INPUT","value":"SAVE30LEVOLOR","checked":null,"name":"","type":"text","src":"","id":"promoCode","title":"","options":null,"selector":"div[class*='right'] input#promoId","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","comment":""},"x":1201,"y":919,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"wqkjhe","checked":null,"name":"","type":"text","src":"","id":"promoCode","title":"","options":null,"selector":"div[class*='right'] input#promoId","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"","field_type":""},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"div[class*='right'] a.bttn-outline--primary","has_custom_selector":true,"is_optional":"no","frame":"","timeout":"","comment":"","checked":null},"x":1514,"y":934,"text":"Apply"}],"coupon_recording_info":{"noauth_start_idx":"52"},"coupon_recording_error_div":{"selector":"div[class*='right'] div.form-input-error__message","has_custom_selector":true},"order_id_div_auth":null,"description_div":{"selector":"div#product_description div.main_description, div.product-description__main-description, div#product_description div#more-info","has_custom_selector":true},"returns":"<p><strong>Online Return Policy</strong></p>\r\n\r\n<p>Most merchandise can be returned within 90 days of purchase unless noted in our Return Policy Exceptions.&nbsp; Refunds will be issued to the original form of payment (credit card, Pay Pal, etc.).&nbsp; Original shipping charges will be deducted from the refund unless the return is the result of an error by Homedepot.com.&nbsp; Please note bundled items need to be returned with all components for a full refund.</p>\r\n\r\n<p><strong>Online Return Options</strong></p>\r\n\r\n<p><strong>Return to Store</strong></p>\r\n\r\n<p>For your convenience, items purchased on homedepot.com can be returned to any of our retail stores nationwide.</p>\r\n\r\n<p>&bull; Credit will be issued at time of return and no return shipping charges will be incurred. *<br />\r\n&bull; To enable quick processing of your return, please bring with you a copy of your bar coded shipping confirmation email or the credit card used to make the purchase.</p>\r\n\r\n<p><strong>By Mail</strong></p>\r\n\r\n<p>For most orders delivered by UPS or Fed Ex, you can use the enclosed small parcel return label to mail your return.&nbsp; Alternately, you can arrange to return on your own, using the address specified on the return label.**</p>\r\n\r\n<p>&bull; For most orders, credit will be issued at the time the merchandise is successfully picked up by the return carrier. For remaining orders, credit will be issued at the time the merchandise is received in our warehouse. *</p>\r\n\r\n<p>&bull; Return shipping costs will be the responsibility of the customer unless the return is the result of an error by Homedepot.com.</p>\r\n\r\n<p><strong>Preparing your Return by Mail</strong></p>\r\n\r\n<p>&bull; Fill out and include with your return the Return Form located on the lower section of your packing slip.</p>\r\n\r\n<p>&bull; Pack the item carefully in the original packaging.<br />\r\n&bull; Affix the UPS returns label over the top of the original shipping label.&nbsp;&nbsp; Keep a copy of the tracking number on this label for future reference.<br />\r\n&bull; Bring the package to any UPS location near you.</p>\r\n\r\n<p>If you are returning more than one item, please make sure that they are all to be returned to the same location to ensure credit is applied accurately.&nbsp; If you have any questions about the return location address, please contact Online Customer Support at 1-800-430-3376.</p>\r\n\r\n<p>Live goods and products with flammable liquids or gases must be returned to our stores.&nbsp; Please see the Online Return Policy Exceptions for details.</p>\r\n\r\n<p><strong>Call</strong></p>\r\n\r\n<p>If you need assistance with the return of larger items, or if you have any other questions, please contact Online Customer Support at 1-800-430-3376.</p>\r\n\r\n<p>*Please note that, depending on the form of payment tendered, it may take 2-10 business days from the start of the returns process for it to be applied to your account</p>\r\n\r\n<p>**All Alaska and Hawaii non-UPS returns must be returned to a retail store.</p>\r\n\r\n<p><strong>Online Return Policy Exceptions</strong></p>\r\n\r\n<p><strong>Damaged Items and Shortage Claims:</strong> Any damaged or missing items must be reported to Online Customer Support within 30 days of delivery by calling 1-800-430-3376.</p>\r\n\r\n<p><strong>Returning Products Containing Hazardous Materials:</strong> Due to safety hazards, items that use flammable liquids or gases cannot be returned through the mail, even if the item was drained of these materials. This would include items like lawn mowers, leaf blowers and any other items that use flammable liquids or gases. Please return products containing hazardous materials to your local The Home Depot store.</p>\r\n\r\n<p><strong>Live Goods:</strong> Perennials, trees and shrubs have a one-year guarantee. Live goods purchased online including houseplants, perennials, trees, holiday trees, wreaths and garlands, that are received damaged or dead, please contact Online Customer Support at 1-800-430-3376 within 3 days of delivery and we will promptly ship a replacement at no charge. Exceptions to this policy include cut flowers and floral arrangements.</p>\r\n\r\n<p><strong>Cut Flowers and Floral Arrangements:</strong> Cut flowers and floral arrangements are non-refundable and non-returnable. If you have received an arrangement that is defective or does not meet your expectations, contact Online Customer Support at 1-800-430-3376 to have a replacement sent to you at no-charge.</p>\r\n\r\n<p><strong>Generators:</strong> Generators must be returned within 30 days of purchase. Any product damage or defects must be reported within 30 days of purchase.&nbsp; <strong>IMPORTANT:</strong> Whole house generators or stationary generators are non-returnable and non-refundable.</p>\r\n\r\n<p><strong>Gift Cards:</strong> The Home Depot Gift Cards are non-returnable and cannot be redeemed or exchanged for cash (unless required by law), check or credit. Gift Cards may not be used as payment on any credit or loan account or for Tool Rental deposits.</p>\r\n\r\n<p><strong>Consumer Electronics:</strong> Televisions and computers must be returned within 30 days of purchase.</p>\r\n\r\n<p><strong>Furniture:</strong> Furniture must be returned within 30 days of purchase. Any product damaged or defective must be reported within 30 days of purchase.</p>\r\n\r\n<p><strong>Blinds:</strong> Custom-made blinds that are not identified as &quot;Guaranteed To Fit&quot; are not returnable. If you have received incorrect product, please call 1-800-921-2119 for a replacement.</p>\r\n\r\n<p><strong>Major Appliances:</strong> Any Major Appliance product damage must be reported within 48 hours of delivery by calling 1-877-946-9843. After 48 hours, any product issues must be handled through your local The Home Depot store&rsquo;s Special Services Desk. Be sure to bring a copy of your sales receipt with you.</p>\r\n\r\n<p><strong>Gas Powered Equipment and Tractors:</strong> Gas powered equipment and tractors must be returned within 30 days of purchase.</p>\r\n\r\n<p><strong>John Deere Tractors:</strong> Repairs will be made under the manufacturer&rsquo;s warranty. Please contact Online Customer Support at 1-800-430-3376 for further information.</p>\r\n\r\n<p><strong>Wallpaper, Paint &amp; Flooring Samples:</strong> Wallpaper and flooring samples are not returnable. However, if you believe you have received an incorrect sample, please call Online Customer Support at 1-800-430-3376 for a replacement.</p>\r\n\r\n<p><strong>Utility Trailers:</strong> Utility trailers are not returnable.</p>\r\n\r\n<p><strong>Custom Products:</strong> Custom made items cannot be returned. If you have received an incorrect paint sample, please contact Online Customer Support at 1-800-430-3376 for a replacement. Please visit your local Home Depot to see fabric options or call 1-888-571-4388 for a free fabric swatch. If your product arrives damaged, please call 1-800-430-3376 to speak with a Customer Care agent regarding replacement.</p>\r\n","final_price_div_local":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//order-summary[@order='order']//span[contains(text(),'Total')]/following-sibling::span","url":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","recording_idx":"20","has_custom_selector":true,"frame":""},"sales_tax_div_local":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//order-summary[@order='order']//span[contains(text(),'Tax')]/following-sibling::span","url":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","recording_idx":"20","has_custom_selector":true,"frame":""},"order_id_div_local":{"selector":"//span[contains(@class, 'tyOrderNumber')] | //div[contains(@class, 'confirmation')]//order-summary//h3[contains(text(), 'Order Summary')]/following-sibling::h3","has_custom_selector":true,"frame":""},"checkout_recording_local":[{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"a.cartCheckoutNowBtn.bttn.bttn--primary .bttn__content","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":1139,"y":232,"text":"Checkout Now"},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"guestLoginValue","type":"email","src":"","id":"guestEmail","title":"","options":null,"selector":"#shopCartForm input#guestEmail","is_optional":"no","frame":"","timeout":"","comment":""},"x":296,"y":281,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"fadfsdfs@fds.com","checked":null,"name":"guestLoginValue","type":"text","src":"","id":"guestEmail","title":"","options":null,"selector":"#shopCartForm input#guestEmail","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"email","field_type":""},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"#shopCartForm .bttn__content","is_optional":"no","frame":"","timeout":"","comment":"","checked":null},"x":172,"y":445,"text":"Continue"},{"type":20,"info":{"tagName":"DIV","id":"","title":"","options":null,"selector":"#checkout .u__max-width-left.u__center","is_optional":"yes","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":586,"y":93,"text":"Secure CheckoutFirst Name  Last Name  Email  Phone   Also text me when my order is ready.Home Depot will send you a single text when your order is ready for pickup. Standard messaging rates apply. Not all carriers supported. Text HELP to 433-678 for help. Call 1-800-HOMEDEPOT to opt out. Full termsWill someone else pick it up?Pickup Person (Optional)First Name  Last Name  Email      Credit Card Expiration Month01 - January02 - February03 - March04 - April05 - May06 - June07 - July08 - August09 - September10 - October11 - November12 - DecemberYear20162017201820192020202120222023202420252026202720282029203020312032203320342035CVV (on back) Apply a Gift Card  |  Have a PO/Job Code for this order?Billing Address   Add an apartment, suite, building, etc.ZIP Code     Enter ZIP Code to see city and state. Yes, I would like to receive emails about unadvertised & online only specials, new products and store promotions.Place OrderWe are required by law to charge all applicable sales taxes for online orders.Please note that the order totals during your checkout reflect estimated sales tax. The actual charge to your form of payment will include applicable state and local sales taxes and will be calculated when order is shipped.By providing your mobile phone number and clicking Place Order, you agree to receive an autodialed text message from Home Depot when your order is ready for pickup. One text per order. Consent not required and not a condition of purchase. You will also receive email order updates. Message and data rates may apply. Not all carriers supported. Text HELP to 433-678 for help. Call 1-800-HOMEDEPOT to opt out.Local store prices may vary from those displayed. Products shown as available are normally stocked but inventory levels cannot be guaranteed.© 2000 - 2013 Homer TLC, Inc. All Rights Reserved. Use of this site is subject to certain Terms of Use which constitute a legal agreement between you and The Home Depot U.S.A. inc. View our My Account Terms and Conditions and Privacy & Security Statement."},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"inputField","type":"text","src":"","id":"firstName","title":"","options":null,"selector":"#checkout input#firstName","is_optional":"no","frame":"","timeout":"","comment":""},"x":257,"y":154,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"fads","checked":null,"name":"inputField","type":"text","src":"","id":"firstName","title":"","options":null,"selector":"#checkout input#firstName","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"shipping_first_name","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"fasd","checked":null,"name":"inputField","type":"text","src":"","id":"lastName","title":"","options":null,"selector":"#checkout input#lastName","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"shipping_last_name","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"(650) 548-8989","checked":null,"name":"inputField","type":"text","src":"","id":"phone","title":"","options":null,"selector":"#checkout input#phone","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"shipping_telephone","field_type":""},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"cardNumber","type":"tel","src":"","id":"cardNumber","title":"","options":null,"selector":"#checkout input#cardNumber","is_optional":"no","frame":"","timeout":"","comment":""},"x":247,"y":607,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"4111 1111 1111 1111","checked":null,"name":"cardNumber","type":"text","src":"","id":"cardNumber","title":"","options":null,"selector":"#checkout input#cardNumber","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"card_number","field_type":""},{"type":20,"info":{"tagName":"SELECT","value":"","name":"ccMonth","type":"select-one","id":"ccMonth","title":"","options":[{"text":"Month","value":""},{"text":"01 - January","value":"object:20"},{"text":"02 - February","value":"object:21"},{"text":"03 - March","value":"object:22"},{"text":"04 - April","value":"object:23"},{"text":"05 - May","value":"object:24"},{"text":"06 - June","value":"object:25"},{"text":"07 - July","value":"object:26"},{"text":"08 - August","value":"object:27"},{"text":"09 - September","value":"object:28"},{"text":"10 - October","value":"object:29"},{"text":"11 - November","value":"object:30"},{"text":"12 - December","value":"object:31"}],"selector":"#checkout select#ccMonth","is_optional":"no","frame":"","timeout":"","comment":"","checked":null,"text_only":""},"x":190,"y":701,"text":"Month01 - January02 - February03 - March04 - April05 - May06 - June07 - July08 - August09 - September10 - October11 - November12 - December"},{"type":2,"info":{"tagName":"INPUT","value":"123","checked":null,"name":"cvv","type":"text","src":"","id":"cvv","title":"","options":null,"selector":"#checkout input#cvv","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"cvv","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"411 pratt","checked":null,"name":"billingAddress","type":"text","src":"","id":"billingAddress_value","title":"","options":null,"selector":"#billingAddress input#billingAddress_value","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"billing_address","field_type":""},{"type":20,"info":{"tagName":"DIV","id":"","title":"","options":null,"selector":"div.grid.u__p-top-small span[role='button']","is_optional":"yes","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":202,"y":932,"text":"Add an apartment, suite, building, etc."},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"street","type":"text","src":"","id":"","title":"","options":null,"selector":"#checkout input.form-input__field[name=\"street\"]","is_optional":"no","frame":"","timeout":"","comment":""},"x":157,"y":929,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"ln","checked":null,"name":"street","type":"text","src":"","id":"","title":"","options":null,"selector":"#checkout input.form-input__field[name=\"street\"]","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"billing_address_2","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"94303","checked":null,"name":"zip","type":"text","src":"","id":"","title":"","options":null,"selector":"#checkout input.form-input__field[name=\"zip\"]","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"billing_zip","field_type":""},{"type":20,"info":{"tagName":"INPUT","value":"on","checked":true,"name":"emailSubscribed","type":"checkbox","src":"","id":"hdCheckBox_2","title":"","options":null,"label":"Yes, I would like to receive emails about unadvertised &amp; online only specials, new products and store promotions","selector":"#checkout input[id='hdCheckBox_2']","is_optional":"no","frame":"","timeout":"","comment":""},"x":91,"y":1063,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"on","checked":null,"name":"emailSubscribed","type":"text","src":"","id":"hdCheckBox_2","title":"","options":null,"label":"Yes, I would like to receive emails about unadvertised &amp; online only specials, new products and store promotions","selector":"#checkout input[id='hdCheckBox_2']","is_optional":"no","frame":"","timeout":"","comment":""},"text":"","field_key":"emailSubscribed","field_type":"hardcode"},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"#checkout .bttn.bttn--primary.u__bold .bttn__content","is_optional":"no","frame":"","timeout":"","comment":"","checked":null},"x":327,"y":1189,"text":"Place Order"},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"selector":"#checkout input#cvv","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null},"field_key":"cvv","field_type":""},{"type":20,"info":{"selector":"#checkout .bttn.bttn--primary.u__bold .bttn__content","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null}}],"identifier_div_local":{"selector":"div#smartOverlay h2.page-title","has_custom_selector":true,"recording_idx":"10"},"name_div_local":{"selector":"div.storeInfo-ColName","has_custom_selector":true},"distance_div_local":{"selector":"div.storeInfo-ColMiles","has_custom_selector":true},"address_div_local":{"selector":"div.store-addr","has_custom_selector":true},"phone_div_local":null,"when_div_local":{"selector":"div.shipToStore-Date span.dateSort","has_custom_selector":true},"change_store_div_local":{"selector":"//div[contains(@class,'quant-Text') and not(contains(@class,'hide'))]","has_custom_selector":true},"wrapper_div_local":{"selector":"div#listViewDiv div#localizedStore, div#listViewDiv div#otherStores div.otherStore-Row, div#listViewDiv div.localizedStore, div#listViewDiv div.otherStores div.otherStore-Row","has_custom_selector":true},"coupon_value_div_auth":null,"gift_card_value_div_auth":null,"remove_addresses_recording_auth":null,"remove_baddresses_recording_auth":null,"remove_payments_recording_auth":null,"mobile_url_conversion":"m.homedepot.com --> homedepot.com || ;jsessionid=\\w+ --> || \\sjsessionid=\\w+ --> ","allowed_product_url_args":["shipping_zip"],"gift_card_recording":null,"gift_card_recording_info":null,"gift_card_recording_error_div":null,"gift_card_recording_continue_div":null,"remote_status_recording":null,"remote_status_container_div":null,"remote_status_title_div":null,"remote_status_state_div":null,"remote_status_tracking_div":null,"shipping_options_div":null,"shipping_options":{"cheapest":{"text":"cheapest","min_days":"5","max_days":"10"},"fastest":{"text":"fastest","min_days":"0","max_days":"0"}},"shipping_options_recording_info":{"noauth_start_idx":"3"},"shipping_estimate_exceptions":{"cheapest":"","fastest":""},"sync_data":[],"sync_master_url":null,"shipping_address_div_auth":null,"proxy":{"cart":"","purchase":""},"estimator":"price","feed_type":"ir-google-shopping","feed_meta":{"origin":"The-Home-Depot/Home-Depot-Product-Feed_CUSTOM.txt.gz","idx_source":"parsed_url","idx_transform":""},"grouping_identifiers":[{"field":"custom_id","modifier":""}],"platform":"default","platform_meta":{"version":""},"resolution":"1600x900","cookies":"HD_DC===origin || THD_FORCE_LOC===1","headers":null,"product_fetch_timeout":null,"tags":[],"login_url_check":null,"title_regexp":null,"p_attr_regexp":null,"images_regexp":"_\\d+\\.jpg --> _1000.jpg","sku_regexp":null,"mpn_regexp":null,"gtin_regexp":null,"receipt_prices":"unknown","gifting_recording":null,"gifting_recording_info":null,"page_detector":[{"selector":["[data-testid*=\"RightRail\"]:visible,[data-automation-id=\"cart-item\"],div[id=\"rightRail\"] div.u__p-bottom-small, .cart-main-container [class*=\"cart-item\"], [id=\"checkout\"] .item-summary-grid-container"],"type":"cart_product","regex":"","label":""},{"selector":["[data-automation-id='OrderID']"],"type":"checkout_confirm","regex":"\\/order-confirmation","label":""},{"selector":["body:not(:has(.addressVerificationModal)) [data-automation-id=\"promoCodeLink\"]","body:not(:has([data-automation-id=\"taxCost\"]:contains(\"---\"))) div[data-automation-id=\"total_price\"]:first"],"type":"honey_gold","regex":"homedepot\\.com\\/mycheckout\\/checkout","label":"checkout"},{"selector":["[data-automation-id=\"cartRightRailCheckoutOptionsContainer\"], #my-form:last, [data-automation-id=\"checkoutButton\"] button:visible"],"type":"honey_gold","regex":"homedepot\\.com\\/(mycart\\/home|cart)","label":"cart"},{"selector":["span[data-automation-id=\"taxCost\"]:not(:contains(\"---\"))"],"type":"payments","regex":"homedepot\\.com\\/mycheckout\\/checkout","label":"In-Store Pickup & Ship to Home"},{"selector":["#product_internet_number, #productinfo_ctn, .bttn__content, div.product-info-bar","body:not(:has(.appliance-package))","body:not(:has(h1:contains(Customer Reviews)))","body:not(:has(div.cta-section button:contains(\"Request a Quote\")))","body:not(:has(div.price-detailed__wrapper a:contains(\"See Low Price in Cart\")))","body:not(:has(div.sui-text-danger p:contains('The product you are trying to view is not currently available')))"],"type":"product","regex":"homedepot\\.com\\/p\\/(?!\\brental|sets|reviews|questions\\b).+\\/","label":""},{"selector":["#product_internet_number, #productinfo_ctn, .bttn__content, div.product-info-bar","body:not(:has(.appliance-package))","body:not(:has(h1:contains(Customer Reviews)))","body:not(:has(div.cta-section button:contains(\"Request a Quote\")))","body:not(:has(div.price-detailed__wrapper a:contains(\"See Low Price in Cart\")))","body:not(:has(div.sui-text-danger p:contains('The product you are trying to view is not currently available')))"],"type":"where_am_i","regex":"homedepot\\.com\\/p\\/(?!\\brental|sets|reviews|questions\\b).+\\/","label":""}],"page_detector_watch":true,"h_legacy_find_savings":{"h_fs_promo_box_selector":"","h_fs_final_price_selector":"","h_fs_submit_button":"","h_fs_time_between_codes":"2000","h_fs_pre_apply_code_action":"","h_fs_time_between_pre_apply":"2000","h_fs_remove_code_action":"","h_fs_time_between_remove":"1000","h_fs_hide_cart_errors_selector":"","h_fs_hide_cart_errors_selector2":"","h_fs_time_finish":"1000","h_fs_max_codes":"10","h_format_price_divisor":"","h_existing_code_selector":"","h_existing_code_selector_regex":"","h_existing_code_selector_attribute":"","temp_disable_find_savings":false},"h_legacy_metadata":{"pns_siteBaseURL":"not used","pns_siteCartURL1":"not used","pns_siteCartURL2":"not used","pns_siteCartURL3":"not used","pns_siteSelCartCodeSubmitType":"click","pns_siteSelCartAddButton":".shopCartPromoSec","pns_siteSelCartAddButtonType":"append","pns_siteType":"ajax","pns_siteSelProdName":"#superPIP__productName","pns_siteSelProdPrice":"#ajaxPrice","pns_siteSelProdHoneyButtonType":"append","pns_siteSelProdAddToCartType":"click","pns_pushCodes":"1","pns_priority":"1","pns_product_rating_cnt":"#BVRRCustomRatingCountId .BVRRNumber","pns_product_title":".product_title","pns_product_rating":".BVRRNumber.BVRRRatingNumber:first","pns_confirmRegex":"\\/order-confirmation","pns_observerTarget":"body","pns_siteSelShowHoneyGold":"[data-automation-id=\"cartRightRailCheckoutOptionsContainer\"], #my-form:last, [data-automation-id=\"checkoutButton\"] button:visible","pns_siteAzId":"48132","pns_productPricePath":"normalize-space(//span[@itemprop='price'])","pns_gDACjsonContentType":"","pns_gDAChtmlRes":"","droplist_qa":"true","droplist_universal_active":"true","honeyTipsAutopopOn":"true","payPalBtnSel":"a.paypal ","hasPayPalSupport":"true","pns_siteSelOrderId":"[data-automation-id='OrderID']","honeyPayCartPriceSelector":".order-summary [data-automation-id='total_price']","iosHGEnabled":"true","v4_productFetcher_apiBaseUrl":"https://www.homedepot.com/federation-gateway/graphql?opname=productClientOnlyProduct","v4_productFetcher_graphqlRequestQuery":["query productClientOnlyProduct($storeId: String, $zipCode: String, $itemId: String!, $dataSource: String, $loyaltyMembershipInput: LoyaltyMembershipInput, $skipSpecificationGroup: Boolean = false, $skipSubscribeAndSave: Boolean = false, $skipKPF: Boolean = false, $skipInstallServices: Boolean = true) {"," product(itemId: $itemId, dataSource: $dataSource, loyaltyMembershipInput: $loyaltyMembershipInput) {","    fulfillment(storeId: $storeId, zipCode: $zipCode) {","      backordered","      fulfillmentOptions {","        type","        services {","          type","          locations {","            isAnchor","            inventory {","              isLimitedQuantity","              isOutOfStock","              isInStock","              quantity","              isUnavailable","              maxAllowedBopisQty","              minAllowedBopisQty","              __typename","            }","            type","            storeName","            storePhone","            locationId","            curbsidePickupFlag","            isBuyInStoreCheckNearBy","            distance","            state","            __typename","          }","          optimalFulfillment","          deliveryTimeline","          deliveryDates {","            startDate","            endDate","            __typename","          }","          deliveryCharge","          dynamicEta {","            hours","            minutes","            __typename","          }","          hasFreeShipping","          freeDeliveryThreshold","          totalCharge","          __typename","        }","        fulfillable","        __typename","      }","      anchorStoreStatus","      anchorStoreStatusType","      backorderedShipDate","      bossExcludedShipStates","      sthExcludedShipState","      bossExcludedShipState","      excludedShipStates","      seasonStatusEligible","      onlineStoreStatus","      onlineStoreStatusType","      inStoreAssemblyEligible","      __typename","    }","    info {","      dotComColorEligible","      hidePrice","      ecoRebate","      quantityLimit","      sskMin","      sskMax","      unitOfMeasureCoverage","      wasMaxPriceRange","      wasMinPriceRange","      fiscalYear","      productDepartment","      classNumber","      forProfessionalUseOnly","      globalCustomConfigurator {","        customButtonText","        customDescription","        customExperience","        customExperienceUrl","        customTitle","        __typename","      }","     paintBrand","      movingCalculatorEligible","      label","      prop65Warning","      returnable","      recommendationFlags {","        visualNavigation","        reqItems","        batItems","        packages","        __typename","      }      replacementOMSID","      hasSubscription","      minimumOrderQuantity","      projectCalculatorEligible","      subClassNumber","      calculatorType","      isLiveGoodsProduct","      protectionPlanSku","      hasServiceAddOns","      consultationType","      isBuryProduct","      isSponsored","      isGenericProduct","      sponsoredBeacon {","        onClickBeacon","        onViewBeacon","        __typename","      }","      sponsoredMetadata {","        campaignId","        placementId","        slotId","        __typename","      }","      productSubType {","        name","        link","        __typename","      }","      categoryHierarchy","      samplesAvailable","      customerSignal {","        previouslyPurchased","        __typename","      }","      productDepartmentId","      augmentedReality","      swatches {","        isSelected","        itemId","        label","        swatchImgUrl","        url","        value","        __typename","      }","      totalNumberOfOptions","      __typename","    }","    itemId","    dataSources","    identifiers {","      canonicalUrl","      brandName","      itemId","      modelNumber","      productLabel","      storeSkuNumber","      upcGtin13","      specialOrderSku","      toolRentalSkuNumber","      rentalCategory","      rentalSubCategory","      upc","      productType","      isSuperSku","      parentId","      roomVOEnabled","      sampleId","      __typename","    }","    availabilityType {","      discontinued","      status","      type","      buyable","      __typename","    }","    details {","      description","      collection {","        url","        collectionId","        name","        __typename","      }","      highlights","      descriptiveAttributes {","        name","        value","        bulleted","        sequence","        __typename","      }","      additionalResources {","        infoAndGuides {","          name","          url","          __typename","        }","        installationAndRentals {","          contentType","          name","          url","          __typename","        }","        diyProjects {","          contentType","          name","          url","          __typename","        }","        __typename","      }","      installation {","        leadGenUrl","        __typename","      }","      __typename","    }","    media {","      images {","        url","        type","        subType","        sizes","        __typename","      }","      video {","        shortDescription","        thumbnail","        url","        videoStill","        link {","          text","          url","          __typename","        }","        title","        type","        videoId","        longDescription","        __typename","      }","      threeSixty {","        id","        url","        __typename","      }","      augmentedRealityLink {","        usdz","        image","        __typename","      }","      richContent {","        content","        displayMode","        richContentSource","        __typename","      }","      __typename","    }","    pricing(storeId: $storeId) {","      promotion {","        dates {","          end","          start","          __typename","        }","        type","        description {","          shortDesc","          longDesc","          __typename","        }","        dollarOff","        percentageOff","        savingsCenter","        savingsCenterPromos","        specialBuySavings","        specialBuyDollarOff","        specialBuyPercentageOff","        experienceTag","        subExperienceTag","        anchorItemList","        itemList","        reward {","          tiers {","            minPurchaseAmount","            minPurchaseQuantity","            rewardPercent","            rewardAmountPerOrder","            rewardAmountPerItem","            rewardFixedPrice","            __typename","          }","          __typename","        }","        nvalues","        brandRefinementId","        __typename","      }","      value","      alternatePriceDisplay","      alternate {","        bulk {","          pricePerUnit","          thresholdQuantity","          value","          __typename","        }","        unit {","          caseUnitOfMeasure","          unitsOriginalPrice","          unitsPerCase","          value","          __typename","        }","        __typename","      }","      original","      mapAboveOriginalPrice","      message","      preferredPriceFlag","      specialBuy","      unitOfMeasure","      __typename","    }","    reviews {","      ratingsReviews {","        averageRating","        totalReviews","        __typename","      }","      __typename","    }","    seo {","      seoKeywords","      seoDescription","      __typename","    }","    specificationGroup @skip(if: $skipSpecificationGroup) {","      specifications {","        specName","        specValue","        __typename","      }","      specTitle","      __typename","    }","    taxonomy {","      breadCrumbs {","        label","        url","        browseUrl","        creativeIconUrl","        deselectUrl","        dimensionName","        refinementKey","        __typename","      }","      brandLinkUrl","      __typename","    }","    favoriteDetail {","      count","      __typename","    }","    sizeAndFitDetail {","      attributeGroups {","        attributes {","          attributeName","          dimensions","          __typename","        }","        dimensionLabel","        productType","        __typename","      }","      __typename","    }","    subscription @skip(if: $skipSubscribeAndSave) {","      defaultfrequency","      discountPercentage","      subscriptionEnabled","      __typename","    }","    badges(storeId: $storeId) {","      label","      color","      creativeImageUrl","      endDate","      message","      name","      timerDuration","      timer {","        timeBombThreshold","        daysLeftThreshold","        dateDisplayThreshold","        message","        __typename","      }","      __typename","    }","    keyProductFeatures @skip(if: $skipKPF) {","      keyProductFeaturesItems {","        features {","          name","          refinementId","          refinementUrl","          value","          __typename","        }","        __typename","      }","      __typename","    }","    seoDescription","    installServices(storeId: $storeId, zipCode: $zipCode) @skip(if: $skipInstallServices) {","      scheduleAMeasure","      gccCarpetDesignAndOrderEligible","      __typename","    }","    dataSource","    __typename","  }","}",""],"v4_productFetcher_productIdRegex":"\\.homedepot\\.com\\/p\\/[^/]*\\/(\\d*)","v4_productFetcher_productUrlBase":"https://www.homedepot.com","v4_productFetcher_categoriesSelector":"div[class*=breadcrumb__item] a","v4_productFetcher_categoriesValue":"text","v4_productFetcher_currencySelector":"[itemprop=\"priceCurrency\"]","v4_productFetcher_currencyValue":"content","v4_productFetcher_isDiscontinuedSelector":"span.u__text--danger:contains(\"Discontinued\"), p:contains(\"The product you are trying to view is not currently available.\")","v4_productFetcher_ratingCountSelector":"#BVRRCustomRatingCountId .BVRRCount.BVRRNonZeroCount .BVRRNumber","v4_productFetcher_ratingCountValue":"text","v4_productFetcher_ratingValueSelector":".BVRRNumber.BVRRRatingNumber","v4_productFetcher_ratingValue":"text","v4_productFetcher_scriptSelector":"script[type=\"application/ld+json\"]:contains(\"productID\")"},"mixins":null,"vim_overrides":null,"privacy_url":"https://www.homedepot.com/c/Privacy_Security","tos_url":"https://www.homedepot.com/c/Terms_of_Use","where_am_i":{"title_selector":"h1.product-title__title:first, h1[class *= \"product-details__title\"], h1[itemprop=\"name\"], .product-details h1","price_selector":".price-detailed__wrapper .price .price-format__main-price:first, .price-detailed__wrapper .price-detailed__unit-price","image_selector":"#media-gallery img[data-testid=\"small-image\"], #gallery-visualizer img[srcset]:first, .sticky-outer-wrapper img:first, .filmstrip-mobile-carousel img:first","category_selector":"//div[@name='breadcrumbs']//a | //ol[contains(@class, \"Breadcrumb\")]//a/span | //ul[@id = \"headerCrumb\"]//a | //div[contains(@class, \"breadcrumb__item\")]/a","keyword_selector":"","group_lookup_selector":null,"group_lookup_key":null,"item_lookup_selector":null,"item_lookup_key":null,"titleRegexp":"","imagesRegexp":"","itemLookupRegexp":null,"groupLookupRegexp":null,"title_selector_mobile":null,"price_selector_mobile":null,"image_selector_mobile":null,"category_selector_mobile":null,"keyword_selector_mobile":null,"group_lookup_selector_mobile":null,"group_lookup_key_mobile":null,"item_lookup_selector_mobile":null,"item_lookup_key_mobile":null,"titleRegexp_mobile":null,"imagesRegexp_mobile":null,"itemLookupRegexp_mobile":null,"groupLookupRegexp_mobile":null},"cart_link_div":null,"cart_link_div_mobile":null,"cart_link_div_extension":null,"cart_link_div_six":null,"cart_link_div_server":null,"cart_qtys_div":{"selector":"input.cartItem__qtyInput,[id*=\"quantity-stepper\"], [data-automation-id*=\"itemQuantity\"]:visible","noauth_start_idx":"-1","auth_start_idx":"","local_start_idx":"-1"},"cart_qtys_div_mobile":null,"cart_qtys_div_extension":null,"cart_qtys_div_six":null,"cart_qtys_div_server":null,"cart_wrapper_div":{"selector":"[data-testid*=\"RightRail\"]:visible,[data-automation-id=\"cart-item\"],div[id=\"rightRail\"] div.u__p-bottom-small, .cart-main-container [class*=\"cart-item\"], [id=\"checkout\"] .item-summary-grid-container","noauth_start_idx":"","auth_start_idx":"","local_start_idx":""},"cart_wrapper_div_mobile":null,"cart_wrapper_div_extension":null,"cart_wrapper_div_six":null,"cart_wrapper_div_server":null,"cart_p_name_div":{"selector":"[data-automation-id=\"itemTitle\"],[data-automation-id=\"productSummary\"] a,[data-automation-id*=\"itemTitle\"] p:not(:contains(\"Qty\")):visible","has_custom_selector":true},"cart_p_name_div_mobile":null,"cart_p_name_div_extension":null,"cart_p_name_div_six":null,"cart_p_name_div_server":null,"cart_p_sku_div":null,"cart_p_sku_div_mobile":null,"cart_p_sku_div_extension":null,"cart_p_sku_div_six":null,"cart_p_sku_div_server":null,"cart_title_regexp":null,"cart_title_regexp_mobile":null,"cart_title_regexp_extension":null,"cart_title_regexp_six":null,"cart_title_regexp_server":null,"cart_p_url_div":{"selector":"[data-automation-id=\"productSummary\"] a","has_custom_selector":true},"cart_p_url_div_mobile":{"selector":".pod_product_title a","has_custom_selector":true},"cart_p_url_div_extension":null,"cart_p_url_div_six":null,"cart_p_url_div_server":null,"cart_p_image_div":{"selector":"img:first","has_custom_selector":true},"cart_p_image_div_mobile":null,"cart_p_image_div_extension":null,"cart_p_image_div_six":null,"cart_p_image_div_server":null,"cart_p_qty_div":{"selector":"[data-automation-id*=\"itemQuantity\"],[data-automation-id=\"itemQuanity\"], [data-automation-id=\"itemQuantity\"], .cartItem__qtyInput ","has_custom_selector":true},"cart_p_qty_div_mobile":{"selector":".cartItem__qtyInput_mobile ","has_custom_selector":true},"cart_p_qty_div_extension":null,"cart_p_qty_div_six":null,"cart_p_qty_div_server":null,"cart_p_attrs_div":{"selector":"[class*=\"cartItem-productId\"] ul","has_custom_selector":true},"cart_p_attrs_div_mobile":{"selector":"[class*=\"productId-mobile\"] ul","has_custom_selector":true},"cart_p_attrs_div_extension":null,"cart_p_attrs_div_six":null,"cart_p_attrs_div_server":null,"cart_p_unit_price_div":null,"cart_p_unit_price_div_mobile":null,"cart_p_unit_price_div_extension":null,"cart_p_unit_price_div_six":null,"cart_p_unit_price_div_server":null,"cart_p_total_price_div":{"selector":"[data-automation-id*=\"itemPrice\"] p[class*=\"sui-text-primary sui-text-right\"]:visible,[data-automation-id=\"itemPrice\"], [data-automation-id=\"pricingScenariosTotalPriceAddedText\"], .product-price span","has_custom_selector":true},"cart_p_total_price_div_mobile":null,"cart_p_total_price_div_extension":null,"cart_p_total_price_div_six":null,"cart_p_total_price_div_server":null,"cart_p_subtotal_div":{"selector":"[data-automation-id=\"totalsSubTotal\"] p:visible,[data-automation-id=\"subTotalCost\"], [data-automation-id=\"totalsSubTotalAmount\"]:first, span:contains(\"Subtotal\") + span:first","has_custom_selector":true},"cart_p_subtotal_div_mobile":null,"cart_p_subtotal_div_extension":null,"cart_p_subtotal_div_six":null,"cart_p_subtotal_div_server":null,"cart_p_tax_div":{"selector":"[data-automation-id=\"orderSummary\"] [data-automation-id=\"salesTaxTotal\"] p:visible,[data-automation-id=\"taxCost\"], li:contains(\"Tax\") + li:first, span:contains(\"Tax\") + span:first","has_custom_selector":true},"cart_p_tax_div_mobile":null,"cart_p_tax_div_extension":null,"cart_p_tax_div_six":null,"cart_p_tax_div_server":null,"cart_p_shipping_div":{"selector":"span:contains(\"Delivery\") + span:first:not(:contains(\"FREE\"))","has_custom_selector":true},"cart_p_shipping_div_mobile":null,"cart_p_shipping_div_extension":null,"cart_p_shipping_div_six":null,"cart_p_shipping_div_server":null,"cart_total_div":{"selector":"[data-automation-id=\"totalsTotal\"]:visible,[data-automation-id=\"total_price\"]:first, [data-automation-id=\"do_the_math\"] li:contains(\"Total\"):first + li","has_custom_selector":true},"cart_total_div_mobile":null,"cart_total_div_extension":null,"cart_total_div_six":null,"cart_total_div_server":null,"cart_custom_id":null,"cart_custom_id_mobile":null,"cart_custom_id_extension":null,"cart_custom_id_six":null,"cart_custom_id_server":null,"cart_opts_retrieval_js":null,"cart_opts_retrieval_js_mobile":null,"cart_opts_retrieval_js_extension":null,"cart_opts_retrieval_js_six":null,"cart_opts_retrieval_js_server":null,"address_check_noauth":null,"address_check_noauth_mobile":null,"address_check_noauth_extension":null,"address_check_noauth_six":null,"address_check_noauth_server":null,"final_price_div_noauth":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//div[contains(@class, 'order-summary')]//span[contains(text(),'Total')]/following-sibling::span","url":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","recording_idx":"60","has_custom_selector":true,"frame":""},"final_price_div_noauth_mobile":null,"final_price_div_noauth_extension":null,"final_price_div_noauth_six":null,"final_price_div_noauth_server":null,"shipping_price_div_noauth":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//div[contains(@class, 'order-summary')]//span[contains(.,'Shipping') or contains(.,'Delivery')]/following-sibling::span[contains(@class,'u__p-bottom-xsmall')]","url":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","recording_idx":"60","has_custom_selector":true,"frame":""},"shipping_price_div_noauth_mobile":null,"shipping_price_div_noauth_extension":null,"shipping_price_div_noauth_six":null,"shipping_price_div_noauth_server":null,"handling_price_div_noauth":null,"handling_price_div_noauth_mobile":null,"handling_price_div_noauth_extension":null,"handling_price_div_noauth_six":null,"handling_price_div_noauth_server":null,"checkout_recording_noauth":[{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"1000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"//div[contains(@class, 'card-deck')]//div[contains(text(), 'Ship to Home')]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"clicking 'standard delivery' [yes, ship to home is the text for standard delivery ]","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":".rr_summary button.bttn.bttn--primary span","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":1116,"y":238,"text":"Checkout Now"},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"label[for='install-appliance-no']","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"20000","comment":"Do NOT pay extra for INSTALLATION on appliace products.","options":null,"checked":null}},{"type":20,"info":{"selector":"label[for='no-plan']","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"Do NOT pay extra for PROTECTION PLAN on appliace products.","options":null,"checked":null,"has_custom_selector":true}},{"type":20,"info":{"selector":"//div[contains(@class,'thd-overlay-iframe-wrapper')]//a[contains(@class,'bttn--primary') and contains(.,'Save Changes')]","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"For appliace products.","options":null,"checked":null}},{"type":20,"info":{"selector":"//div[contains(@class,'thd-overlay-iframe-wrapper')]//a[contains(.,'No Thanks')]//span","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"Do NOT ship-to-store for large products.","options":null,"checked":null,"has_custom_selector":true}},{"type":20,"info":{"selector":"div.thd-overlay-iframe-wrapper button[data-automation-id='checkoutNowButton']","frame":"dynamic","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"clicking on \"Continue to checkout\" when ZIP code verification pops up","options":null,"checked":null,"has_custom_selector":true}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"a[ng-click='continueAsGuest()'] .bttn__content, button[name='continueAsGuestButton']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":172,"y":458,"text":"Continue"},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"inputField","type":"text","src":"","id":"firstName","title":"","options":null,"selector":"input[name='firstName']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"x":241,"y":158,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"fasdfs","checked":null,"name":"inputField","type":"text","src":"","id":"firstName","title":"","options":null,"selector":"input[name='firstName']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"shipping_first_name","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"fasdfsd","checked":null,"name":"inputField","type":"text","src":"","id":"lastName","title":"","options":null,"selector":"input[name='lastName']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"shipping_last_name","field_type":""},{"type":2,"info":{"selector":"input[name='email']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","has_custom_selector":true,"comment":"","options":null,"checked":null},"field_key":"email","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"(650) 548-8989","checked":null,"name":"inputField","type":"text","src":"","id":"phone","title":"","options":null,"selector":"input[name='phone']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"shipping_telephone","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"415 pratt","checked":null,"name":"billingAddress","type":"text","src":"","id":"billingAddress_value","title":"","options":null,"selector":"input[name='line1']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"shipping_address","field_type":""},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"//md-dialog//input[@ng-value='initAddress']/following-sibling::label","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"selecting the entered shipping address in address verification pop-up","options":null,"checked":null}},{"type":20,"info":{"selector":"md-dialog button.bttn--primary","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"submitting the address verification pop-up","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//span[contains(text(), 'Add an apartment')]","is_optional":"yes","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":107,"y":565,"text":"Add an apartment, suite, building, etc."},{"type":20,"info":{"tagName":"INPUT","value":"","checked":null,"name":"street","type":"text","src":"","id":"","title":"","options":null,"selector":"input[name='line2']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"x":131,"y":539,"text":""},{"type":2,"info":{"tagName":"INPUT","value":"ln","checked":null,"name":"street","type":"text","src":"","id":"","title":"","options":null,"selector":"input[name='line2']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"shipping_address_2","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"94303","checked":null,"name":"zip","type":"text","src":"","id":"","title":"","options":null,"selector":"input[name='zipCodeField']","is_optional":"yes","frame":"","timeout":"","comment":"Optional, because the zip can only be changed in the product page / Cart, for appliance products.","has_custom_selector":true},"text":"","field_key":"shipping_zip","field_type":""},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"3000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"selector":"input[name='city']","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null,"has_custom_selector":true},"field_key":"shipping_city","field_type":""},{"type":2,"info":{"selector":"select#stateCode","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"select","options":[{"text":"AL","value":"string:AL"},{"text":"AK","value":"string:AK"},{"text":"AZ","value":"string:AZ"},{"text":"AR","value":"string:AR"},{"text":"CA","value":"string:CA"},{"text":"CO","value":"string:CO"},{"text":"CT","value":"string:CT"},{"text":"DE","value":"string:DE"},{"text":"FL","value":"string:FL"},{"text":"GA","value":"string:GA"},{"text":"HI","value":"string:HI"},{"text":"ID","value":"string:ID"},{"text":"IL","value":"string:IL"},{"text":"IN","value":"string:IN"},{"text":"IA","value":"string:IA"},{"text":"KS","value":"string:KS"},{"text":"KY","value":"string:KY"},{"text":"LA","value":"string:LA"},{"text":"ME","value":"string:ME"},{"text":"MD","value":"string:MD"},{"text":"MA","value":"string:MA"},{"text":"MI","value":"string:MI"},{"text":"MN","value":"string:MN"},{"text":"MS","value":"string:MS"},{"text":"MO","value":"string:MO"},{"text":"MT","value":"string:MT"},{"text":"NE","value":"string:NE"},{"text":"NV","value":"string:NV"},{"text":"NH","value":"string:NH"},{"text":"NJ","value":"string:NJ"},{"text":"NM","value":"string:NM"},{"text":"NY","value":"string:NY"},{"text":"NC","value":"string:NC"},{"text":"ND","value":"string:ND"},{"text":"OH","value":"string:OH"},{"text":"OK","value":"string:OK"},{"text":"OR","value":"string:OR"},{"text":"PA","value":"string:PA"},{"text":"RI","value":"string:RI"},{"text":"SC","value":"string:SC"},{"text":"SD","value":"string:SD"},{"text":"TN","value":"string:TN"},{"text":"TX","value":"string:TX"},{"text":"UT","value":"string:UT"},{"text":"VT","value":"string:VT"},{"text":"VA","value":"string:VA"},{"text":"WA","value":"string:WA"},{"text":"WV","value":"string:WV"},{"text":"WI","value":"string:WI"},{"text":"WY","value":"string:WY"},{"text":"AS","value":"string:AS"},{"text":"DC","value":"string:DC"},{"text":"FM","value":"string:FM"},{"text":"GU","value":"string:GU"},{"text":"MH","value":"string:MH"},{"text":"MP","value":"string:MP"},{"text":"PW","value":"string:PW"},{"text":"PR","value":"string:PR"},{"text":"VI","value":"string:VI"},{"text":"VI","value":"string:VI"},{"text":"AE","value":"string:AE"},{"text":"AP","value":"string:AP"}],"text_only":"","comment":"","checked":null,"has_custom_selector":true},"field_key":"shipping_state","field_type":""},{"type":1001,"info":{"selector":"div.zipcodeMessageAlignParent select","frame":"","is_optional":"no","interval":"","js_code":"// injecting an input element for city [brollyka 2019-03-22]\r\nvar cityDropdown = __utils__.findOne(\"div.zipcodeMessageAlignParent select\");\r\nif (cityDropdown) {\r\n\tjQuery(\"body\").append('<input id=\"ttShippingCity\" type=\"text\">');\r\n}","timeout":"","comment":"","options":null,"checked":null,"has_custom_selector":true}},{"type":2,"info":{"selector":"input#ttShippingCity","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null,"has_custom_selector":true},"field_key":"shipping_city","field_type":""},{"type":1001,"info":{"selector":"div.zipcodeMessageAlignParent select","frame":"","is_optional":"no","interval":"","js_code":"// selecting the option which matches with the previously injected input's textcontent [brollyka 2019-03-22]\r\nvar cityDropdown = __utils__.findAll(\"div.zipcodeMessageAlignParent select option\");\r\nfor (var iPos=0; iPos<cityDropdown.length; iPos++) {\r\n  var el = cityDropdown[iPos];\r\n  var cityEntered = __utils__.findOne(\"input#ttShippingCity\");\r\n  if (el.textContent.replace(/,.*/,'').trim() == cityEntered.value.toUpperCase()) {\t\r\n\tel.parentNode.value = el.value;\r\n    __utils__.mouseEvent('change', el.parentNode);\r\n  }\r\n}","timeout":"","has_custom_selector":true,"comment":"","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"tagName":"INPUT","value":"on","checked":false,"name":"hdCheckBox_2","type":"checkbox","src":"","id":"hdCheckBox_2","title":"","options":null,"label":"Use as Billing Address","selector":"input#useAsBillingAddress_0","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"different address","field_type":"hardcode"},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"8000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"//md-dialog//input[@ng-value='initAddress']/following-sibling::label","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"selecting the entered shipping address in address verification pop-up (again)","options":null,"checked":null}},{"type":20,"info":{"selector":"md-dialog button.bttn--primary","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"10","comment":"submitting the address verification pop-up (again)","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"5000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"//span[contains(text(), 'Add New')]","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null,"has_custom_selector":true}},{"type":2,"info":{"tagName":"INPUT","value":"411 pratt","checked":null,"name":"billingAddress","type":"text","src":"","id":"billingAddress_value","title":"","options":null,"selector":"form[name='billingAddressForm'] input[name='line1']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"billing_address","field_type":""},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//div[@name='cardForm']//span[contains(text(), 'Add an apartment')]","is_optional":"yes","frame":"","timeout":"","comment":"","has_custom_selector":true,"checked":null},"x":189,"y":1135,"text":"Add an apartment, suite, building, etc."},{"type":2,"info":{"tagName":"INPUT","value":"ln","checked":null,"name":"street","type":"text","src":"","id":"","title":"","options":null,"selector":"form[name='billingAddressForm'] input[name='line2']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"billing_address_2","field_type":""},{"type":2,"info":{"tagName":"INPUT","value":"94303","checked":null,"name":"zip","type":"text","src":"","id":"","title":"","options":null,"selector":"form[name='billingAddressForm'] input[name='zipCodeField']","is_optional":"no","frame":"","timeout":"","comment":"","has_custom_selector":true},"text":"","field_key":"billing_zip","field_type":""},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"3000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"selector":"form[name='billingAddressForm'] input[name='city']","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null,"has_custom_selector":true},"field_key":"billing_city","field_type":""},{"type":2,"info":{"selector":"form[name='billingAddressForm'] select#stateCode","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"select","options":[{"text":"AL","value":"string:AL"},{"text":"AK","value":"string:AK"},{"text":"AZ","value":"string:AZ"},{"text":"AR","value":"string:AR"},{"text":"CA","value":"string:CA"},{"text":"CO","value":"string:CO"},{"text":"CT","value":"string:CT"},{"text":"DE","value":"string:DE"},{"text":"FL","value":"string:FL"},{"text":"GA","value":"string:GA"},{"text":"HI","value":"string:HI"},{"text":"ID","value":"string:ID"},{"text":"IL","value":"string:IL"},{"text":"IN","value":"string:IN"},{"text":"IA","value":"string:IA"},{"text":"KS","value":"string:KS"},{"text":"KY","value":"string:KY"},{"text":"LA","value":"string:LA"},{"text":"ME","value":"string:ME"},{"text":"MD","value":"string:MD"},{"text":"MA","value":"string:MA"},{"text":"MI","value":"string:MI"},{"text":"MN","value":"string:MN"},{"text":"MS","value":"string:MS"},{"text":"MO","value":"string:MO"},{"text":"MT","value":"string:MT"},{"text":"NE","value":"string:NE"},{"text":"NV","value":"string:NV"},{"text":"NH","value":"string:NH"},{"text":"NJ","value":"string:NJ"},{"text":"NM","value":"string:NM"},{"text":"NY","value":"string:NY"},{"text":"NC","value":"string:NC"},{"text":"ND","value":"string:ND"},{"text":"OH","value":"string:OH"},{"text":"OK","value":"string:OK"},{"text":"OR","value":"string:OR"},{"text":"PA","value":"string:PA"},{"text":"RI","value":"string:RI"},{"text":"SC","value":"string:SC"},{"text":"SD","value":"string:SD"},{"text":"TN","value":"string:TN"},{"text":"TX","value":"string:TX"},{"text":"UT","value":"string:UT"},{"text":"VT","value":"string:VT"},{"text":"VA","value":"string:VA"},{"text":"WA","value":"string:WA"},{"text":"WV","value":"string:WV"},{"text":"WI","value":"string:WI"},{"text":"WY","value":"string:WY"},{"text":"AS","value":"string:AS"},{"text":"DC","value":"string:DC"},{"text":"FM","value":"string:FM"},{"text":"GU","value":"string:GU"},{"text":"MH","value":"string:MH"},{"text":"MP","value":"string:MP"},{"text":"PW","value":"string:PW"},{"text":"PR","value":"string:PR"},{"text":"VI","value":"string:VI"},{"text":"VI","value":"string:VI"},{"text":"AE","value":"string:AE"},{"text":"AP","value":"string:AP"}],"text_only":"","comment":"","checked":null,"has_custom_selector":true},"field_key":"billing_state","field_type":""},{"type":1001,"info":{"selector":"form[name='billingAddressForm'] div.zipcodeMessageAlignParent select","frame":"","is_optional":"no","interval":"","js_code":"// injecting an input element for billing_city [tibi 2019-03-22]\r\nvar cityDropdown = __utils__.findOne(\"form[name='billingAddressForm'] div.zipcodeMessageAlignParent select\");\r\nif (cityDropdown) {\r\n  jQuery(\"body\").append('<input id=\"ttBillingCity\" type=\"text\">');\r\n}","timeout":"","comment":"","options":null,"checked":null,"has_custom_selector":true}},{"type":2,"info":{"selector":"input#ttBillingCity","frame":"","is_optional":"yes","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null},"field_key":"billing_city","field_type":""},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// selecting the option which matches with the previously injected input's textcontent [tibi2019-03-22]\r\nvar cityDropdown = __utils__.findAll(\"form[name='billingAddressForm'] div.zipcodeMessageAlignParent select option\");\r\nfor (var iPos=0; iPos<cityDropdown.length; iPos++) {\r\n  var el = cityDropdown[iPos];\r\n  var cityEntered = __utils__.findOne(\"input#ttBillingCity\");\r\n  if (el.textContent.replace(/,.*/,'').trim() == cityEntered.value.toUpperCase()) {\t\r\n\tel.parentNode.value = el.value;\r\n    __utils__.mouseEvent('change', el.parentNode);\r\n  }\r\n}","timeout":"","comment":"","options":null,"checked":null}},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"6000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"// making newsletter checkbox visible [brollyka] 2019-03-22\r\nvar checkboxNewsletter = __utils__.findOne(\"input#emailSubscription\");\r\nif (checkboxNewsletter) {\r\n\tcheckboxNewsletter.style.opacity = '1';\r\n\tcheckboxNewsletter.style.position = 'static';\r\n}","timeout":"","comment":"","options":null,"checked":null}},{"type":2,"info":{"selector":"input#emailSubscription","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"checkbox","checked":false,"comment":"","options":null,"has_custom_selector":true},"field_key":"news","field_type":"hardcode"},{"type":1000,"info":{"selector":null,"frame":"","is_optional":"no","interval":"3000","js_code":null,"timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"selector":"input[name='cardNumber']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","comment":"","options":null,"checked":null,"has_custom_selector":true}},{"type":2,"info":{"selector":"input[name='cardNumber']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"keypress","comment":"","options":null,"checked":null,"has_custom_selector":true},"field_key":"card_number","field_type":""},{"type":2,"info":{"selector":"select[name='cardExpiryMonth']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"select","options":[{"text":"01 - January","value":"01"},{"text":"02 - February","value":"02"},{"text":"03 - March","value":"03"},{"text":"04 - April","value":"04"},{"text":"05 - May","value":"05"},{"text":"06 - June","value":"06"},{"text":"07 - July","value":"07"},{"text":"08 - August","value":"08"},{"text":"09 - September","value":"09"},{"text":"10 - October","value":"10"},{"text":"11 - November","value":"11"},{"text":"12 - December","value":"12"}],"text_only":"","comment":"","checked":null,"has_custom_selector":true},"field_key":"expiry_date_month","field_type":""},{"type":2,"info":{"selector":"select[name='cardExpiryYear']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"SELECT","type":"select","options":[{"text":"2020","value":"2020"},{"text":"2021","value":"2021"},{"text":"2022","value":"2022"},{"text":"2023","value":"2023"},{"text":"2024","value":"2024"},{"text":"2025","value":"2025"},{"text":"2026","value":"2026"},{"text":"2027","value":"2027"},{"text":"2028","value":"2028"},{"text":"2029","value":"2029"},{"text":"2030","value":"2030"},{"text":"2031","value":"2031"},{"text":"2032","value":"2032"},{"text":"2033","value":"2033"},{"text":"2034","value":"2034"},{"text":"2035","value":"2035"}],"text_only":"","comment":"","checked":null,"has_custom_selector":true},"field_key":"expiry_date_year","field_type":""},{"type":2,"info":{"selector":"input[name='cvvField']","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","tagName":"INPUT","type":"text","comment":"","options":null,"checked":null,"has_custom_selector":true},"field_key":"cvv","field_type":""},{"type":20,"info":{"selector":"//body[//button[@name='placeOrderButton'][not(contains(@class, 'disabled'))]]","frame":"","is_optional":"no","interval":"","js_code":null,"timeout":"","comment":"making sure the \"Place order\" button isn't disabled so the order will crash before confirming","options":null,"checked":null,"has_custom_selector":true}},{"type":1001,"info":{"selector":"body","frame":"","is_optional":"no","interval":"","js_code":"//add \".\" to price \"$99.00\" instead of \"$9900\" - IL [04.11.16]\r\nvar elPrice = __utils__.findOne(\"//div[contains(@class, 'order-summary')]//span[contains(text(),'Total')]/following-sibling::span//span[contains(@class, 'price__format')][2]\");\r\nif (elPrice) {\r\n  elPrice.textContent = \".\" + elPrice.textContent.trim();\r\n}\r\n\r\n// also removing hidden price - [tibi 2019-06-15]\r\njQuery(\"div[data-automation-id='total_price']\").remove();","timeout":"","comment":"","options":null,"checked":null}},{"type":20,"info":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//button[@name='placeOrderButton'][not(contains(@class, 'disabled'))]","is_optional":"no","frame":"","timeout":"","comment":"","checked":null,"has_custom_selector":true},"x":300,"y":1374,"text":"Place Order"}],"checkout_recording_noauth_mobile":null,"checkout_recording_noauth_extension":null,"checkout_recording_noauth_six":null,"checkout_recording_noauth_server":null,"sales_tax_div_noauth":{"tagName":"SPAN","id":"","title":"","options":null,"selector":"//div[contains(@class, 'order-summary')]//span[contains(text(),'Tax')]/following-sibling::span","url":"https://secure2.homedepot.com/MCCCheckout/static/opc/opc.html#/checkout","recording_idx":"60","has_custom_selector":true,"frame":""},"sales_tax_div_noauth_mobile":null,"sales_tax_div_noauth_extension":null,"sales_tax_div_noauth_six":null,"sales_tax_div_noauth_server":null,"shipping_estimate_div_noauth":null,"shipping_estimate_div_noauth_mobile":null,"shipping_estimate_div_noauth_extension":null,"shipping_estimate_div_noauth_six":null,"shipping_estimate_div_noauth_server":null,"checkout_information_noauth":null,"checkout_information_noauth_mobile":null,"checkout_information_noauth_extension":null,"checkout_information_noauth_six":null,"checkout_information_noauth_server":null,"order_id_div_noauth":{"selector":"//div[contains(text(), 'Order')]/span[contains(text(), '#')]","has_custom_selector":true,"frame":""},"order_id_div_noauth_mobile":null,"order_id_div_noauth_extension":null,"order_id_div_noauth_six":null,"order_id_div_noauth_server":null,"coupon_value_div_noauth":{"selector":"//order-summary[@order='order']//span[contains(text(),'Total')]/following-sibling::span","has_custom_selector":true},"coupon_value_div_noauth_mobile":null,"coupon_value_div_noauth_extension":null,"coupon_value_div_noauth_six":null,"coupon_value_div_noauth_server":null,"gift_card_value_div_noauth":null,"gift_card_value_div_noauth_mobile":null,"gift_card_value_div_noauth_extension":null,"gift_card_value_div_noauth_six":null,"gift_card_value_div_noauth_server":null,"shipping_address_div_noauth":null,"shipping_address_div_noauth_mobile":null,"shipping_address_div_noauth_extension":null,"shipping_address_div_noauth_six":null,"shipping_address_div_noauth_server":null,"has_issues":false,"changelog":"RO-36049: Update cart selectors","add_to_cart_changes_div_mobile":null,"recording_start_urls_mobile":null,"parent_id":{"$oid":"6711398916331bddadadc6d4"},"created_at":{"$date":"2024-10-22T14:16:30.104Z"},"updated_at":{"$date":"2024-10-22T14:18:17.312Z"},"worker_honey_user_id":"291946166215633976","activated_at":{"$date":"2024-10-22T14:18:24.390Z"},"activated_by_honey_user_id":"291946166215633976","assignee_id":null}